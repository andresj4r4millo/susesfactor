//@ui5-bundle sap/sf/pp3-modules.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Avatar",["sap/ui/core/Control","sap/ui/core/IconPool","./AvatarRenderer","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/Icon","./library","sap/ui/core/library"],function(e,t,a,i,o,s,r,n){"use strict";var l=r.AvatarType;var p=r.AvatarImageFitType;var c=r.AvatarColor;var u=r.AvatarSize;var h=r.AvatarShape;var d=n.aria.HasPopup;var g=Object.keys(c).filter(function(e){return e.indexOf("Accent")!==-1});var f=e.extend("sap.m.Avatar",{metadata:{library:"sap.m",properties:{src:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},initials:{type:"string",group:"Data",defaultValue:null},displayShape:{type:"sap.m.AvatarShape",group:"Appearance",defaultValue:h.Circle},displaySize:{type:"sap.m.AvatarSize",group:"Appearance",defaultValue:u.S},customDisplaySize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"3rem"},customFontSize:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:"1.125rem"},imageFitType:{type:"sap.m.AvatarImageFitType",group:"Appearance",defaultValue:p.Cover},fallbackIcon:{type:"string",group:"Data",defaultValue:null},backgroundColor:{type:"sap.m.AvatarColor",group:"Appearance",defaultValue:c.Accent6},showBorder:{type:"boolean",group:"Appearance",defaultValue:false},badgeIcon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},badgeTooltip:{type:"string",group:"Data",defaultValue:null},decorative:{type:"boolean",group:"Accessibility",defaultValue:false},ariaHasPopup:{type:"sap.ui.core.aria.HasPopup",group:"Accessibility",defaultValue:d.None}},aggregations:{detailBox:{type:"sap.m.LightBox",multiple:false,bindable:"bindable"},_badge:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_icon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}},dnd:{draggable:true,droppable:false},designtime:"sap/m/designtime/Avatar.designtime"},renderer:a});f.DEFAULT_CIRCLE_PLACEHOLDER="sap-icon://person-placeholder";f.DEFAULT_SQUARE_PLACEHOLDER="sap-icon://product";f.AVATAR_BADGE_TOOLTIP={"sap-icon://zoom-in":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_ZOOMIN"),"sap-icon://camera":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_CAMERA"),"sap-icon://edit":sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP_EDIT")};f.prototype.init=function(){this._sActualType=null;this._bIsDefaultIcon=true;this._sImageFallbackType=null;this._sPickedRandomColor=null;this._badgeRef=null};f.prototype.onAfterRendering=function(){this._checkInitialsHolderWidth()};f.prototype.onThemeChanged=function(){this._checkInitialsHolderWidth()};f.prototype.exit=function(){if(this._fnLightBoxOpen){this._fnLightBoxOpen=null}if(this._badgeRef){this._badgeRef.destroy()}this._sPickedRandomColor=null};f.prototype.setDetailBox=function(e){var t=this.getDetailBox();if(e){if(e===t){return this}if(t){this.detachPress(this._fnLightBoxOpen,t)}this._fnLightBoxOpen=e.open;this.attachPress(this._fnLightBoxOpen,e)}else if(this._fnLightBoxOpen){this.detachPress(this._fnLightBoxOpen,t);this._fnLightBoxOpen=null}return this.setAggregation("detailBox",e)};f.prototype.clone=function(){var t=e.prototype.clone.apply(this,arguments),a=t.getDetailBox();if(a){t.detachPress(this._fnLightBoxOpen,this.getDetailBox());t._fnLightBoxOpen=a.open;t.attachPress(t._fnLightBoxOpen,a)}return t};f.prototype.attachPress=function(){Array.prototype.unshift.apply(arguments,["press"]);e.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")){this.$().attr("tabindex","0");this.$().attr("role","button")}return this};f.prototype.detachPress=function(){Array.prototype.unshift.apply(arguments,["press"]);e.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")){this.$().removeAttr("tabindex");this.$().attr("role","img")}return this};f.prototype.ontap=function(){this.firePress({})};f.prototype.onkeydown=function(e){if(e.which===i.SHIFT||e.which===i.ESCAPE){this._bShouldInterupt=this._bSpacePressed}if(e.which===i.SPACE){this._bSpacePressed=true;e.preventDefault()}if(e.which===i.ENTER){this.firePress({})}};f.prototype.onkeyup=function(e){if(e.which===i.SPACE){if(!this._bShouldInterupt){this.firePress({})}this._bShouldInterupt=false;this._bSpacePressed=false;e.stopPropagation()}};f.prototype._areInitialsValid=function(e){var t=/^[a-zA-Z]{1,3}$/;if(!t.test(e)){o.warning("Initials should consist of only 1,2 or 3 latin letters",this);this._sActualType=l.Icon;this._bIsDefaultIcon=true;return false}return true};f.prototype._validateSrc=function(e){if(t.isIconURI(e)){this._sActualType=l.Icon;this._bIsDefaultIcon=t.getIconInfo(e)?false:true}else{this._bIsDefaultIcon=true;this._sActualType=l.Image;this.preloadedImage=new window.Image;this.preloadedImage.src=e;this.preloadedImage.onload=this._onImageLoad.bind(this);this.preloadedImage.onerror=this._onImageError.bind(this)}return this};f.prototype._getDisplayIcon=function(e){return t.isIconURI(e)&&t.getIconInfo(e)?t.createControlByURI({src:e}):null};f.prototype._getActualDisplayType=function(){var e=this.getSrc(),t=this.getInitials();if(e){this._validateSrc(e)}else if(t&&this._areInitialsValid(t)){this._sActualType=l.Initials}else{o.warning("No src and initials were provided",this);this._sActualType=l.Icon;this._bIsDefaultIcon=true}return this._sActualType};f.prototype._getImageFallbackType=function(){var e=this.getInitials();this._sImageFallbackType=e&&this._areInitialsValid(e)?l.Initials:l.Icon;return this._sImageFallbackType};f.prototype._getDefaultIconPath=function(e){var a=null,i=this.getFallbackIcon();if(i&&t.isIconURI(i)){a=i}else if(e===h.Circle){a=f.DEFAULT_CIRCLE_PLACEHOLDER}else if(e===h.Square){a=f.DEFAULT_SQUARE_PLACEHOLDER}return a};f.prototype._getIcon=function(){var e=this.getSrc(),a=this.getAggregation("_icon"),i=this.getDisplayShape();if(this._bIsDefaultIcon){e=this._getDefaultIconPath(i)}if(!a){a=t.createControlByURI({alt:"Image placeholder",src:e});this.setAggregation("_icon",a)}else if(a.getSrc()!==e){a.setSrc(e)}return a};f.prototype._getDefaultTooltip=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("AVATAR_TOOLTIP")};f.prototype._getBadgeIconSource=function(){var e;if(this.getDetailBox()){e="sap-icon://zoom-in"}else if(this.getBadgeIcon()!==""){if(this._getDisplayIcon(this.getBadgeIcon())){e=this.getBadgeIcon()}else{o.warning("No valid Icon URI source for badge affordance was provided")}}return e};f.prototype._getBadgeTooltip=function(){var e=this._getDefaultTooltip(),t=this.getBadgeIcon();if(this.getBadgeTooltip()){e=this.getBadgeTooltip()}else if(t&&f.AVATAR_BADGE_TOOLTIP[this.getBadgeIcon()]){e=f.AVATAR_BADGE_TOOLTIP[t]}return e};f.prototype._getBadge=function(){var e=this._getBadgeIconSource(),t=this._getBadgeTooltip();if(!e){return}if(!this._badgeRef){this.setAggregation("_badge",new s({src:e,tooltip:t}))}this._badgeRef=this.getAggregation("_badge");return this._badgeRef};f.prototype._onImageLoad=function(){delete this.preloadedImage};f.prototype._onImageError=function(){var e=this._getImageFallbackType();this.$().removeClass("sapFAvatarImage").addClass("sapFAvatar"+e);delete this.preloadedImage};f.prototype._getActualBackgroundColor=function(){var e=this.getBackgroundColor();if(e===c.Random){if(this._sPickedRandomColor){return this._sPickedRandomColor}e=this._sPickedRandomColor=c[g[g.length*Math.random()<<0]]}else{this._sPickedRandomColor=null}return e};f.prototype._checkInitialsHolderWidth=function(){var e=this.$(),t=this.getInitials().length;this.$oInitialsHolder=e.children(".sapFAvatarInitialsHolder");if(this.$oInitialsHolder.length!==0&&t===3){var a=e[0].offsetWidth,i=this.$oInitialsHolder[0].offsetWidth;if(i>a){this._wideInitialsIcon()}}};f.prototype._wideInitialsIcon=function(){var e=this.$(),t=e.children(".sapFAvatarHiddenIcon");t.removeClass("sapFAvatarHiddenIcon");this.$oInitialsHolder.css("display","none");e.removeClass("sapFAvatarInitials");e.addClass("sapFAvatarIcon")};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/AvatarRenderer",["sap/m/library","sap/base/security/encodeCSS"],function(e,a){"use strict";var t=e.AvatarSize;var s=e.AvatarType;var r={apiVersion:2};r.render=function(e,r){var l=r.getInitials(),i=r._getActualDisplayType(),n=r._getImageFallbackType(),o=r.getDisplaySize(),p=r.getDisplayShape(),c=r.getImageFitType(),d=r.getCustomDisplaySize(),g=r.getCustomFontSize(),y=r.getSrc(),u="sapFAvatar",f=r.getTooltip_AsString(),S=r.getAriaLabelledBy(),I=r.getAriaDescribedBy(),b=r.getAriaHasPopup(),v=r.hasListeners("press")?r._getBadge():null,A=r._getDefaultTooltip(),C=l.length;e.openStart("span",r);e.class(u);e.class("sapFAvatarColor"+r._getActualBackgroundColor());e.class(u+o);e.class(u+i);e.class(u+p);if(r.hasListeners("press")){e.class("sapMPointer");e.class(u+"Focusable");e.attr("role","button");e.attr("tabindex",0)}else if(r.getDecorative()){e.attr("role","presentation");e.attr("aria-hidden","true")}else{e.attr("role","img")}if(r.getShowBorder()){e.class("sapFAvatarBorder")}if(o===t.Custom){e.style("width",d);e.style("height",d);e.style("font-size",g)}if(f){e.attr("title",f);e.attr("aria-label",f)}else if(l){e.attr("aria-label",A+" "+l)}else{e.attr("aria-label",A)}if(S&&S.length>0){e.attr("aria-labelledby",S.join(" "))}if(I&&I.length>0){e.attr("aria-describedby",I.join(" "))}if(b&&b!=="None"){e.attr("aria-haspopup",b.toLowerCase())}e.openEnd();if(i===s.Icon||n===s.Icon){e.renderControl(r._getIcon().addStyleClass(u+"TypeIcon"))}else if(i===s.Initials||n===s.Initials){if(C===3){e.renderControl(r._getIcon().addStyleClass(u+"TypeIcon").addStyleClass(u+"HiddenIcon"))}e.openStart("span");e.class(u+"InitialsHolder");e.openEnd();e.text(l);e.close("span")}if(i===s.Image){e.openStart("span");e.class(u+"ImageHolder");e.class(u+i+c);e.style("background-image","url('"+a(y)+"')");e.openEnd();e.close("span")}if(v){e.openStart("div");e.class(u+"BadgeIconActiveArea");if(d){e.style("font-size",d)}e.openEnd();e.openStart("span");e.class(u+"BadgeIcon");e.openEnd();e.renderControl(v);e.close("span");e.close("div")}e.close("span")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/DateTimeInput",["sap/ui/thirdparty/jquery","sap/ui/core/Control","./library","./DatePicker","./DateTimePicker","./TimePicker","sap/ui/model/type/Date","sap/ui/model/type/Time","sap/ui/model/type/DateTime","sap/ui/model/odata/type/ODataType","sap/ui/core/library","sap/ui/Device","./DateTimeInputRenderer","sap/ui/core/Configuration"],function(e,t,a,r,i,s,o,l,u,n,p,c,h,y){"use strict";var g=a.DateTimeInputType;var d=p.TextDirection;var m=p.TextAlign;var f=p.ValueState;var v=t.extend("sap.m.DateTimeInput",{metadata:{interfaces:["sap.m.IToolbarInteractiveControl"],library:"sap.m",deprecated:true,designtime:"sap/m/designtime/DateTimeInput.designtime",properties:{value:{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:"100%"},enabled:{type:"boolean",group:"Behavior",defaultValue:true},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:f.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},showValueStateMessage:{type:"boolean",group:"Misc",defaultValue:true},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},textAlign:{type:"sap.ui.core.TextAlign",group:"Appearance",defaultValue:m.Initial},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:d.Inherit},type:{type:"sap.m.DateTimeInputType",group:"Data",defaultValue:g.Date},displayFormat:{type:"string",group:"Appearance",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},dateValue:{type:"object",group:"Data",defaultValue:null}},aggregations:{_picker:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{value:{type:"string"},dateValue:{type:"object"},valid:{type:"boolean"}}}}},renderer:h});!function(t,r,i){var s=a.getLocaleData();e.extend(t,{_types:{Date:{valueFormat:s.getDatePattern("short"),displayFormat:s.getDatePattern("medium")},Time:{valueFormat:s.getTimePattern("short"),displayFormat:s.getTimePattern("short")},DateTime:{valueFormat:s.getDateTimePattern("short"),displayFormat:s.getDateTimePattern("short")}}});["Time","Date"].forEach(function(e,a){["valueFormat","displayFormat"].forEach(function(r){var i=t._types;i.DateTime[r]=i.DateTime[r].replace("{"+a+"}",i[e][r])})})}(v.prototype,e,c);v.prototype.init=function(){this.setType(g.Date)};v.prototype.onBeforeRendering=function(){V.call(this)};v.prototype.getFocusDomRef=function(){var e=T.call(this);return e.getFocusDomRef()};v.prototype.getIdForLabel=function(){var e=T.call(this);return e.getIdForLabel()};function D(e){var t;switch(e){case g.DateTime:t=new i(this.getId()+"-Picker");break;case g.Time:t=new s(this.getId()+"-Picker",{localeId:y.getFormatSettings().getFormatLocale().toString()});break;default:t=new r(this.getId()+"-Picker");break}t.setDisplayFormat(this.getDisplayFormat()||this._types[e].displayFormat);t.setValueFormat(this.getValueFormat()||this._types[e].valueFormat);if(this.getDateValue()){t.setDateValue(this.getDateValue())}t.setEnabled(this.getEnabled());t.setEditable(this.getEditable());t.setValueState(this.getValueState());t.setValueStateText(this.getValueStateText());t.setShowValueStateMessage(this.getShowValueStateMessage());t.setName(this.getName());t.setPlaceholder(this.getPlaceholder());t.setTextAlign(this.getTextAlign());t.setTextDirection(this.getTextDirection());t.setWidth("100%");t.attachChange(b,this);var a=this.getAriaLabelledBy();for(var o=0;o<a.length;o++){t.addAriaLabelledBy(a[o])}return t}v.prototype.setType=function(e){if(e==this.getType()&&T.call(this)){return this}this.destroyAggregation("_picker");var t=D.call(this,e);this.setAggregation("_picker",t);this.setProperty("type",e);return this};v.prototype.setWidth=function(e){this.setProperty("width",e);if(this.getDomRef()){e=this.getWidth();this.$().css("width",e)}return this};v.prototype.setValue=function(e){V.call(this);e=this.validateProperty("value",e);if(e.toLowerCase()=="now"){return this.setDateValue(new Date)}if(e===this.getValue()){return this}this.setProperty("value",e,true);var t=T.call(this);t.setValue(e);var a=t.getDateValue();this.setProperty("dateValue",a,true);return this};v.prototype.setDateValue=function(e){if(!this._isValidDate(e)){throw new Error("Date must be a JavaScript date object; "+this)}V.call(this);this.setProperty("dateValue",e,true);var t=T.call(this);t.setDateValue(e);var a=t.getValue();this.setProperty("value",a,true);return this};v.prototype.setDisplayFormat=function(e){this.setProperty("displayFormat",e,true);var t=T.call(this);t.setDisplayFormat(e||this._types[this.getType()].displayFormat);return this};v.prototype.setValueFormat=function(e){this.setProperty("valueFormat",e,true);var t=T.call(this);t.setValueFormat(e||this._types[this.getType()].ValueFormat);return this};v.prototype.setEnabled=function(e){this.setProperty("enabled",e,true);var t=T.call(this);t.setEnabled(e);return this};v.prototype.setEditable=function(e){this.setProperty("editable",e,true);var t=T.call(this);t.setEditable(e);return this};v.prototype.setValueState=function(e){this.setProperty("valueState",e,true);var t=T.call(this);t.setValueState(e);return this};v.prototype.setValueStateText=function(e){this.setProperty("valueStateText",e,true);var t=T.call(this);t.setValueStateText(e);return this};v.prototype.setShowValueStateMessage=function(e){this.setProperty("showValueStateMessage",e,true);var t=T.call(this);t.setShowValueStateMessage(e);return this};v.prototype.setName=function(e){this.setProperty("name",e,true);var t=T.call(this);t.setName(e);return this};v.prototype.setPlaceholder=function(e){this.setProperty("placeholder",e,true);var t=T.call(this);t.setPlaceholder(e);return this};v.prototype.setTextAlign=function(e){this.setProperty("textAlign",e,true);var t=T.call(this);t.setTextAlign(e);return this};v.prototype.setTextDirection=function(e){this.setProperty("textDirection",e,true);var t=T.call(this);t.setTextDirection(e);return this};v.prototype.addAriaLabelledBy=function(e){this.addAssociation("ariaLabelledBy",e,true);var t=T.call(this);t.addAriaLabelledBy(e);return this};v.prototype.removeAriaLabelledBy=function(e){this.removeAssociation("ariaLabelledBy",e,true);var t=T.call(this);t.removeAriaLabelledBy(e);return this};v.prototype.removeAllAriaLabelledBy=function(){this.removeAssociation("ariaLabelledBy",true);var e=T.call(this);e.removeAllAriaLabelledBy();return this};v.prototype.getAccessibilityInfo=function(){var e=T.call(this);return e&&e.getAccessibilityInfo?e.getAccessibilityInfo():null};v.prototype._getPickerByTypeAndPattern=function(e,t,a){var r=/[DdYyMLWwGQUur]/,i=/[HhKkmsa]/,s=i.test(a),o=r.test(a),l=s&&!o,u=o&&!s,n=o&&s,p,c;switch(e){case g.Time:case g.Date:case g.DateTime:if(l&&t.getMetadata().getName()!=="sap.m.TimePicker"){p=g.Time}else if(u&&t.getMetadata().getName()!=="sap.m.DatePicker"){p=g.Date}else if(n&&t.getMetadata().getName()!=="sap.m.DateTimePicker"){p=g.DateTime}break;default:{throw"Invalid type: "+e+". Expected is one of the sap.m.DateTimeInputType"}}if(p){this.destroyAggregation("_picker");c=D.call(this,p);this.setAggregation("_picker",c)}return c||t};v.prototype._getBoundValueTypePattern=function(){var e=this.getBinding("value"),t=e&&e.getType()&&e.getType();if(t instanceof o||t instanceof l||t instanceof u){return t.getOutputPattern()}if(t instanceof n&&t.oFormat){return t.oFormat.oFormatOptions.pattern}return undefined};v.prototype._getToolbarInteractive=function(){return true};function T(){return this.getAggregation("_picker")}v.prototype._isValidDate=function(e){return!e||Object.prototype.toString.call(e)==="[object Date]"};function V(){if(this._getBoundValueTypePattern()){var e=this._getBoundValueTypePattern();var t=T.call(this);t=this._getPickerByTypeAndPattern(this.getType(),t,e);if(t.getValueFormat()!=e){t.setValueFormat(e)}if(t.getDisplayFormat()!=e){t.setDisplayFormat(e)}}}function b(e){var t=e.getParameter("value");var a;var r=e.getParameter("valid");this.setProperty("value",t,true);if(r){a=e.oSource.getDateValue();this.setProperty("dateValue",a,true)}this.fireChange({value:t,newValue:t,valid:r,dateValue:a,newDateValue:a})}return v});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/DateTimeInputRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,r){e.openStart("div",r);e.class("sapMDTI");var t=r.getWidth();if(t){e.style("width",t)}e.openEnd();var i=r.getAggregation("_picker");if(i){e.renderControl(i)}e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MaskEnabler",["sap/ui/core/Control","./InputBase","sap/ui/Device","sap/ui/core/library","sap/ui/core/IconPool","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/thirdparty/jquery","sap/m/MaskInputRule","sap/ui/core/Configuration","sap/ui/dom/jquery/cursorPos"],function(t,e,i,s,n,o,r,a,l,h){"use strict";var u=s.TextDirection;var p=function(){var s="^";this.init=p.init=function(){e.prototype.init.call(this);this._iCaretTimeoutId=null;this._iUserInputStartPosition=null;this._iMaskLength=null;this._sOldInputValue=null;this._oRules=null;this._oTempValue=null;this._bSkipSetupMaskVariables=null;this._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._setDefaultRules();this._setupMaskVariables()};this.exit=p.exit=function(){this._iCaretTimeoutId=null;this._iUserInputStartPosition=null;this._iMaskLength=null;this._sOldInputValue=null;this._oRules=null;this._oTempValue=null;this._bSkipSetupMaskVariables=null};this.onBeforeRendering=function(){if(this._isMaskEnabled()){var t=this._validateDependencies();if(t){r.warning("Invalid mask input: "+t)}}e.prototype.onBeforeRendering.apply(this,arguments);this.getShowClearIcon&&this.getShowClearIcon()&&this._getClearIcon().setVisible(this.getProperty("effectiveShowClearIcon"))};this.onAfterRendering=function(){e.prototype.onAfterRendering.apply(this,arguments)};this.onfocusin=p.onfocusin=function(t){this._sOldInputValue=this._getInputValue();e.prototype.onfocusin.apply(this,arguments);if(this._isMaskEnabled()){if(!this._oTempValue.differsFromOriginal()||!this._isValidInput(this._sOldInputValue)){this._applyMask()}this._positionCaret(true)}};this.onfocusout=function(t){if(this._isMaskEnabled()){this.bFocusoutDueRendering=this.bRenderingPhase;this.removeStyleClass("sapMFocus");a(document).off(".sapMIBtouchstart");if(this.bRenderingPhase){return}this.closeValueStateMessage();this._inputCompletedHandler()}else{this._inputCompletedHandlerNoMask();e.prototype.onfocusout.apply(this,arguments)}};this.oninput=function(t){if(this._isChromeOnAndroid()){this._onInputForAndroidHandler(t);return}e.prototype.oninput.apply(this,arguments);if(this._isMaskEnabled()){this._applyMask();this._positionCaret(false)}var i=this.getDOMValue();if(!this._isMaskEnabled()&&i!==this._sPreviousValue){this._fireLiveChange(i,this._sPreviousValue);this._sPreviousValue=i}};this.onkeypress=function(t){if(this._isMaskEnabled()){this._keyPressHandler(t)}if(this.getDOMValue()!==""){this._setClearIconVisibility()}};this.onkeydown=p.onkeydown=function(t){if(this._isMaskEnabled()){var i=this._parseKeyBoardEvent(t);e.prototype.onkeydown.apply(this,arguments);this._keyDownHandler(t,i);if(this.getDOMValue()!==""){this._setClearIconVisibility()}}else{var i=this._parseKeyBoardEvent(t);if(i.bEnter){this._inputCompletedHandlerNoMask()}e.prototype.onkeydown.apply(this,arguments)}};this.onsapenter=function(t){};this.onsapfocusleave=function(t){};this.onsapescape=function(t){if(this._oTempValue._aContent.join("")!==this._oTempValue._aInitial.join("")){e.prototype.onsapescape.call(this,t)}this._bCheckForLiveChange=true};this._setClearIconVisibility=function(t){var e=t!==undefined?t:!this._isValueEmpty();if(this.getShowClearIcon&&this.getShowClearIcon()){this.setProperty("effectiveShowClearIcon",e);this._getClearIcon().setVisible(this.getProperty("effectiveShowClearIcon"))}};this._getClearIcon=function(){if(this._oClearButton){return this._oClearButton}this._oClearButton=this.addEndIcon({src:n.getIconURI("decline"),noTabStop:true,visible:false,alt:this._oRb.getText("INPUT_CLEAR_ICON_ALT"),useIconTooltip:false,press:function(){if(!this._isValueEmpty()){this.fireChange({value:""});this.setValue("");this.setProperty("effectiveShowClearIcon",false);this._getClearIcon().setVisible(false);setTimeout(function(){if(i.system.desktop){this.focus()}},0)}}.bind(this)});return this._oClearButton};this._isValueEmpty=function(){var t=this.getDOMValue(),e=this._oTempValue._aInitial.join("");return t==e};this.getDOMValue=function(){return this._$input.val()};this.setValue=p.setValue=function(t){t=this.validateProperty("value",t);e.prototype.setValue.call(this,t);this._sOldInputValue=t;if(this._isMaskEnabled()){if(!this._oTempValue){this._setupMaskVariables()}if(this._oTempValue._aInitial.join("")!==t){this._applyRules(t)}}this._setClearIconVisibility(t!=="");return this};this.addAggregation=function(e,i,s){if(e==="rules"){if(!this._validateRegexAgainstPlaceHolderSymbol(i)){return this}this._removeRuleWithSymbol(i.getMaskFormatSymbol());t.prototype.addAggregation.apply(this,arguments);if(!this._bSkipSetupMaskVariables){this._setupMaskVariables()}return this}return t.prototype.addAggregation.apply(this,arguments)};this.insertAggregation=function(e,i,s,n){if(e==="rules"){if(!this._validateRegexAgainstPlaceHolderSymbol(i)){return this}this._removeRuleWithSymbol(i.getMaskFormatSymbol());t.prototype.insertAggregation.apply(this,arguments);this._setupMaskVariables();return this}return t.prototype.insertAggregation.apply(this,arguments)};this._validateRegexAgainstPlaceHolderSymbol=function(t){if(new RegExp(t.getRegex()).test(this.getPlaceholderSymbol())){r.error("Rejecting input mask rule because it includes the currently set placeholder symbol.");return false}return true};this.setPlaceholderSymbol=function(t){var e;if(!/^.$/i.test(t)){r.error("Invalid placeholder symbol string given");return this}e=this.getRules().some(function(e){return new RegExp(e.getRegex()).test(t)});if(e){r.error("Rejecting placeholder symbol because it is included as a regex in an existing mask input rule.")}else{this.setProperty("placeholderSymbol",t);this._setupMaskVariables()}return this};this.setMask=function(t){if(!t){var e="Setting an empty mask is pointless. Make sure you set it with a non-empty value.";r.warning(e);return this}this.setProperty("mask",t,true);this._setupMaskVariables();return this};this._isCharAllowed=function(t,e){return this._oRules.applyCharAt(t,e)};this._feedReplaceChar=function(t,e,i){return t};this._inputCompletedHandlerNoMask=function(){var t=this._getInputValue();if(this._sOldInputValue!==t){e.prototype.setValue.call(this,this._getAlteredUserInputValue?this._getAlteredUserInputValue(t):t);this._sOldInputValue=t;if(this.onChange&&!this.onChange({value:t})){this.fireChangeEvent(t)}}};var f=function(t){this._aInitial=t.slice(0);this._aContent=t};f.prototype.setCharAt=function(t,e){this._aContent[e]=t};f.prototype.charAt=function(t){return this._aContent[t]};f.prototype.toString=function(){return this._aContent.join("")};f.prototype.differsFromOriginal=function(){return this.differsFrom(this._aInitial)};f.prototype.differsFrom=function(t){var e=0;if(t.length!==this._aContent.length){return true}for(;e<t.length;e++){if(t[e]!==this._aContent[e]){return true}}return false};f.prototype.getSize=function(){return this._aContent.length};var _=function(t){this._aRules=t};_.prototype.nextTo=function(t){if(typeof t==="undefined"){t=-1}do{t++}while(t<this._aRules.length&&!this._aRules[t]);return t};_.prototype.previousTo=function(t){do{t--}while(!this._aRules[t]&&t>0);return t};_.prototype.hasRuleAt=function(t){return!!this._aRules[t]};_.prototype.applyCharAt=function(t,e){return this._aRules[e].test(t)};this.updateDomValue=function(t){e.prototype.updateDomValue.call(this,t);if(this._bCheckForLiveChange&&t!==this._sPreviousValue){this._fireLiveChange(t,this._sPreviousValue);this._sPreviousValue=t}this._bCheckForLiveChange=false};this._fireLiveChange=function(t,e){this.fireLiveChange&&this.fireLiveChange({value:t,previousValue:e})};this._setDefaultRules=function(){this._bSkipSetupMaskVariables=true;this.addRule(new l({maskFormatSymbol:"a",regex:"[A-Za-z]"}),true);this.addRule(new l({maskFormatSymbol:"9",regex:"[0-9]"}),true);this._bSkipSetupMaskVariables=false};this._validateDependencies=function(){var t=this.getPlaceholderSymbol(),e=this.getRules(),i=[],s=[];if(!this.getMask()){s.push("Empty mask")}if(e.length){i=[];e.every(function(e){var n=e.getMaskFormatSymbol(),o=n!==t,r;r=!i.some(function(t){return n===t});i.push(n);if(!o){s.push("Placeholder symbol is the  same as the existing rule's mask format symbol")}if(!r){s.push("Duplicated rule's maskFormatSymbol ["+n+"]")}return o&&r})}return s.length?s.join(". "):null};this._removeRuleWithSymbol=function(t){var e=this._findRuleBySymbol(t,this.getRules());if(e){this.removeAggregation("rules",e.oRule);e.oRule.destroy()}};this._findRuleBySymbol=function(t,e){var i=null;if(typeof t!=="string"||t.length!==1){r.error(t+" is not a valid mask rule symbol");return null}a.each(e,function(e,s){if(s.getMaskFormatSymbol()===t){i={oRule:s,iIndex:e};return false}});return i};this._getTextSelection=function(){var t=a(this.getFocusDomRef());if(!t&&(t.length===0||t.is(":hidden"))){return{}}return{iFrom:t[0].selectionStart,iTo:t[0].selectionEnd,bHasSelection:t[0].selectionEnd-t[0].selectionStart!==0}};this._setCursorPosition=function(t){if(t<0){t=0}a(this.getFocusDomRef()).cursorPos(t);return this};this._getCursorPosition=function(){return a(this.getFocusDomRef()).cursorPos()};this._setupMaskVariables=function(){var t=this.getRules(),e=this.getMask(),i=this._getSkipIndexes(e),s=this._getMaskArray(e,i),n=this.getPlaceholderSymbol(),o=this._buildMaskValueArray(s,n,t,i),r=this._buildRules(s,t,i);this._oTempValue=new f(o);this._iMaskLength=r.length;this._oRules=new _(r);this._iUserInputStartPosition=this._oRules.nextTo()};this._getMaskArray=function(t,e){var i=Array.isArray(e)?e.length:0,s=t?t.split(""):[],n;for(n=0;n<i;n++){s.splice(e[n],1)}return s};this._getSkipIndexes=function(t){var e=t?t.length:0,i,n=[],o=0,r=false;for(i=0;i<e;i++){if(t[i]===s&&!r){n.push(i-o);r=true;o++}else{r=false}}return n};this._applyMask=function(){var t=this._getInputValue();if(!this.getEditable()){return}this._applyAndUpdate(t)};this._resetTempValue=function(t,e){var i,s=this.getPlaceholderSymbol();if(typeof t==="undefined"||t===null){t=0;e=this._oTempValue.getSize()-1}for(i=t;i<=e;i++){if(this._oRules.hasRuleAt(i)){this._oTempValue.setCharAt(s,i)}}};this._applyAndUpdate=function(t){if(this._oTempValue&&(this._sPreviousValue===undefined||this._sPreviousValue==="")){this._sPreviousValue=this._oTempValue.toString();this._bCheckForLiveChange=false}else if(!this._bCutInProgress){this._bCheckForLiveChange=true}this._applyRules(t);this.updateDomValue(this._oTempValue.toString())};this._findFirstPlaceholderPosition=function(){return this._oTempValue.toString().indexOf(this.getPlaceholderSymbol())};this._applyRules=function(t){var e,i=0,s,n=this.getPlaceholderSymbol(),o;if(this._oTempValue.toString()===t){return}for(s=0;s<this._iMaskLength;s++){if(this._oRules.hasRuleAt(s)){this._oTempValue.setCharAt(n,s);o=false;if(t.length){do{e=t.charAt(i);i++;if(this._oRules.applyCharAt(e,s)){this._oTempValue.setCharAt(e,s);o=true}}while(!o&&i<t.length)}if(!o){this._resetTempValue(s+1,this._iMaskLength-1);break}}else{if(this._oTempValue.charAt(s)===t.charAt(i)){i++}}}};this._keyPressHandler=function(t,e){var i,s,n;if(!this.getEditable()){return}e=e||this._parseKeyBoardEvent(t);if(e.bCtrlKey||e.bAltKey||e.bMetaKey||e.bBeforeSpace){return}i=this._getTextSelection();if(!e.bEnter&&!e.bShiftLeftOrRightArrow&&!e.bHome&&!e.bEnd&&!(e.bShift&&e.bDelete)&&!(e.bCtrlKey&&e.bInsert)&&!(e.bShift&&e.bInsert)){if(i.bHasSelection){this._resetTempValue(i.iFrom,i.iTo-1);this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(Math.max(this._iUserInputStartPosition,i.iFrom))}s=this._oRules.nextTo(i.iFrom-1);if(s<this._iMaskLength){n=this._feedReplaceChar(e.sChar,s,this._getInputValue());this._feedNextString(n,s)}t.preventDefault()}};this.oncut=function(t){var i=this._getTextSelection(),s=this._getMinBrowserDelay(),n=i.iFrom,o=i.iTo;e.prototype.oncut(t);if(!i.bHasSelection||!this._isMaskEnabled()){return}o=o-1;this._resetTempValue(n,o);this._bCutInProgress=true;setTimeout(function t(e,i,n){this._oTempValue._aContent=n;this._bCheckForLiveChange=true;this._bCutInProgress=false;this.updateDomValue(e);setTimeout(this._setCursorPosition.bind(this,i),s)}.bind(this,this._oTempValue.toString(),Math.max(this._iUserInputStartPosition,n),this._oTempValue._aContent.slice(0)),s)};this.onpaste=function(){this._bCheckForLiveChange=true};this._keyDownHandler=function(t,i){var s,n,o,r,i=i||this._parseKeyBoardEvent(t);if(!this.getEditable()){return}if(!i.bShift&&(i.bArrowRight||i.bArrowLeft)){o=this._getCursorPosition();n=this._getTextSelection();s=this._determineArrowKeyDirection(i,n);if(this._isRtlMode()&&n.bHasSelection){r=this._determineRtlCaretPositionFromSelection(s)}else{r=this._oRules[s](o)}if(this._isWebkitProblematicCase()){r=this._fixWebkitBorderPositions(r,s)}this._setCursorPosition(r);t.preventDefault()}else if(i.bEscape){this._applyAndUpdate(this._sOldInputValue);this._positionCaret(true);t.preventDefault()}else if(i.bEnter){this._inputCompletedHandler(t)}else if(i.bCtrlKey&&i.bInsert||i.bShift&&i.bInsert){e.prototype.onkeydown.apply(this,arguments)}else if(!i.bShift&&i.bDelete||i.bBackspace){this._revertKey(i);t.preventDefault()}else if(this._isChromeOnAndroid()){this._oKeyDownStateAndroid={sValue:this._oTempValue.toString(),iCursorPosition:this._getCursorPosition(),oSelection:this._getTextSelection()}}};this._revertKey=function(t,e){e=e||this._getTextSelection();var i=e.iFrom,s=e.iTo;if(!e.bHasSelection){if(t.bBackspace){i=this._oRules.previousTo(i)}}if(t.bBackspace||t.bDelete&&e.bHasSelection){s=s-1}this._resetTempValue(i,s);this._bCheckForLiveChange=true;this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(Math.max(this._iUserInputStartPosition,i))};this._feedNextString=function(t,e){var i,s=false,n=t.split(""),o;while(n.length){o=n.splice(0,1)[0];if(this._oRules.applyCharAt(o,e)){s=true;this._oTempValue.setCharAt(o,e);e=this._oRules.nextTo(e)}}if(s){i=e;this._bCheckForLiveChange=true;this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(i)}};this._inputCompletedHandler=function(){var t=this._getInputValue(),i,s,n,o;if(this._oTempValue.differsFrom(t)){this._applyAndUpdate(t)}i=this._oTempValue.differsFromOriginal();s=i?this._oTempValue.toString():"";n=!this._sOldInputValue||!this.getValue();o=!t;if(n&&(o||!i)){this.updateDomValue("");return}if(this._sOldInputValue!==this._oTempValue.toString()){e.prototype.setValue.call(this,this._getAlteredUserInputValue?this._getAlteredUserInputValue(s):s);this._sOldInputValue=s;if(this.onChange&&!this.onChange({value:s})){this.fireChangeEvent(s)}}};this._buildMaskValueArray=function(t,e,i,s){return t.map(function(t,n){var o=s.indexOf(n)===-1,r=this._findRuleBySymbol(t,i);return o&&r?e:t},this)};this._buildRules=function(t,e,i){var s=[],n,o=t.length,r=0;for(;r<o;r++){if(i.indexOf(r)===-1){n=this._findRuleBySymbol(t[r],e);s.push(n?new RegExp(n.oRule.getRegex()):null)}else{s.push(null)}}return s};this._parseKeyBoardEvent=function(t){var e=t.which||t.keyCode,s=o,n=e===s.ARROW_RIGHT,r=e===s.ARROW_LEFT,a=t.shiftKey;return{iCode:e,sChar:String.fromCharCode(e),bCtrlKey:t.ctrlKey,bAltKey:t.altKey,bMetaKey:t.metaKey,bShift:a,bInsert:e===o.INSERT,bBackspace:e===s.BACKSPACE,bDelete:e===s.DELETE,bEscape:e===s.ESCAPE,bEnter:e===s.ENTER,bIphoneEscape:i.system.phone&&i.os.ios&&e===127,bArrowRight:n,bArrowLeft:r,bHome:e===o.HOME,bEnd:e===o.END,bShiftLeftOrRightArrow:a&&(r||n),bBeforeSpace:e<s.SPACE}};this._positionCaret=function(t){var e=this.getMask(),i=this._getMinBrowserDelay(),s;clearTimeout(this._iCaretTimeoutId);s=this._findFirstPlaceholderPosition();if(s<0){s=e.length}this._iCaretTimeoutId=setTimeout(function(){if(this.getFocusDomRef()!==document.activeElement){return}if(t&&s===e.length){this.selectText(0,s)}else{this._setCursorPosition(s)}}.bind(this),i);this._setClearIconVisibility()};this._getMinBrowserDelay=function(){return 4};this._isValidInput=function(t){var e=t.length,i=0,s;for(;i<e;i++){s=t[i];if(this._oRules.hasRuleAt(i)&&(!this._oRules.applyCharAt(s,i)&&s!==this.getPlaceholderSymbol())){return false}if(!this._oRules.hasRuleAt(i)&&s!==this._oTempValue.charAt(i)){return false}}return true};this._isRtlChar=function(t){var e="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿"+"Ⰰ-﬜﷾-﹯﻽-￿",i="֑-߿יִ-﷽ﹰ-ﻼ",s=new RegExp("^[^"+e+"]*["+i+"]");return s.test(t)};this._fixWebkitBorderPositions=function(t,e){var i=this._oTempValue.toString().length;if(e==="nextTo"){if(t===0||t===i||t===1){t=0}else if(t===i+1){t=1}}else{if(t===0||t===i-1){t=i}else if(t===-1||t===i){t=i-1}}return t};this._containsRtlChars=function(){var t=this._oTempValue.toString(),e=false;for(var i=0;i<t.length;i++){e=this._isRtlChar(t[i])}return e};this._isRtlMode=function(){return h.getRTL()||this.getTextDirection()===u.RTL};this._isWebkitProblematicCase=function(){return i.browser.webkit&&this._isRtlMode()&&!this._containsRtlChars()};this._determineArrowKeyDirection=function(t,e){var i;if(!this._isRtlMode()||!this._containsRtlChars()||e.bHasSelection){if(t.bArrowRight){i="nextTo"}else{i="previousTo"}}else{if(t.bArrowRight){i="previousTo"}else{i="nextTo"}}return i};this._determineRtlCaretPositionFromSelection=function(t,e){var i,s=this._getTextSelection();if(e){if(t==="nextTo"){if(!this._containsRtlChars()){i=s.iFrom}else{i=s.iTo}}else{if(!this._containsRtlChars()){i=s.iTo}else{i=s.iFrom}}}else{if(t==="nextTo"){if(!this._containsRtlChars()){i=s.iTo}else{i=s.iFrom}}else{if(!this._containsRtlChars()){i=s.iFrom}else{i=s.iTo}}}return i};this._onInputForAndroidHandler=function(t){var e;if(!this._oKeyDownStateAndroid){return}e=this._buildKeyboardEventInfo(this._oKeyDownStateAndroid.sValue,this._getInputValue(),this._oKeyDownStateAndroid.oSelection);this.updateDomValue(this._oKeyDownStateAndroid.sValue);setTimeout(function(t,e,i){this._setCursorPosition(e.iCursorPosition);if(i.bBackspace){this._revertKey(i,e.oSelection);if(e.oSelection.bHasSelection&&i.sChar){this._keyPressHandler(t,i)}}else{this._keyPressHandler(t,i)}}.bind(this,t,this._oKeyDownStateAndroid,e),0);delete this._oKeyDownStateAndroid;t.preventDefault()};this._buildKeyboardEventInfo=function(t,e,i){var s="",n,o={},r;if(!t&&!e){return{}}if(t&&e&&e.length<t.length){o.bBackspace=true}for(n=0;n<e.length;n++){r=i.bHasSelection&&i.iFrom===n;if(r||t[n]!==e[n]){s=e[n];break}}o.sChar=s;return o};this._isChromeOnAndroid=function(){return i.browser.chrome&&i.os.android}};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MaskInput",["./InputBase","./MaskEnabler","./MaskInputRenderer"],function(e,a,t){"use strict";var r=e.extend("sap.m.MaskInput",{metadata:{library:"sap.m",properties:{placeholderSymbol:{type:"string",group:"Misc",defaultValue:"_"},mask:{type:"string",group:"Misc",defaultValue:null},showClearIcon:{type:"boolean",defaultValue:false},effectiveShowClearIcon:{type:"boolean",defaultValue:false,visibility:"hidden"}},aggregations:{rules:{type:"sap.m.MaskInputRule",multiple:true,singularName:"rule"}},events:{liveChange:{parameters:{value:{type:"string"},previousValue:{type:"string"}}}},dnd:{draggable:false,droppable:true}},renderer:t});a.call(r.prototype);r.prototype._isMaskEnabled=function(){return true};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MaskInputRenderer",["sap/ui/core/Renderer","./InputBaseRenderer"],function(e,t){"use strict";var n=e.extend(t);n.apiVersion=2;n.getAccessibilityState=function(e){var n=sap.ui.getCore().getLibraryResourceBundle("sap.m"),r=n.getText("MASKINPUT_ROLE_DESCRIPTION"),i=t.getAccessibilityState.apply(this,arguments);i["roledescription"]=r;return i};n.getLabelledByAnnouncement=function(e){var n=e.getMask();if(n&&n.length){return e.getPlaceholder()||""}return t.getLabelledByAnnouncement.apply(this,arguments)};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MaskInputRule",["sap/ui/core/Element","sap/base/Log"],function(t,e){"use strict";var r=t.extend("sap.m.MaskInputRule",{metadata:{library:"sap.m",properties:{maskFormatSymbol:{type:"string",group:"Misc",defaultValue:"*"},regex:{type:"string",group:"Misc",defaultValue:"[a-zA-Z0-9]"}}}});r.prototype.setMaskFormatSymbol=function(t){var e=s.call(this,t);if(e){this.setProperty("maskFormatSymbol",t)}return this};r.prototype.setRegex=function(t){var e=a.call(this,t);if(e){this.setProperty("regex",t)}return this};r.prototype.toString=function(){return this.getMaskFormatSymbol()+":"+this.getRegex()};function s(t){if(/^.$/i.test(t)){return true}e.error("The mask format symbol '"+t+"' is not valid");return false}function a(t){if(/.+/i.test(t)){return true}e.error("The regex value '"+t+"' is not valid");return false}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/Menu",["./library","sap/ui/core/Control","./Button","./Dialog","./NavContainer","./List","./Page","./MenuListItem","sap/ui/unified/Menu","sap/ui/unified/MenuItem","sap/ui/Device","sap/ui/core/EnabledPropagator","sap/ui/thirdparty/jquery","sap/ui/core/Popup"],function(t,e,i,n,s,o,a,r,u,g,l,p,h,m){"use strict";var d=m.Dock;var _=t.ListType;var I=t.ListMode;var f=e.extend("sap.m.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.m",properties:{title:{type:"string",group:"Misc",defaultValue:null}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MenuItem",multiple:true,singularName:"item",bindable:"bindable"},_dialog:{type:"sap.m.Dialog",multiple:false,visibility:"hidden"},_menu:{type:"sap.ui.unified.Menu",multiple:false,visibility:"hidden"}},events:{itemSelected:{parameters:{item:{type:"sap.m.MenuItem"}}},closed:{}}},renderer:null});p.call(f.prototype);f.UNIFIED_MENU_ITEMS_ID_SUFFIX="-unifiedmenu";f.UNFIFIED_MENU_ITEMS_PROPS=g.getMetadata().getAllProperties();f.LIST_ITEMS_ID_SUFFIX="-menuinnerlist";f.MENU_LIST_ITEMS_PROPS=r.getMetadata().getAllProperties();f.prototype.init=function(){if(l.system.phone){this._initDialog()}this._bIsInitialized=false};f.prototype.exit=function(){if(this._navContainerId){this._navContainerId=null}if(this._bIsInitialized){this._bIsInitialized=null}if(this._getMenu()&&this._getMenu().getPopup()){this._getMenu().getPopup().detachClosed(this._menuClosed,this)}};f.prototype.invalidate=function(){};f.prototype.setTitle=function(t){var e=this._getNavContainer();this.setProperty("title",t,true);if(e&&e.getPages().length){e.getPages()[0].setTitle(t)}return this};f.prototype.openBy=function(t,e,i,n,s){if(l.system.phone){this._openDialog()}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true}if(!i){i=d.BeginTop}if(!n){n=d.BeginBottom}if(!s){s="0 -2"}this._getMenu().open(e,t,i,n,t,s)}};f.prototype.close=function(){if(l.system.phone){this._getDialog()&&this._getDialog().close()}else{this._getVisualParent()&&this._getVisualParent().close()}};f.prototype._initDialog=function(){var t=new n({showHeader:false,stretch:true,content:this._initNavContainer(),buttons:[this._initCloseButton()]});t.addStyleClass("sapMRespMenuDialog");t.addStyleClass("sapUiNoContentPadding");this.setAggregation("_dialog",t,true);t.attachAfterClose(this._menuClosed,this)};f.prototype._getDialog=function(){return this.getAggregation("_dialog")};f.prototype._openDialog=function(){if(!this._bIsInitialized){this._initAllPages();this._bIsInitialized=true}this._getNavContainer().to(this._getNavContainer().getPages()[0]);this._getDialog().open()};f.prototype._initAllMenuItems=function(){this._initMenuForItems(this.getItems())};f.prototype._setCustomEnhanceAccStateFunction=function(t){this._fnEnhanceUnifiedMenuAccState=t};f.prototype._initMenuForItems=function(t,e){var i=new u;i._setCustomEnhanceAccStateFunction(this._fnEnhanceUnifiedMenuAccState);i.isCozy=this._isMenuCozy.bind(this,i);this.addStyleClass("sapMMenu");i.aCustomStyleClasses=this.aCustomStyleClasses;i.mCustomStyleClassMap=this.mCustomStyleClassMap;t.forEach(function(t){this._addVisualMenuItemFromItem(t,i)}.bind(this));if(e){e.setSubmenu(i)}else{i.getPopup().attachClosed(this._menuClosed,this);this.setAggregation("_menu",i,true)}i.attachItemSelect(this._handleMenuItemSelect,this)};f.prototype._menuClosed=function(){this.fireClosed()};f.prototype._getMenu=function(){return this.getAggregation("_menu")};f.prototype._initCloseButton=function(){var t=sap.ui.getCore().getLibraryResourceBundle("sap.m");return new i({text:t.getText("MENU_CLOSE"),press:c.bind(this)})};function c(){this._getDialog().close()}f.prototype._initNavContainer=function(){var t=new s;this._navContainerId=t.getId();return t};f.prototype._getNavContainer=function(){return sap.ui.getCore().byId(this._navContainerId)};f.prototype._initAllPages=function(){this._initPageForParent(this)};f.prototype._initPageForParent=function(t){var e=t.getItems(),i=t instanceof f,n=i?t.getTitle():t.getText(),s=new o({mode:I.None}),r=new a({title:n,showNavButton:!i,content:s});if(!i){this._setBackButtonTooltipForPageWithParent(t,r)}r.attachNavButtonPress(function(){this._getNavContainer().back()},this);this._getNavContainer().addPage(r);e.forEach(function(t){this._addListItemFromItem(t,r)},this);this._updateListInset(s);s.attachEvent("itemPress",this._handleListItemPress,this);return r};f.prototype._handleListItemPress=function(t){var e=t.getParameter("listItem"),i=sap.ui.getCore().byId(e.getMenuItem()),n=i._getVisualChild();if(n){this._getNavContainer().to(n)}else{this._getDialog().close();this.fireItemSelected({item:i})}i.firePress()};f.prototype._setBackButtonTooltipForPageWithParent=function(t,e){var i=t.getParent(),n=sap.ui.getCore().getLibraryResourceBundle("sap.m"),s;s=i instanceof f?i.getTitle():i.getText();s=n.getText("MENU_PAGE_BACK_BUTTON")+" "+s;e.setNavButtonTooltip(s)};f.prototype._createMenuListItemFromItem=function(t){return new r({id:this._generateListItemId(t.getId()),type:t.getEnabled()?_.Active:_.Inactive,icon:t.getIcon(),title:t.getText(),startsSection:t.getStartsSection(),menuItem:t,tooltip:t.getTooltip(),visible:t.getVisible(),enabled:t.getEnabled()})};f.prototype._createVisualMenuItemFromItem=function(t){var e=new g({id:this._generateUnifiedMenuItemId(t.getId()),icon:t.getIcon(),text:t.getText(),startsSection:t.getStartsSection(),tooltip:t.getTooltip(),visible:t.getVisible(),enabled:t.getEnabled()}),i,n=t.getCustomData();for(i=0;i<n.length;i++){t._addCustomData(e,n[i])}return e};f.prototype._addVisualMenuItemFromItem=function(t,e,i){var n=this._createVisualMenuItemFromItem(t);t._setVisualParent(e);t._setVisualControl(n);var s=["aggregationChanged","propertyChanged"];s.forEach(function(e){var i="_on"+e.slice(0,1).toUpperCase()+e.slice(1);t.attachEvent(e,this[i],this)},this);if(t.getItems().length!==0){this._initMenuForItems(t.getItems(),n);t._setVisualChild(t.getItems()[0]._getVisualParent())}if(i===undefined){e.addItem(n)}else{e.insertItem(n,i)}};f.prototype._addListItemFromItem=function(t,e,i){var n=this._createMenuListItemFromItem(t),s=e.getContent()[0];t._setVisualParent(e);t._setVisualControl(n);var o=["aggregationChanged","propertyChanged"];o.forEach(function(e){var i="_on"+e.slice(0,1).toUpperCase()+e.slice(1);t.attachEvent(e,this[i],this)},this);if(t.getItems().length!==0){this._initPageForParent(t);t._setVisualChild(t.getItems()[0]._getVisualParent())}if(i===undefined){s.addItem(n)}else{s.insertItem(n,i)}s.rerender()};f.prototype._connectVisualItem=function(t,e,i){if(!e||sap.ui.getCore().byId(t._getVisualControl())){return}if(l.system.phone){this._addListItemFromItem(t,e,i);var n=e.getContent()[0];this._updateListInset(n)}else{this._addVisualMenuItemFromItem(t,e,i)}};f.prototype._updateListInset=function(t){var e=false,i="sapMListIcons",n=t.getItems();for(var s=0;s<n.length;s++){if(n[s].getIcon()){e=true;break}}if(e){t.addStyleClass(i)}else{t.removeStyleClass(i)}};f.prototype._handleMenuItemSelect=function(t){var e=t.getParameter("item"),i;if(!e){return}i=this._findMenuItemByUnfdMenuItem(e);if(i&&!i.getItems().length){this.fireItemSelected({item:i})}if(i){i.firePress()}};f.prototype._generateListItemId=function(t){return t+f.LIST_ITEMS_ID_SUFFIX};f.prototype._generateUnifiedMenuItemId=function(t){return t+f.UNIFIED_MENU_ITEMS_ID_SUFFIX};f.prototype._findMenuItemByUnfdMenuItem=function(t){var e=[],i=t,n,s,o;do{e.push(i.getId());i=i.getParent().getParent()}while(i instanceof g);n=this.getItems();do{s=e.pop();for(o=0;o<n.length;o++){if(n[o]._getVisualControl()===s){if(e.length===0){return n[o]}else{n=n[o].getItems();break}}}}while(e.length);return null};f.prototype._isMenuCozy=function(t){if(!t.bCozySupported){return false}if(t.hasStyleClass("sapUiSizeCozy")){return true}if(y(t.oOpenerRef)){return true}return false};function y(t){if(!t){return false}t=t.$?t.$():h(t);var e=t.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy");return!e.hasClass("sapUiSizeCompact")&&!e.hasClass("sapUiSizeCondensed")||e.hasClass("sapUiSizeCozy")}f.prototype.addAggregation=function(t,i,n){e.prototype.addAggregation.apply(this,arguments);if(t==="items"){this._connectVisualItem(i,this._getVisualParent())}return this};f.prototype.insertAggregation=function(t,i,n,s){e.prototype.insertAggregation.apply(this,arguments);if(t==="items"){this._connectVisualItem(i,this._getVisualParent(),n)}return this};f.prototype.removeAggregation=function(t,i,n){var s=e.prototype.removeAggregation.apply(this,arguments);if(t==="items"){this._removeVisualItem(s)}return s};f.prototype.removeAllAggregation=function(t,i){var n=e.prototype.removeAllAggregation.apply(this,arguments);if(t==="items"){for(var s=0;s<n.length;s++){this._removeVisualItem(n[s])}}return n};f.prototype._removeVisualItem=function(t,e){var i=sap.ui.getCore().byId(t._getVisualControl()),n;if(i){n=i.getParent();n.removeItem(i);if(l.system.phone){this._removeSubPageForItem(t);if(n.getItems().length===0){if(e){e._setVisualChild(null);sap.ui.getCore().byId(e._getVisualControl()).rerender()}}if(n){n.rerender()}}}};f.prototype.destroyAggregation=function(t,i){if(t==="items"){for(var n=0;n<this.getItems().length;n++){this._removeVisualItem(this.getItems()[n])}}return e.prototype.destroyAggregation.apply(this,arguments)};f.prototype._removeSubPageForItem=function(t,e){var i;if(!e){for(var n=0;n<t.getItems().length;n++){this._removeSubPageForItem(t.getItems()[n])}}if(t._getVisualChild()){i=sap.ui.getCore().byId(t._getVisualChild());if(this._getNavContainer()&&i){this._getNavContainer().removePage(i)}!!i&&i.destroy()}};f.prototype._getVisualParent=function(){var t=this._getNavContainer(),e=this._getMenu();if(t&&t.getPages().length){return t.getPages()[0]}else{return e}};f.prototype._onPropertyChanged=function(t){var e=t.getParameter("propertyKey"),i=t.getParameter("propertyValue"),n=l.system.phone?f.MENU_LIST_ITEMS_PROPS:f.UNFIFIED_MENU_ITEMS_PROPS,s=l.system.phone?this._generateListItemId:this._generateUnifiedMenuItemId,o;if(l.system.phone&&e==="text"){e="title"}if(!n[e]){return}o=s(t.getSource().getId());if(o){sap.ui.getCore().byId(o).setProperty(e,i);if(l.system.phone&&this._getDialog().isOpen()){this._getDialog().close()}}};f.prototype._onAggregationChanged=function(t){var e=t.getParameter("aggregationName");switch(e){case"items":this._onItemsAggregationChanged(t);break;case"tooltip":this._onTooltipAggregationChanged(t);break}};f.prototype._onTooltipAggregationChanged=function(t){var e=t.getSource()._getVisualControl(),i=t.getParameter("methodName"),n=t.getParameter("methodParams"),s;if(!e){return}s=sap.ui.getCore().byId(e);if(i==="set"){s.setTooltip(n.item)}if(i==="destroy"){s.destroyTooltip()}};f.prototype._onItemsAggregationChanged=function(t){var e=t.getSource(),i=t.getParameter("methodName"),n=t.getParameter("methodParams"),s;if(i==="add"||i==="insert"){if(i==="insert"){s=n.index}this._addOrInsertItem(e,n.item,s)}if(i==="remove"){this._removeVisualItem(n.item,e)}if(i==="removeall"){for(var o=0;o<n.items.length;o++){this._removeVisualItem(n.items[o],e)}}if(i==="destroy"){this._destroyItem(e)}};f.prototype._addOrInsertItem=function(t,e,i){var n;if(t._getVisualChild()){this._connectVisualItem(e,sap.ui.getCore().byId(t._getVisualChild()),i)}else{if(l.system.phone){this._initPageForParent(t);t._setVisualChild(t.getItems()[0]._getVisualParent());n=sap.ui.getCore().byId(t._getVisualControl());n.rerender()}else{this._initMenuForItems(t.getItems(),sap.ui.getCore().byId(t._getVisualControl()));t._setVisualChild(t.getItems()[0]._getVisualParent())}}};f.prototype._destroyItem=function(t){var e=sap.ui.getCore().byId(t._getVisualControl());if(e&&e.setMenuItem){e.setMenuItem(null)}this._removeSubPageForItem(t,true);t._setVisualChild(null);if(e&&e.setMenuItem){e.rerender();e.setMenuItem(t)}};f.prototype.getDomRefId=function(){if(l.system.phone){return this._getDialog().getId()}else{return this._getMenu().getId()}};f.prototype.openAsContextMenu=function(t,e){if(l.system.phone){this._openDialog()}else{if(!this._bIsInitialized){this._initAllMenuItems();this._bIsInitialized=true}this._getMenu().openAsContextMenu(t,e)}};["addStyleClass","removeStyleClass","toggleStyleClass"].forEach(function(t){f.prototype[t]=function(i,n){var s=this._getDialog();e.prototype[t].apply(this,arguments);if(s){s[t].apply(s,arguments)}return this}});return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuButton",["./library","sap/ui/core/Control","./Button","./SplitButton","sap/ui/Device","sap/ui/core/EnabledPropagator","sap/ui/core/library","sap/ui/core/Popup","sap/ui/core/LabelEnablement","./MenuButtonRenderer","sap/ui/events/KeyCodes"],function(t,e,o,i,n,s,r,a,u,p,l){"use strict";var h=t.MenuButtonMode;var c=r.TextDirection;var d=t.ButtonType;var g=a.Dock;var f=["buttonMode","useDefaultActionOnly","width","menuPosition"];var y=e.extend("sap.m.MenuButton",{metadata:{interfaces:["sap.m.IToolbarInteractiveControl"],library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:d.Default},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:c.Inherit},buttonMode:{type:"sap.m.MenuButtonMode",group:"Misc",defaultValue:h.Regular},menuPosition:{type:"sap.ui.core.Popup.Dock",group:"Misc",defaultValue:g.BeginBottom},useDefaultActionOnly:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{menu:{type:"sap.m.Menu",multiple:false,singularName:"menu"},_button:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{defaultAction:{},beforeMenuOpen:{}},defaultAggregation:"menu",designtime:"sap/m/designtime/MenuButton.designtime",dnd:{draggable:true,droppable:false}},renderer:p});s.call(y.prototype);y.prototype.init=function(){this._initButtonControl()};y.prototype.exit=function(){if(this._sDefaultText){this._sDefaultText=null}if(this._sDefaultIcon){this._sDefaultIcon=null}if(this._iInitialTextBtnContentWidth){this._iInitialTextBtnContentWidth=null}if(this._lastActionItemId){this._lastActionItemId=null}if(this.getMenu()){this.getMenu().detachClosed(this._menuClosed,this)}};y.prototype.onBeforeRendering=function(){if(!this._sDefaultText){this._sDefaultText=this.getText()}if(!this._sDefaultIcon){this._sDefaultIcon=this.getIcon()}this._updateButtonControl();this._attachMenuEvents()};y.prototype._needsWidth=function(){return this._isSplitButton()&&this.getWidth()===""};y.prototype._getTextBtnContentDomRef=function(){return this._getButtonControl()._getTextButton().getDomRef("content")};y.prototype.onAfterRendering=function(){if(this._needsWidth()&&sap.ui.getCore().isThemeApplied()&&this._getTextBtnContentDomRef()&&this._getInitialTextBtnWidth()>0){this._getTextBtnContentDomRef().style.width=this._getInitialTextBtnWidth()+"px"}if(this._activeButton){this._activeButton.$().attr("aria-expanded","false");this._activeButton=null}};y.prototype.onThemeChanged=function(t){if(this._needsWidth()&&this.getDomRef()&&!this._iInitialTextBtnContentWidth&&this._getTextBtnContentDomRef()&&this._getInitialTextBtnWidth()>0){this._getTextBtnContentDomRef().style.width=this._getInitialTextBtnWidth()+"px"}};y.prototype._getInitialTextBtnWidth=function(){if(!this._iInitialTextBtnContentWidth){this._iInitialTextBtnContentWidth=Math.ceil(this._getTextBtnContentDomRef().getBoundingClientRect().width)}return this._iInitialTextBtnContentWidth};y.prototype.setButtonMode=function(t){var o=this.getTooltip(),i,n;e.prototype.setProperty.call(this,"buttonMode",t,true);this._getButtonControl().destroy();this._initButtonControl();i=this._getButtonControl();n=i.getMetadata().getAllProperties();for(var s in this.mProperties){if(this.mProperties.hasOwnProperty(s)&&f.indexOf(s)<0&&n.hasOwnProperty(s)){i.setProperty(s,this.mProperties[s],true)}}if(o){i.setTooltip(o)}if(!this._isSplitButton()&&this._sDefaultText){this.setText(this._sDefaultText)}else if(!this.getUseDefaultActionOnly()&&this._getLastSelectedItem()){this.setText(sap.ui.getCore().byId(this._getLastSelectedItem()).getText())}if(!this._isSplitButton()&&this._sDefaultIcon){this.setIcon(this._sDefaultIcon)}else if(!this.getUseDefaultActionOnly()&&this._getLastSelectedItem()){this.setIcon(sap.ui.getCore().byId(this._getLastSelectedItem()).getIcon())}this.invalidate();return this};y.prototype._initButton=function(){var t=new o(this.getId()+"-internalBtn",{width:"100%",ariaHasPopup:r.aria.HasPopup.Menu});t.attachPress(this._handleButtonPress,this);t.onkeydown=this.handleKeydown;return t};y.prototype._initSplitButton=function(){var t=new i(this.getId()+"-internalSplitBtn",{width:"100%"});t.attachPress(this._handleActionPress,this);t.attachArrowPress(this._handleButtonPress,this);t._getArrowButton().onkeydown=this.handleKeydown;return t};y.prototype._initButtonControl=function(){var t;if(this._isSplitButton()){t=this._initSplitButton()}else{t=this._initButton()}this.setAggregation("_button",t,true)};y.prototype._updateButtonControl=function(){this._getButtonControl().setText(this.getText())};y.prototype._getButtonControl=function(){return this.getAggregation("_button")};y.prototype._handleButtonPress=function(t){var e=this.getMenu(),o={zero:"0 0",plus2_right:"0 +2",minus2_right:"0 -2",plus2_left:"+2 0",minus2_left:"-2 0"};this._isSplitButton()&&this.fireBeforeMenuOpen();if(!e){return}if(this._bPopupOpen&&!t.getParameter("keyboard")){this.getMenu().close();this._bPopupOpen=false;return}if(!e.getTitle()){e.setTitle(this.getText())}var i=[this,t.getParameter("keyboard")];switch(this.getMenuPosition()){case g.BeginTop:i.push(g.BeginBottom,g.BeginTop,o.plus2_right);break;case g.BeginCenter:i.push(g.BeginCenter,g.BeginCenter,o.zero);break;case g.LeftTop:i.push(g.RightBottom,g.LeftBottom,o.plus2_left);break;case g.LeftCenter:i.push(g.RightCenter,g.LeftCenter,o.plus2_left);break;case g.LeftBottom:i.push(g.RightTop,g.LeftTop,o.plus2_left);break;case g.CenterTop:i.push(g.CenterBottom,g.CenterTop,o.plus2_left);break;case g.CenterCenter:i.push(g.CenterCenter,g.CenterCenter,o.zero);break;case g.CenterBottom:i.push(g.CenterTop,g.CenterBottom,o.minus2_right);break;case g.RightTop:i.push(g.LeftBottom,g.RightBottom,o.minus2_left);break;case g.RightCenter:i.push(g.LeftCenter,g.RightCenter,o.minus2_left);break;case g.RightBottom:i.push(g.LeftTop,g.RightTop,o.minus2_left);break;case g.EndTop:i.push(g.EndBottom,g.EndTop,o.plus2_right);break;case g.EndCenter:i.push(g.EndCenter,g.EndCenter,o.zero);break;case g.EndBottom:i.push(g.EndTop,g.EndBottom,o.minus2_right);break;case g.BeginBottom:default:i.push(g.BeginTop,g.BeginBottom,o.minus2_right);break}e.openBy.apply(e,i);if(this.getMenu()){this._bPopupOpen=true}this._writeAriaAttributes();if(this._isSplitButton()&&!n.system.phone){this._getButtonControl().setArrowState(true)}};y.prototype._handleActionPress=function(){var t=this._getLastSelectedItem(),e;if(!this.getUseDefaultActionOnly()&&t){e=sap.ui.getCore().byId(t);this.getMenu().fireItemSelected({item:e})}else{this.fireDefaultAction()}};y.prototype._menuClosed=function(){var t=this._getButtonControl(),e=t;if(this._isSplitButton()){t.setArrowState(false);e=t._getArrowButton()}e.$().removeAttr("aria-controls");e.$().attr("aria-expanded","false")};y.prototype._menuItemSelected=function(t){var e=t.getParameter("item");this.fireEvent("_menuItemSelected",{item:e});this._bPopupOpen=false;if(!this._isSplitButton()||this.getUseDefaultActionOnly()||!e){return}this._lastActionItemId=e.getId();!!this._sDefaultText&&this.setText(e.getText());!!this._sDefaultIcon&&this.setIcon(e.getIcon())};y.prototype._getLastSelectedItem=function(){return this._lastActionItemId};y.prototype._attachMenuEvents=function(){if(this.getMenu()){this.getMenu().attachClosed(this._menuClosed,this);this.getMenu().attachItemSelected(this._menuItemSelected,this)}};y.prototype._isSplitButton=function(){return this.getButtonMode()===h.Split};y.prototype.setProperty=function(t,o,i){function n(t){var e=[d.Up,d.Back,d.Unstyled];return e.indexOf(t)!==-1}if(t==="type"&&n(o)){return this}if(t==="text"){this._sDefaultText=o}switch(t){case"activeIcon":case"iconDensityAware":case"textDirection":case"visible":case"enabled":this._getButtonControl().setProperty(t,o);break}return e.prototype.setProperty.apply(this,arguments)};y.prototype.setTooltip=function(t){this._getButtonControl().setTooltip(t);return e.prototype.setTooltip.apply(this,arguments)};y.prototype.setText=function(t){e.prototype.setProperty.call(this,"text",t);this._getButtonControl().setText(t);return this};y.prototype.setType=function(t){e.prototype.setProperty.call(this,"type",t);this._getButtonControl().setType(t);return this};y.prototype.setIcon=function(t){e.prototype.setProperty.call(this,"icon",t);this._getButtonControl().setIcon(t);return this};y.prototype.addAriaLabelledBy=function(t){this.getAggregation("_button").addAssociation("ariaLabelledBy",t);return e.prototype.addAssociation.call(this,"ariaLabelledBy",t)};y.prototype.addAriaDescribedBy=function(t){this.getAggregation("_button").addAssociation("ariaDescribedBy",t);return e.prototype.addAssociation.call(this,"ariaDescribedBy",t)};y.prototype.removeAriaLabelledBy=function(t){this.getAggregation("_button").removeAssociation("ariaLabelledBy",t);return e.prototype.removeAssociation.call(this,"ariaLabelledBy",t)};y.prototype.removeAriaDescribedBy=function(t){this.getAggregation("_button").removeAssociation("ariaDescribedBy",t);return e.prototype.removeAssociation.call(this,"ariaDescribedBy",t)};y.prototype.removeAllAriaLabelledBy=function(t){this.getAggregation("_button").removeAllAssociation("ariaLabelledBy");return e.prototype.removeAllAssociation.call(this,"ariaLabelledBy")};y.prototype.removeAllAriaDescribedBy=function(){this.getAggregation("_button").removeAllAssociation("ariaDescribedBy");return e.prototype.removeAllAssociation.call(this,"ariaDescribedBy")};y.prototype.getFocusDomRef=function(){return this._getButtonControl().getDomRef()};y.prototype.onsapup=function(t){this.openMenuByKeyboard();t.stopPropagation()};y.prototype.onsapdown=function(t){this.openMenuByKeyboard();t.stopPropagation()};y.prototype.onsapupmodifiers=function(t){this.openMenuByKeyboard();t.stopPropagation()};y.prototype.onsapdownmodifiers=function(t){this.openMenuByKeyboard();t.stopPropagation()};y.prototype.onsapshow=function(t){this.openMenuByKeyboard();!!t&&t.preventDefault()};y.prototype.ontouchstart=function(){this._bPopupOpen=this.getMenu()&&this.getMenu()._getMenu()&&this.getMenu()._getMenu().getPopup().isOpen()};y.prototype.handleKeydown=function(t){if((t.keyCode===l.ENTER||t.keyCode===l.TAB)&&this._bPopupOpen){this.getMenu().close();this._bPopupOpen=false}o.prototype.onkeydown.call(this,t)};y.prototype.openMenuByKeyboard=function(){if(!this._isSplitButton()){this._handleButtonPress(Object.create(null,{getParameter:{value:function(){return true}}}))}};y.prototype._writeAriaAttributes=function(){var t=this._getButtonControl(),e=this._isSplitButton()?t._getArrowButton():t,o=this.getMenu();if(o){e.$().attr("aria-controls",o.getDomRefId());e.$().attr("aria-expanded","true")}};y.prototype._getToolbarInteractive=function(){return true};y.prototype.getIdForLabel=function(){return this.getId()+"-internalBtn"};y.prototype._ensureBackwardsReference=function(){var t=this._getButtonControl(),e=t.getAriaLabelledBy(),o=u.getReferencingLabels(this);o.forEach(function(o){if(e&&e.indexOf(o)===-1){t.addAriaLabelledBy(o)}});return this};return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuButtonRenderer",[],function(){"use strict";var t={apiVersion:2};t.CSS_CLASS="sapMMenuBtn";t.render=function(e,n){var o=n.getWidth();e.openStart("div",n);e.class(t.CSS_CLASS).class(t.CSS_CLASS+n.getButtonMode());if(o!=""){e.style("width",o)}e.openEnd();n._ensureBackwardsReference();e.renderControl(n._getButtonControl());n._activeButton=n._isSplitButton()?n._getButtonControl()._getArrowButton():n._getButtonControl();e.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuItem",["./library","sap/ui/core/Item","sap/ui/base/ManagedObjectObserver"],function(t,e,a){"use strict";var o=e.extend("sap.m.MenuItem",{metadata:{library:"sap.m",properties:{icon:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.MenuItem",multiple:true,singularName:"item",bindable:"bindable"}},events:{press:{},propertyChanged:{parameters:{propertyKey:{type:"string"},propertyValue:{type:"any"}}},aggregationChanged:{parameters:{aggregationName:{type:"string"},methodName:{type:"string"},methodParams:{type:"object"}}}}}});o.UNIFIED_MENU_ITEMS_ID_SUFFIX="-unifiedmenu";o.prototype.exit=function(){if(this._sVisualChild){this._sVisualChild=null}if(this._sVisualParent){this._sVisualParent=null}if(this._sVisualControl){this._sVisualControl=null}};o.prototype.setProperty=function(t,a){e.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:t,propertyValue:a})};o.prototype.setAggregation=function(t,a,o){e.prototype.setAggregation.apply(this,arguments);this.fireEvent("aggregationChanged",{aggregationName:t,methodName:"set",methodParams:{item:a}});return this};o.prototype.addAggregation=function(t,a,o){var r=this._getVisualControl(),s;e.prototype.addAggregation.apply(this,arguments);if(t==="customData"&&r){s=sap.ui.getCore().byId(r);this._addCustomData(s,a)}this.fireEvent("aggregationChanged",{aggregationName:t,methodName:"add",methodParams:{item:a}});return this};o.prototype.insertAggregation=function(t,a,r,s){var i=this._getVisualControl(),n;e.prototype.insertAggregation.apply(this,arguments);if(t==="customData"&&i){n=sap.ui.getCore().byId(i);n.insertCustomData(a.clone(o.UNIFIED_MENU_ITEMS_ID_SUFFIX),r);this._observeCustomDataChanges(a)}this.fireEvent("aggregationChanged",{aggregationName:t,methodName:"insert",methodParams:{item:a,index:r}});return this};o.prototype.removeAggregation=function(t,a,o){var r=e.prototype.removeAggregation.apply(this,arguments);if(t==="customData"){if(this.getCustomData().length===1){this._disconnectAndDestroyCustomDataObserver()}else if(a&&this._oCustomDataObserver){this._oCustomDataObserver.unobserve(a,{properties:["value"]})}}this.fireEvent("aggregationChanged",{aggregationName:t,methodName:"remove",methodParams:{item:r}});return r};o.prototype.removeAllAggregation=function(t,a){var o=e.prototype.removeAllAggregation.apply(this,arguments);if(t==="customData"){this._disconnectAndDestroyCustomDataObserver()}this.fireEvent("aggregationChanged",{aggregationName:t,methodName:"removeall",methodParams:{items:o}});return o};o.prototype.destroyAggregation=function(t,a){if(t==="customData"){this._disconnectAndDestroyCustomDataObserver()}this.fireEvent("aggregationChanged",{aggregationName:t,methodName:"destroy"});return e.prototype.destroyAggregation.apply(this,arguments)};o.prototype.destroy=function(){var t=sap.ui.getCore().byId(this._getVisualControl());if(t){t.destroy()}return e.prototype.destroy.apply(this,arguments)};o.prototype._addCustomData=function(t,e){t.addCustomData(e.clone(o.UNIFIED_MENU_ITEMS_ID_SUFFIX,undefined,{bCloneChildren:false,bCloneBindings:true}));this._observeCustomDataChanges(e)};o.prototype._observeCustomDataChanges=function(t){this._getCustomDataObserver().observe(t,{properties:["value"]})};o.prototype._customDataObserverCallbackFunction=function(t){sap.ui.getCore().byId(t.object.getId()+"-"+o.UNIFIED_MENU_ITEMS_ID_SUFFIX).setValue(t.current)};o.prototype._getCustomDataObserver=function(){if(!this._oCustomDataObserver){this._oCustomDataObserver=new a(this._customDataObserverCallbackFunction)}return this._oCustomDataObserver};o.prototype._disconnectAndDestroyCustomDataObserver=function(){if(this._oCustomDataObserver){this._oCustomDataObserver.disconnect();this._oCustomDataObserver.destroy();this._oCustomDataObserver=null}};o.prototype._setVisualChild=function(t){this._setInternalRef(t,"_sVisualChild")};o.prototype._setVisualParent=function(t){this._setInternalRef(t,"_sVisualParent")};o.prototype._setVisualControl=function(t){this._setInternalRef(t,"_sVisualControl")};o.prototype._setInternalRef=function(t,e){if(!t||typeof t==="string"){this[e]=t}else if(t.getId){this[e]=t.getId()}};o.prototype._getVisualChild=function(){return this._sVisualChild};o.prototype._getVisualParent=function(){return this._sVisualParent};o.prototype._getVisualControl=function(){return this._sVisualControl};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuListItem",["./ListItemBase","./library","sap/ui/core/IconPool","sap/ui/core/library","./MenuListItemRenderer"],function(e,t,i,r,a){"use strict";var s=r.TextDirection;var o=t.ListType;var n=e.extend("sap.m.MenuListItem",{metadata:{library:"sap.m",properties:{enabled:{type:"boolean",group:"Misc",defaultValue:true},title:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},titleTextDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:s.Inherit},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},associations:{menuItem:{type:"sap.m.MenuItem",multiple:false}}},renderer:a});n.prototype.exit=function(){if(this._image){this._image.destroy()}if(this._imageRightArrow){this._imageRightArrow.destroy()}e.prototype.exit.apply(this,arguments)};n.prototype._getImage=function(e,t,r,a){var s=this._image;if(s){s.setSrc(r);if(s.isA("sap.m.Image")){s.setDensityAware(a)}}else{s=i.createControlByURI({id:e,src:r,densityAware:a,useIconTooltip:false},sap.m.Image).setParent(this,null,true)}if(s.isA("sap.m.Image")){s.addStyleClass(t,true)}else{s.addStyleClass(t+"Icon",true)}this._image=s;return this._image};n.prototype._getIconArrowRight=function(){if(!this._imageRightArrow){this._imageRightArrow=i.createControlByURI({id:this.getId()+"-arrowRight",src:"sap-icon://slim-arrow-right",useIconTooltip:false},sap.m.Image).setParent(this,null,true);this._imageRightArrow.addStyleClass("sapMMenuLIArrowRightIcon",true)}return this._imageRightArrow};n.prototype._hasSubItems=function(){return!!(this.getMenuItem()&&sap.ui.getCore().byId(this.getMenuItem()).getItems().length)};n.prototype.setProperty=function(t,i){e.prototype.setProperty.apply(this,arguments);this.fireEvent("propertyChanged",{propertyKey:t,propertyValue:i});if(t==="enabled"){this.setType(i?o.Active:o.Inactive)}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/MenuListItemRenderer",["./ListItemBaseRenderer","sap/ui/core/Renderer","sap/m/library","sap/ui/core/library"],function(e,t,i,s){"use strict";var n=s.TextDirection;var a=i.ListType;var r=t.extend(e);r.apiVersion=2;r.openItemTag=function(t,i){if(i.getStartsSection()){t.openStart("li");t.attr("role","separator");t.class("sapUiMnuDiv");t.openEnd();t.openStart("div");t.class("sapUiMnuDivL");t.openEnd();t.close("div");t.voidStart("hr").voidEnd();t.openStart("div");t.class("sapUiMnuDivR");t.openEnd();t.close("div");t.close("li")}e.openItemTag(t,i)};r.renderLIAttributes=function(e,t){e.class("sapMSLI");if(t.getIcon()){e.class("sapMSLIIcon")}if(t.getType()==a.Detail||t.getType()==a.DetailAndActive){e.class("sapMSLIDetail")}if(t._hasSubItems()){e.class("sapMMenuLIHasChildren")}if(!t.getEnabled()){e.class("sapMMLIDisabled")}};r.renderLIContent=function(e,t){var i=t.getTitleTextDirection();if(t.getIcon()){e.renderControl(t._getImage(t.getId()+"-img","sapMMenuLIImgThumb",t.getIcon(),t.getIconDensityAware()))}e.openStart("div");e.class("sapMSLIDiv");e.class("sapMSLITitleDiv");e.openEnd();if(t._bNoFlex){e.openStart("div");e.class("sapMLIBNoFlex");e.openEnd()}e.openStart("div");e.class("sapMSLITitleOnly");if(i!==n.Inherit){e.attr("dir",i.toLowerCase())}e.openEnd();e.text(t.getTitle());e.close("div");if(t._bNoFlex){e.close("div")}e.close("div");if(t._hasSubItems()){e.renderControl(t._getIconArrowRight())}};return r},true);
/*!
* OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.predefine("sap/m/MessageStripUtilities",["sap/ui/core/IconPool"],function(e){"use strict";var t={};t.MESSAGES={TYPE_NOT_SUPPORTED:"Value 'sap.ui.core.MessageType.None' for property 'type' is not supported. "+"Defaulting to 'sap.ui.core.MessageType.Information'"};t.CLASSES={ROOT:"sapMMsgStrip",ICON:"sapMMsgStripIcon",MESSAGE:"sapMMsgStripMessage",CLOSE_BUTTON:"sapMMsgStripCloseButton",CLOSING_TRANSITION:"sapMMsgStripClosing"};t.ATTRIBUTES={CLOSABLE:"data-sap-ui-ms-closable"};t.RESOURCE_BUNDLE=sap.ui.getCore().getLibraryResourceBundle("sap.m");t.getIconURI=function(){var t=this.getType(),s=this.getCustomIcon(),i;var n={Error:"error",Warning:"alert",Success:"sys-enter-2",Information:"information"};i=e.getIconURI(n[t]);return s||i};t.getAriaTypeText=function(){var e="MESSAGE_STRIP_"+this.getType().toUpperCase(),s=t.RESOURCE_BUNDLE.getText(e);if(this.getShowCloseButton()){s+=" "+t.RESOURCE_BUNDLE.getText("MESSAGE_STRIP_CLOSABLE")}return s};t.isMSCloseButtonPressed=function(e){return e.className.indexOf(t.CLASSES.CLOSE_BUTTON)!==-1||e.parentNode.className.indexOf(t.CLASSES.CLOSE_BUTTON)!==-1};t.closeTransitionWithCSS=function(e){this.$().addClass(t.CLASSES.CLOSING_TRANSITION).one("webkitTransitionEnd transitionend",e)};t.getAccessibilityState=function(){return{role:"note"}};return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ObjectAttribute",["./library","sap/ui/core/Control","sap/ui/core/library","sap/m/Text","sap/ui/events/KeyCodes","./ObjectAttributeRenderer","sap/base/Log","sap/ui/base/ManagedObjectObserver","sap/ui/core/Core"],function(t,e,i,o,n,r,s,a,p){"use strict";var u=i.TextDirection;var g=t.EmptyIndicatorMode;var l=i.aria.HasPopup;var c=e.extend("sap.m.ObjectAttribute",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ObjectAttribute.designtime",properties:{title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},active:{type:"boolean",group:"Misc",defaultValue:null},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:u.Inherit},ariaHasPopup:{type:"sap.ui.core.aria.HasPopup",group:"Accessibility",defaultValue:l.None}},aggregations:{customContent:{type:"sap.ui.core.Control",multiple:false},_textControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{press:{parameters:{domRef:{type:"string"}}}},dnd:{draggable:true,droppable:false}},renderer:r});c.prototype.init=function(){this.setAggregation("_textControl",new o)};c.prototype.exit=function(){if(this._oCustomContentObserver){this._oCustomContentObserver.disconnect();this._oCustomContentObserver=null}if(this._oCustomContentCloning){this._oCustomContentCloning.destroy()}};c.prototype.onBeforeRendering=function(){var t,e=this.getId()+"-title";if(this._isClickable()&&!this._isSimulatedLink()){t=this.getCustomContent();t.setAriaHasPopup(this.getAriaHasPopup());if(!t.getAriaLabelledBy().includes(e)){t.addAriaLabelledBy(e)}}};c.prototype._getUpdatedTextControl=function(){var t=this._oCustomContentCloning||this.getAggregation("_textControl"),e=this.getTitle(),i=this.getAggregation("customContent")?this.getAggregation("customContent").getText():this.getText(),o=this.getTextDirection(),n=this.getParent(),s=p.getConfiguration().getRTL(),a,l=true,c="",m;this._bEmptyIndicatorMode=this._isEmptyIndicatorMode();if(o===u.LTR&&s){c="‎"}if(o===u.RTL&&!s){c="‏"}i=c+i+c;if(e){m=e;if(p.getConfiguration().getLocale().getLanguage().toLowerCase()==="fr"){m+=" "}m+=": "+i}else{m=i}if(this._bEmptyIndicatorMode){this.getAggregation("_textControl").setProperty("emptyIndicatorMode",g.On,true)}t.setProperty("text",m,true);t.setProperty("textDirection",o,true);if(n&&n.isA("sap.m.ObjectListItem")){l=false;a=r.MAX_LINES.SINGLE_LINE}this._setControlWrapping(t,l,a);return t};c.prototype._isEmptyIndicatorMode=function(){var t=this.getAggregation("customContent");return t&&t.getEmptyIndicatorMode()!==g.Off&&!t.getText()};c.prototype._setControlWrapping=function(t,e,i){if(t.isA("sap.m.Link")){t.setProperty("wrapping",e,true)}if(t.isA("sap.m.Text")){t.setProperty("maxLines",i,true)}};c.prototype.ontap=function(t){var e=t.target;e=e.id?e:e.parentElement;if(this._isSimulatedLink()&&e.id===this.getId()+"-text"){this.firePress({domRef:this.getDomRef()})}};c.prototype.onsapenter=function(t){if(this._isSimulatedLink()){this.firePress({domRef:this.getDomRef()});t.setMarked()}};c.prototype.onsapspace=function(t){t.preventDefault()};c.prototype.onkeyup=function(t){if(t.which===n.SPACE){this.onsapenter(t)}};c.prototype._isEmpty=function(){if(this.getAggregation("customContent")&&!(this.getAggregation("customContent").isA("sap.m.Link")||this.getAggregation("customContent").isA("sap.m.Text"))){s.warning('Only sap.m.Link or sap.m.Text are allowed in "sap.m.ObjectAttribute.customContent" aggregation');return true}return!(this.getText().trim()||this.getTitle().trim())};c.prototype.ontouchstart=function(t){if(this._isSimulatedLink()){t.originalEvent._sapui_handledByControl=true}};c.prototype.getPopupAnchorDomRef=function(){return this.getDomRef("text")};c.prototype._isSimulatedLink=function(){return this.getActive()&&this.getText()!==""&&!this.getAggregation("customContent")};c.prototype.setCustomContent=function(t){var e=this.getCustomContent();if(this._oCustomContentCloning){this._oCustomContentCloning.destroy()}this._oCustomContentCloning=t&&t.clone();if(!this._oCustomContentObserver){this._oCustomContentObserver=new a(function(){this.invalidate()}.bind(this))}if(e){this._oCustomContentObserver.unobserve(e)}t&&this._oCustomContentObserver.observe(t,{properties:true});return this.setAggregation("customContent",t)};c.prototype._isClickable=function(){return this.getActive()&&this.getText()!==""||this.getAggregation("customContent")&&this.getAggregation("customContent").isA("sap.m.Link")};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ObjectAttributeRenderer",["sap/ui/core/library","sap/ui/core/Configuration"],function(t,e){"use strict";var i=t.TextDirection;var r=t.aria.HasPopup;var n={apiVersion:2,MAX_LINES:{SINGLE_LINE:1}};n.render=function(t,e){var r=e.getParent(),n=e.getTooltip_AsString(),a=e.getTextDirection();t.openStart("div",e);if(e._isEmpty()){t.class("sapMObjectAttributeDiv");t.class("sapUiHidden");t.openEnd();t.close("div");return}t.class("sapMObjectAttributeDiv");if(a!==i.Inherit){t.attr("dir",a.toLowerCase())}if(e._isClickable()){t.class("sapMObjectAttributeActive");if(!e.getTitle()&&e.getText()){t.class("sapMObjectAttributeTextOnly")}}if(n){t.attr("title",n)}t.openEnd();if(e._isClickable()||r&&r.isA("sap.m.ObjectHeader")){this.renderActiveTitle(t,e);this.renderActiveText(t,e,r)}else{t.renderControl(e._getUpdatedTextControl());if(e._bEmptyIndicatorMode){t.renderControl(e.getAggregation("_textControl"))}}t.close("div")};n.renderActiveTitle=function(t,r){var n,a=r.getTextDirection()===i.Inherit;if(!r.getProperty("title")){return}n=": ";t.openStart("span",r.getId()+"-title");t.class("sapMObjectAttributeTitle");t.openEnd();if(a){t.openStart("bdi");t.openEnd()}t.text(r.getProperty("title"));if(a){t.close("bdi")}t.close("span");t.openStart("span",r.getId()+"-colon");t.class("sapMObjectAttributeColon");t.openEnd();if(e.getLocale().getLanguage().toLowerCase()==="fr"){n=" "+n}t.text(n);t.close("span")};n.renderActiveText=function(t,e,a){var o=e.getAggregation("customContent"),s=e.getTextDirection()===i.Inherit,p=e.getAriaHasPopup()===r.None?"":e.getAriaHasPopup().toLowerCase(),l=[e.getTitle(),e.getText()].join(" ").trim();t.openStart("span",e.getId()+"-text");t.class("sapMObjectAttributeText");if(e._isSimulatedLink()){t.attr("tabindex","0");t.attr("role","link");t.attr("aria-label",l);if(p){t.attr("aria-haspopup",p)}}t.openEnd();if(o&&a){if(a.isA("sap.m.ObjectHeader")&&!e.getParent().getResponsive()){e._setControlWrapping(o,true)}else{e._setControlWrapping(o,false,n.MAX_LINES.SINGLE_LINE)}t.renderControl(o)}else{if(s){t.openStart("bdi");t.openEnd()}t.text(e.getProperty("text"));if(s){t.close("bdi")}}t.close("span")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ObjectMarker",["sap/ui/core/Control","sap/ui/core/Renderer","sap/ui/Device","sap/m/library","sap/ui/core/library","sap/ui/core/Icon","sap/m/TextRenderer","sap/m/Text","sap/m/LinkRenderer","sap/m/Link","./ObjectMarkerRenderer"],function(e,t,i,r,n,s,a,o,l,p,c){"use strict";var g=n.TextAlign;var u=r.ObjectMarkerVisibility;var y=e.extend("sap.m.ObjectMarker",{metadata:{library:"sap.m",designtime:"sap/m/designtime/ObjectMarker.designtime",properties:{type:{type:"sap.m.ObjectMarkerType",group:"Misc"},visibility:{type:"sap.m.ObjectMarkerVisibility",group:"Misc"},additionalInfo:{type:"string",group:"Misc",defaultValue:""}},aggregations:{_innerControl:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{type:{type:"sap.m.ObjectMarkerType"}}},dnd:{draggable:true,droppable:false}},renderer:c});y.M_PREDEFINED_TYPES={Flagged:{icon:{src:"sap-icon://flag",visibility:{small:true,large:true}},text:{value:"OM_FLAG",visibility:{small:false,large:false}}},Favorite:{icon:{src:"sap-icon://favorite",visibility:{small:true,large:true}},text:{value:"OM_FAVORITE",visibility:{small:false,large:false}}},Draft:{icon:{src:"sap-icon://request",visibility:{small:false,large:false}},text:{value:"OM_DRAFT",visibility:{small:true,large:true}}},Locked:{icon:{src:"sap-icon://private",visibility:{small:true,large:true}},text:{value:"OM_LOCKED",visibility:{small:false,large:true}}},Unsaved:{icon:{src:"sap-icon://user-edit",visibility:{small:true,large:true}},text:{value:"OM_UNSAVED",visibility:{small:false,large:true}}},LockedBy:{icon:{src:"sap-icon://private",visibility:{small:true,large:true}},text:{value:"OM_LOCKED_BY",visibility:{small:false,large:true}}},UnsavedBy:{icon:{src:"sap-icon://user-edit",visibility:{small:true,large:true}},text:{value:"OM_UNSAVED_BY",visibility:{small:false,large:true}}}};y.prototype.init=function(){i.media.initRangeSet("DeviceSet",[600],"px",["small","large"])};y.prototype.onAfterRendering=function(){this._attachMediaContainerWidthChange(this._handleMediaChange,this,"DeviceSet")};y.prototype.onBeforeRendering=function(){this._cleanup();this._adjustControl(true)};y.prototype.exit=function(){this._cleanup()};y.prototype.attachPress=function(){var t=this._getInnerControl();Array.prototype.unshift.apply(arguments,["press"]);e.prototype.attachEvent.apply(this,arguments);if(this.hasListeners("press")&&t&&t instanceof h){t.destroy();this.setAggregation("_innerControl",this._createCustomLink(),true);this._adjustControl()}return this};y.prototype.detachPress=function(){var t=this._getInnerControl();Array.prototype.unshift.apply(arguments,["press"]);e.prototype.detachEvent.apply(this,arguments);if(!this.hasListeners("press")&&t&&t instanceof _){t.destroy();this.setAggregation("_innerControl",this._createCustomText(),true);this._adjustControl()}return this};y.prototype._cleanup=function(){this._detachMediaContainerWidthChange(this._handleMediaChange,this,"DeviceSet")};y.prototype._handleMediaChange=function(){this._adjustControl()};y.prototype._adjustControl=function(e){var t=y.M_PREDEFINED_TYPES[this.getType()],i=this._getInnerControl(),r=i&&i._getIconAggregation(),n=this.getAdditionalInfo(),s=this._isIconVisible(),a=this._isTextVisible(),o=s&&!a,l=this.getType(),p;if(!i){return false}if(t){p=this._getMarkerText(t,l,n)}if(s){i.setIcon(t.icon.src,e);r.setDecorative(!o);if(a){r.setAlt(p)}r.setUseIconTooltip(false);this.addStyleClass("sapMObjectMarkerIcon")}else{i.setIcon(null,e);this.removeStyleClass("sapMObjectMarkerIcon")}if(a){i.setAggregation("tooltip",null,e);r&&r.setAggregation("tooltip",null,e);i.setText(p,e);this.addStyleClass("sapMObjectMarkerText")}else{if(r){i.setAggregation("tooltip",this.getTooltip_AsString()||p,e)}i.setText(null,e);this.removeStyleClass("sapMObjectMarkerText")}i.removeAllAssociation("ariaLabelledBy",e);i.removeAllAssociation("ariaDescribedBy",e);this.getAriaLabelledBy().forEach(function(t){i.addAssociation("ariaLabelledBy",t,e)});this.getAriaDescribedBy().forEach(function(t){i.addAssociation("ariaDescribedBy",t,e)});return true};y.prototype._getMarkerText=function(e,t,i){var r=sap.ui.getCore().getLibraryResourceBundle("sap.m");switch(t){case"LockedBy":return i===""?r.getText("OM_LOCKED_BY_ANOTHER_USER"):r.getText("OM_LOCKED_BY",[i]);case"UnsavedBy":return i===""?r.getText("OM_UNSAVED_BY_ANOTHER_USER"):r.getText("OM_UNSAVED_BY",[i]);default:return i===""?r.getText(e.text.value):r.getText(e.text.value)+" "+i}};y.prototype._isIconVisible=function(){var e=y.M_PREDEFINED_TYPES[this.getType()],t=this.getVisibility(),i=this._getDeviceType(),r=e&&e.icon.visibility[i]||false;return t===u.IconOnly||t===u.IconAndText||t!==u.TextOnly&&r};y.prototype._isTextVisible=function(){var e=y.M_PREDEFINED_TYPES[this.getType()],t=this.getVisibility(),i=this._getDeviceType(),r=e&&e.text.visibility[i]||false;return t===u.TextOnly||t===u.IconAndText||t!==u.IconOnly&&r};y.prototype._getDeviceType=function(){return this._getCurrentMediaContainerRange("DeviceSet").name.toLowerCase()};y.prototype._getInnerControl=function(){var e=this.getAggregation("_innerControl");if(!e&&this.getType()){e=this._createInnerControl();this.setAggregation("_innerControl",e,true);this._adjustControl(true)}return e};y.prototype._createInnerControl=function(){if(this.hasListeners("press")){return this._createCustomLink()}else{return this._createCustomText()}};y.prototype._createCustomLink=function(){var e=new _(this.getId()+"-link",{wrapping:true});e.attachPress(this._firePress,this);return e};y.prototype._firePress=function(){this.firePress({type:this.getType()})};y.prototype._createCustomText=function(){return new h(this.getId()+"-text",{textAlign:g.Initial})};["getAccessibilityInfo"].map(function(e){var t=/^add/.test(e);y.prototype[e]=function(){var i=this._getInnerControl(),r;if(i&&i[e]){r=i[e].apply(i,arguments)}return t?this:r}});var d=t.extend(a);d.apiVersion=2;d.render=function(e,t){if(t.getIconOnly()){var i=t._getIconAggregation();i.setAlt(t.getTooltip_AsString());e.renderControl(i)}else{a.render.call(this,e,t)}};d.renderText=function(e,t){e.renderControl(t._getIconAggregation());a.renderText(e,t)};var h=o.extend("sap.m.internal.ObjectMarkerCustomText",{metadata:{library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},iconOnly:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{_iconControl:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}},renderer:d});h.prototype.setIcon=function(e,t){var i=this._getIconAggregation();this.setProperty("icon",e,t);i.setSrc(e);return this};h.prototype._getIconAggregation=function(){var e=this.getAggregation("_iconControl");if(!e){e=new s;this.setAggregation("_iconControl",e,true)}return e};var f=t.extend(l);f.apiVersion=2;f.render=function(e,t){if(t.getIconOnly()){var i=t._getIconAggregation(),r=t.getTooltip_AsString();i.setAlt(r);i.setTooltip(r);e.renderControl(i)}else{l.render.call(this,e,t)}};f.renderText=function(e,t){e.renderControl(t._getIconAggregation());l.renderText(e,t)};var _=p.extend("sap.m.internal.ObjectMarkerCustomLink",{metadata:{library:"sap.m",properties:{icon:{type:"sap.ui.core.URI",group:"Data",defaultValue:null},iconOnly:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{_iconControl:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}},renderer:f});_.prototype.setIcon=function(e,t){var i=this._getIconAggregation();this.setProperty("icon",e,t);i.setSrc(e);return this};_.prototype._getTabindex=function(){return"0"};_.prototype._getIconAggregation=function(){var e=this.getAggregation("_iconControl");if(!e){e=new s;this.setAggregation("_iconControl",e,true)}return e};_.prototype._determineSelfReferencePresence=function(){if(this.getIcon()&&!this.getText()){return false}else{return p.prototype._determineSelfReferencePresence.apply(this,arguments)}};return y});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ObjectMarkerRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,r){var s=r._getInnerControl(),n=r._isIconVisible()&&!r._isTextVisible(),t;e.openStart("span",r);e.class("sapMObjectMarker");e.openEnd();if(s){s.setIconOnly(n);if(r.hasListeners("press")){t=s._getIconAggregation();if(n&&t&&!t.hasListeners("press")){t.attachPress(r._firePress,r)}}}e.renderControl(s);e.close("span")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ScrollBar",["sap/ui/core/Control","./ScrollBarRenderer"],function(t,o){"use strict";var e=t.extend("sap.m.ScrollBar",{metadata:{library:"sap.m",properties:{scrollPosition:{type:"int",group:"Behavior",defaultValue:0},contentSize:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null}},events:{scroll:{}}},renderer:o});e.prototype.init=function(){this._onScrollHandler=this._onscroll.bind(this)};e.prototype.onBeforeRendering=function(){if(this._$ScrollRef&&this._$ScrollRef.length){this._$ScrollRef.off("scroll",this._onScrollHandler);this._$ScrollRef=null}};e.prototype.onAfterRendering=function(){this._$ScrollRef=this.$("sb");this._$ScrollRef.on("scroll",this._onScrollHandler);this._setScrollPosition(this.getScrollPosition())};e.prototype.onThemeChanged=function(){this.invalidate()};e.prototype.setScrollPosition=function(t){var o=Math.round(Math.max(t,0));this._setScrollPosition(o);return this.setProperty("scrollPosition",o,true)};e.prototype.setContentSize=function(t){var o=this.$("sbcnt");if(o.length){o.height(t)}return this.setProperty("contentSize",t)};e.prototype._onscroll=function(t){var o=Math.abs(Math.round(this._$ScrollRef.scrollTop()));this.setProperty("scrollPosition",o,true);this.fireScroll({pos:o});t.preventDefault();t.stopPropagation();return false};e.prototype._setScrollPosition=function(t){if(this._$ScrollRef&&this._$ScrollRef.length){this._$ScrollRef.scrollTop(t)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/ScrollBarRenderer",["sap/ui/Device","sap/ui/dom/getScrollbarSize"],function(e,n){"use strict";var r={apiVersion:2};r.render=function(n,r){var s="sapMScrollBarTouch",t=r.getContentSize(),a=r.getId(),o=e.support.touch;n.openStart("div",r);n.class("sapMScrollBarOuterDiv");if(o){n.class(s)}n.openEnd();n.openStart("div",a+"-sb");n.class("sapMScrollBarInnerDiv");n.openEnd();n.openStart("div",a+"-sbcnt");n.style("width","0.75rem");n.style("height",t);n.openEnd();n.close("div");n.close("div");n.openStart("div");n.openEnd();n.openStart("span",a+"-ffsize");n.class("sapMScrollBarDistantSpan");n.openEnd();n.close("span");n.close("div");n.close("div")};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SplitButton",["./library","sap/ui/core/Control","./Button","./ButtonRenderer","sap/ui/core/EnabledPropagator","sap/ui/core/IconPool","sap/ui/core/library","./SplitButtonRenderer","sap/ui/events/KeyCodes"],function(t,e,r,o,i,n,a,s,p){"use strict";var u=a.TextDirection;var l=t.ButtonType;var c=e.extend("sap.m.SplitButton",{metadata:{interfaces:["sap.m.IOverflowToolbarContent","sap.m.IToolbarInteractiveControl"],library:"sap.m",properties:{text:{type:"string",group:"Misc",defaultValue:null},type:{type:"sap.m.ButtonType",group:"Appearance",defaultValue:l.Default},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},activeIcon:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},iconDensityAware:{type:"boolean",group:"Misc",defaultValue:true},textDirection:{type:"sap.ui.core.TextDirection",group:"Appearance",defaultValue:u.Inherit}},aggregations:{_textButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_arrowButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{},arrowPress:{}}},renderer:s});i.call(c.prototype);c.prototype.onAfterRendering=function(){var t=this._getTextButton().$(),e=this._getArrowButton().$();t.attr("tabindex","-1");e.attr("tabindex","-1");t.removeAttr("title");e.removeAttr("title");t.removeAttr("aria-describedby");e.removeAttr("aria-describedby")};c.prototype._handleAction=function(t){if(t.getSource().hasStyleClass("sapMSBArrow")){this.fireArrowPress({keyboard:t.getParameter("keyboard")})}else{this.firePress({keyboard:t.getParameter("keyboard")})}};c.prototype.setArrowState=function(t){var e=this.getAggregation("_arrowButton");if(!e){return}if(t){e.$().addClass("sapMSBActive")}else{e.$().removeClass("sapMSBActive")}};c.prototype._getTextButton=function(){var t=this.getAggregation("_textButton");if(!t){t=new r({id:this.getId()+"-textButton",width:"100%",icon:this.getIcon(),text:this.getText(),press:this._handleAction.bind(this)}).addStyleClass("sapMSBText");this.setAggregation("_textButton",t)}return t};c.prototype._getArrowButton=function(){var t=this.getAggregation("_arrowButton");if(!t){t=new r({id:this.getId()+"-arrowButton",icon:"sap-icon://slim-arrow-down",press:this._handleAction.bind(this),tooltip:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("SPLIT_BUTTON_ARROW_TOOLTIP"),ariaHasPopup:a.aria.HasPopup.Menu}).addStyleClass("sapMSBArrow");this.setAggregation("_arrowButton",t)}return t};c.prototype.setProperty=function(t,o,i){if(t==="type"&&(o===l.Up||o===l.Back||o===l.Unstyled)){return this}var n=e.prototype.setProperty.apply(this,arguments);if(t==="activeIcon"||t==="iconDensityAware"||t==="textDirection"){r.prototype.setProperty.apply(this._getTextButton(),arguments)}else if(t==="text"||t==="type"||t==="icon"){var a="set"+y(t);r.prototype[a].call(this._getTextButton(),o);if(t==="type"){r.prototype[a].call(this._getArrowButton(),o)}}return n};function y(t){return t.charAt(0).toUpperCase()+t.slice(1)}c.prototype.onkeydown=function(t){if(t.which===p.SPACE){t.preventDefault()}this._getTextButton().onkeydown(t)};c.prototype.onkeyup=function(t){this._getTextButton().onkeyup(t)};c.prototype.onsapup=function(t){this._getArrowButton().firePress({keyboard:true})};c.prototype.onsapdown=function(t){this._getArrowButton().firePress({keyboard:true})};c.prototype.onsapupmodifiers=function(t){this._getArrowButton().firePress({keyboard:true})};c.prototype.onsapdownmodifiers=function(t){this._getArrowButton().firePress({keyboard:true})};c.prototype.onsapshow=function(t){this._getArrowButton().firePress();t.preventDefault()};c.prototype.getButtonTypeAriaLabelId=function(){var t=this._getTextButton().getType();return o.getButtonTypeAriaLabelId(t)};c.prototype.getTitleAttributeValue=function(){var t=this.getTooltip_AsString(),e=n.getIconInfo(this.getIcon()),r;if(t||e&&e.text&&!this.getText()){r=t||e.text}return r};c.prototype.getOverflowToolbarConfig=function(){var t={canOverflow:true,propsUnrelatedToSize:["enabled","type","icon","activeIcon"],autoCloseEvents:["press"]};return t};c.prototype._getToolbarInteractive=function(){return true};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/SplitButtonRenderer",["sap/m/library","sap/ui/core/InvisibleText","sap/ui/core/ShortcutHintsMixin"],function(t,e,i){"use strict";var a=t.ButtonType;var r={apiVersion:2};r.CSS_CLASS="sapMSB";r.render=function(t,e){var n=e.getWidth(),s=e.getType(),o=e.getEnabled(),l=e.getTitleAttributeValue(),p;t.openStart("div",e).class(r.CSS_CLASS);if(e.getIcon()){t.class(r.CSS_CLASS+"HasIcon")}if(s===a.Accept||s===a.Reject||s===a.Emphasized||s===a.Transparent||s===a.Attention||s===a.Neutral||s===a.Critical||s===a.Success||s===a.Negative){t.class(r.CSS_CLASS+s)}this.writeAriaAttributes(t,e);t.attr("tabindex",o?"0":"-1");if(l&&!i.isDOMIDRegistered(e.getId())){t.attr("title",l)}if(n!=""||n.toLowerCase()==="auto"){t.style("width",n)}t.openEnd();t.openStart("div").class("sapMSBInner");if(!o){t.class("sapMSBInnerDisabled")}t.openEnd();t.renderControl(e._getTextButton());t.renderControl(e._getArrowButton());t.close("div");if(l){p=e.getId()+"-tooltip";t.openStart("span",p);t.class("sapUiInvisibleText");t.openEnd();t.text(l);t.close("span")}t.close("div")};r.writeAriaAttributes=function(t,e){var i={};this.writeAriaRole(e,i);this.writeAriaLabelledBy(e,i);t.accessibilityState(e,i)};r.writeAriaRole=function(t,e){e["role"]="group"};r.writeAriaLabelledBy=function(t,i){var a="",r=t.getButtonTypeAriaLabelId(),n=t.getTitleAttributeValue(),s;if(t.getText()){a+=t._getTextButton().getId()+"-content";a+=" "}if(r){a+=r;a+=" "}if(n){s=t.getId()+"-tooltip";a+=s+" "}a+=e.getStaticId("sap.m","SPLIT_BUTTON_DESCRIPTION")+" ";a+=e.getStaticId("sap.m","SPLIT_BUTTON_KEYBOARD_HINT");i["labelledby"]={value:a,append:true}};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/TimePicker",["./InputBase","./DateTimeField","./MaskInputRule","./Toolbar","./ToolbarSpacer","./Popover","./ResponsivePopover","sap/ui/core/EnabledPropagator","sap/ui/core/IconPool","./TimePickerInternals","./TimePickerClocks","./TimePickerInputs","./MaskEnabler","sap/ui/Device","sap/ui/core/format/DateFormat","sap/ui/core/format/TimezoneUtil","sap/ui/core/Locale","sap/m/library","sap/ui/core/LocaleData","./TimePickerRenderer","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/InvisibleText","./Button","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(e,t,i,s,r,a,o,n,u,l,h,p,c,m,g,f,d,_,y,P,V,k,C,I,v,S){"use strict";var b=_.PlacementType,T=_.TimePickerMaskMode,M=_.ButtonType,A=1;var x=t.extend("sap.m.TimePicker",{metadata:{library:"sap.m",designtime:"sap/m/designtime/TimePicker.designtime",properties:{localeId:{type:"string",group:"Data"},title:{type:"string",group:"Misc",defaultValue:null},minutesStep:{type:"int",group:"Misc",defaultValue:A},secondsStep:{type:"int",group:"Misc",defaultValue:A},placeholderSymbol:{type:"string",group:"Misc",defaultValue:"_"},mask:{type:"string",group:"Misc",defaultValue:null},maskMode:{type:"sap.m.TimePickerMaskMode",group:"Misc",defaultValue:T.On},support2400:{type:"boolean",group:"Misc",defaultValue:false},hideInput:{type:"boolean",group:"Misc",defaultValue:false},showCurrentTimeButton:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{rules:{type:"sap.m.MaskInputRule",multiple:true,singularName:"rule"},_picker:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"},_numPicker:{type:"sap.m.Popover",multiple:false,visibility:"hidden"}},events:{afterValueHelpOpen:{},afterValueHelpClose:{},liveChange:{parameters:{value:{type:"string"},previousValue:{type:"string"}}}},dnd:{draggable:false,droppable:true}},renderer:P});u.insertFontFaceStyle();n.call(x.prototype,true);c.call(x.prototype);var H={Short:"short",Medium:"medium",Long:"long"},D={Hour:"hour",Minute:"minute",Second:"second"},O="-";x.prototype.init=function(){t.prototype.init.apply(this,arguments);c.init.apply(this,arguments);this.setDisplayFormat(w());this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._bValid=false;this._sUsedDisplayPattern=null;this._sUsedValuePattern=null;this._oDisplayFormat=null;this._sValueFormat=null;this._oPopoverKeydownEventDelegate=null;this._rPlaceholderRegEx=new RegExp(O,"g");this._sLastChangeValue=null;var e=this.addEndIcon({id:this.getId()+"-icon",src:this.getIconSrc(),noTabStop:true,decorative:false,useIconTooltip:false,alt:this._oResourceBundle.getText("OPEN_PICKER_TEXT")});this._bShouldClosePicker=false;this._bShouldCloseNumericPicker=false;e.addEventDelegate({onmousedown:function(e){this._bShouldClosePicker=this.isOpen()}},this);e.attachPress(function(){this.toggleOpen(this._bShouldClosePicker)},this);this._sMinutes="00";this._sSeconds="00"};x.prototype.onBeforeRendering=function(){t.prototype.onBeforeRendering.apply(this,arguments);var e=this._getValueHelpIcon();if(e){e.setProperty("visible",this.getEditable(),true)}};x.prototype.exit=function(){if(this._oTimeSemanticMaskHelper){this._oTimeSemanticMaskHelper.destroy()}c.exit.apply(this,arguments);this._removePickerEvents();this._oResourceBundle=null;this._bValid=false;this._sUsedDisplayPattern=null;this._oDisplayFormat=null;this._oPopoverKeydownEventDelegate=null;this._sUsedValuePattern=null;this._sValueFormat=null;this._sLastChangeValue=null};x.prototype.getIconSrc=function(){return u.getIconURI("time-entry-request")};x.prototype.isOpen=function(){return this._getPicker()&&this._getPicker().isOpen()};x.prototype.toggleOpen=function(e){if(this.getEditable()&&this.getEnabled()){this[e?"_closePicker":"_openPicker"]()}};x.prototype.isNumericOpen=function(){return this._getNumericPicker()&&this._getNumericPicker().isOpen()};x.prototype.toggleNumericOpen=function(e){if(this.getEditable()&&this.getEnabled()){this[e?"_closeNumericPicker":"_openNumericPicker"]();this._openByFocusIn=false;this._openByClick=false}};x.prototype.onfocusin=function(e){var i=this._getPicker(),s=this._isIconClicked(e),r=this._getNumericPicker(),a=r&&r.isOpen();if(!this._isMobileDevice()){t.prototype.onfocusin.apply(this,arguments);c.onfocusin.apply(this,arguments)}if(i&&i.isOpen()&&!s){this._closePicker();return}if(this._openByClick){this._openByClick=false;return}if(!this._isMobileDevice()){return}if(!s){this.toggleNumericOpen(a)}this._openByFocusIn=true};x.prototype.onclick=function(e){var t=this._isIconClicked(e),i=this._getNumericPicker(),s=i&&i.isOpen();if(this._openByFocusIn){this._openByFocusIn=false;return}if(!this._isMobileDevice()){return}if(!t){this.toggleNumericOpen(s)}this._openByClick=true};x.prototype._isIconClicked=function(e){return v(e.target).hasClass("sapUiIcon")||v(e.target).hasClass("sapMInputBaseIconContainer")||v(e.target).hasClass("sapUiIconTitle")};x.prototype.onBeforeOpen=function(){var t=this._getClocks(),i=this.getDateValue(),s=i?i.getMilliseconds():0,r=this._getFormatter(true).oFormatOptions.pattern,a=r.indexOf("HH"),o=r.indexOf("H"),n=l._isHoursValue24(this._$input.val(),a,o)?l._replace24HoursWithZero(this._$input.val(),a,o):this._$input.val(),u;var h=this._getFormatter(true).parse(n)||i;var p=this._getFormatter(true).format(h);t.setValue(p);u=this._getPickerParser().format(i||new Date,S.getTimezone());i=this._getPickerParser().parse(u,f.getLocalTimezone())[0];i.setMilliseconds(s);if(this._shouldSetInitialFocusedDateValue()){i=this.getInitialFocusedDateValue()||i}t._setTimeValues(i,l._isHoursValue24(this._$input.val(),a,o));this.$().addClass(e.ICON_PRESSED_CSS_CLASS)};x.prototype.onAfterOpen=function(){var e=this._getClocks();if(e){e.showFirstClock();e._focusActiveButton()}this.fireAfterValueHelpOpen()};x.prototype.onAfterClose=function(){this.$().removeClass(e.ICON_PRESSED_CSS_CLASS);this._getClocks().showFirstClock();this.fireAfterValueHelpClose()};x.prototype._isMobileDevice=function(){return!m.system.desktop&&(m.system.phone||m.system.tablet)};x.prototype.onBeforeNumericOpen=function(){var e=this._getInputs(),t=this.getDateValue(),i=this._$input.val(),s=this._getFormatter(true).oFormatOptions.pattern,r=s.indexOf("HH"),a=s.indexOf("H");var o=this._getFormatter(true).parse(i)||t;var n=this._getFormatter(true).format(o);e.setValue(n);if(this._shouldSetInitialFocusedDateValue()){t=this.getInitialFocusedDateValue()}e._setTimeValues(t,l._isHoursValue24(n,r,a))};x.prototype._getValueHelpIcon=function(){var e=this.getAggregation("_endIcon");return e&&e[0]};x.prototype._handleInputChange=function(e){var t,i,s,r,a=this.getValueFormat()||this._sValueFormat&&this._sValueFormat.oFormatOptions.pattern,o,n;a=a?a:"";o=a.indexOf("HH");n=a.indexOf("H");e=e||this._$input.val();i=e;s=l._isHoursValue24(i,o,n);r=this.getSupport2400()&&s;this._bValid=true;if(e!==""){t=this._parseValue(s?l._replace24HoursWithZero(e,o,n):e,true);if(r){t.setMinutes(0,0)}if(!t){this._bValid=false}else{e=this._formatValue(t);if(this.getMaskMode()&&this.getMask()){this._setupMaskVariables()}}}i=r?"24:"+e.replace(/[0-9]/g,"0").slice(0,-3):e;this.updateDomValue(i);if(t){i=e=this._formatValue(t,true);if(r&&t&&t.getHours()===0){i=e=l._replaceZeroHoursWith24(e,o,n)}}this.setProperty("value",i,true);this.setLastValue(e);if(this._bValid){this.setProperty("dateValue",t,true)}this.fireChangeEvent(i,{valid:this._bValid});return true};x.prototype.onChange=function(e){var t=e?e.value:null;if(this.getEditable()&&this.getEnabled()){return this._handleInputChange(t)}return false};x.prototype.setMinutesStep=function(e){var t=this._getClocks(),i=this._getInputs();e=Math.max(A,e||A);if(t){t.setMinutesStep(e)}if(i){i.setMinutesStep(e)}return this.setProperty("minutesStep",e,true)};x.prototype.setSecondsStep=function(e){var t=this._getClocks(),i=this._getInputs();e=Math.max(A,e||A);if(t){t.setSecondsStep(e)}if(i){i.setSecondsStep(e)}return this.setProperty("secondsStep",e,true)};x.prototype.setTitle=function(e){var t=this._getClocks();if(t){t.setLabelText(e)}this.setProperty("title",e,true);return this};x.prototype._handleDateValidation=function(e){if(!e){this._bValid=false;k.warning("Value can not be converted to a valid date",this)}else{this._bValid=true;this.setProperty("dateValue",e,true);var t=this._formatValue(e);if(this.isActive()){this.updateDomValue(t)}else{this.setProperty("value",t,true);this.setLastValue(t);this._sLastChangeValue=t}}};x.prototype.setSupport2400=function(e){var t=this._getClocks(),i=this._getInputs();this.setProperty("support2400",e,true);if(t){t.setSupport2400(e)}if(i){i.setSupport2400(e)}this._initMask();return this};x.prototype.setDisplayFormat=function(e){var t=this._getClocks(),i=this._getInputs();this.setProperty("displayFormat",e,true);this._initMask();if(t){t.setValueFormat(e);t.setDisplayFormat(e)}if(i){i.setValueFormat(e);i.setDisplayFormat(e)}var s=this.getDateValue();if(!s){return this}var r=this._formatValue(s);this.updateDomValue(r);this.setLastValue(r);return this};x.prototype.setValue=function(e){if(e){this._getFormatter()}var t,i,s=this.getValueFormat()||this._sValueFormat&&this._sValueFormat.oFormatOptions.pattern,r=this._getClocks(),a=this._getInputs(),o,n,u=false;s=s?s:"";o=s.indexOf("HH");n=s.indexOf("H");e=this.validateProperty("value",e);this._initMask();if(this.getValue()!==e){this._sLastChangeValue=e}if(this.getDomRef()&&!this._getInputValue()){u=true}c.setValue.call(this,e);if(this.getDomRef()&&this._bPreferUserInteraction&&u){this.getFocusDomRef().value=""}if(this.getMask()){this._setupMaskVariables()}this._bValid=true;if(e){t=this._parseValue(l._isHoursValue24(e,o,n)?l._replace24HoursWithZero(e,o,n):e);if(!t){this._bValid=false;k.warning("Value can not be converted to a valid date",this)}}if(this._bValid){this.setProperty("dateValue",t,true)}if(t&&!this.getSupport2400()){i=this._formatValue(t)}else{i=e}if(r){r.setValue(this._formatValue(t))}if(a){a.setValue(this._formatValue(t))}this.updateDomValue(i);this.setLastValue(i);return this};x.prototype.setDateValue=function(e){this._initMask();return t.prototype.setDateValue.apply(this,arguments)};x.prototype.setLocaleId=function(e){var t=this.getValue(),i=this._getClocks(),s=this._getInputs();this.setProperty("localeId",e,true);this._initMask();this._oDisplayFormat=null;this._sValueFormat=null;if(t){this.setValue(t)}if(i){i.setLocaleId(e)}if(s){s.setLocaleId(e)}return this};x.prototype.setShowCurrentTimeButton=function(e){var t=this._getClocks(),i=this._getNumericPicker();t&&t.setShowCurrentTimeButton(e);i&&i.getContent()[0].setShowCurrentTimeButton(e);return this.setProperty("showCurrentTimeButton",e)};x.prototype._getDefaultDisplayStyle=function(){return H.Medium};x.prototype._getDefaultValueStyle=function(){return H.Medium};x.prototype._getLocale=function(){var e=this.getLocaleId();return e?new d(e):S.getFormatSettings().getFormatLocale()};x.prototype._getFormatterInstance=function(e,t,i,s,r){var a=this._getLocale();if(t===H.Short||t===H.Medium||t===H.Long){e=g.getTimeInstance({style:t,strictParsing:true,relative:i},a)}else{e=g.getTimeInstance({pattern:t,strictParsing:true,relative:i},a)}if(r){this._sUsedDisplayPattern=t;this._oDisplayFormat=e}else{this._sUsedValuePattern=t;this._sValueFormat=e}return e};x.prototype._getFormat=function(){var e=this._getDisplayFormatPattern();if(!e){e=H.Medium}if(Object.keys(H).indexOf(e)!==-1){e=w()}return e};x.prototype.onsappageup=function(e){this._increaseTime(1,D.Hour);e.preventDefault()};x.prototype.onsappageupmodifiers=function(e){if(!(e.ctrlKey||e.metaKey||e.altKey)&&e.shiftKey){this._increaseTime(1,D.Minute)}if(!e.altKey&&e.shiftKey&&(e.ctrlKey||e.metaKey)){this._increaseTime(1,D.Second)}e.preventDefault()};x.prototype.onsappagedown=function(e){this._increaseTime(-1,D.Hour);e.preventDefault()};x.prototype.onsappagedownmodifiers=function(e){if(!(e.ctrlKey||e.metaKey||e.altKey)&&e.shiftKey){this._increaseTime(-1,D.Minute)}if(!e.altKey&&e.shiftKey&&(e.ctrlKey||e.metaKey)){this._increaseTime(-1,D.Second)}e.preventDefault()};x.prototype.onkeydown=function(e){var t=V,i=e.which||e.keyCode,s=e.altKey,r;if(i===t.F4||s&&(i===t.ARROW_UP||i===t.ARROW_DOWN)){r=this._getPicker()&&this._getPicker().isOpen();if(!r){this._openPicker()}else{this._closePicker()}e.preventDefault()}else if(!this._isMobileDevice()){c.onkeydown.call(this,e)}else{if(i===V.ENTER||i===V.SPACE){this._openNumericPicker()}}};x.prototype._getPicker=function(){return this.getAggregation("_picker")};x.prototype._getNumericPicker=function(){return this.getAggregation("_numPicker")};x.prototype._removePickerEvents=function(){var e,t=this._getPicker();if(t){e=t.getAggregation("_popup");if(typeof this._oPopoverKeydownEventDelegate==="function"){e.removeEventDelegate(this._oPopoverKeydownEventDelegate)}}};x.prototype.openBy=function(e){this._openPicker(e)};x.prototype._openPicker=function(e){var t=this._getPicker();if(!t){t=this._createPicker(this._getDisplayFormatPattern())}if(!e){e=this.getDomRef()}t.openBy(e);t.getContent()[0]._sMinutes=this._sMinutes;t.getContent()[0]._sSeconds=this._sSeconds;return t};x.prototype._closePicker=function(){var e=this._getPicker();if(e){this._sMinutes=e.getContent()[0]._sMinutes;this._sSeconds=e.getContent()[0]._sSeconds;e.close()}else{k.warning("There is no picker to close.")}return e};x.prototype._openNumericPicker=function(){var e=this._getNumericPicker();if(!e){e=this._createNumericPicker(this._getDisplayFormatPattern())}e.open();e.getContent()[0]._sMinutes=this._sMinutes;e.getContent()[0]._sSeconds=this._sSeconds;return e};x.prototype._closeNumericPicker=function(){var e=this._getNumericPicker();if(e){this._sMinutes=e.getContent()[0]._sMinutes;this._sSeconds=e.getContent()[0]._sSeconds;e.close();this.getDomRef("inner").select()}else{k.warning("There is no picker to close.")}return e};x.prototype._createPicker=function(e){var t=this,i,s,r,a,n,u,l,p=this.getAggregation("_endIcon")[0],c=this._getLocale().getLanguage(),g,f,d;a=sap.ui.getCore().getLibraryResourceBundle("sap.m");n=a.getText("TIMEPICKER_SET");u=a.getText("TIMEPICKER_CANCEL");l=this._oResourceBundle.getText("TIMEPICKER_SET_TIME");r=new h(this.getId()+"-clocks",{support2400:this.getSupport2400(),displayFormat:e,valueFormat:e,localeId:c,minutesStep:this.getMinutesStep(),secondsStep:this.getSecondsStep(),showCurrentTimeButton:this.getShowCurrentTimeButton()});r._setAcceptCallback(this._handleOkPress.bind(this));var _=this._getValueStateHeader();s=new o(t.getId()+"-RP",{showCloseButton:false,showHeader:false,horizontalScrolling:false,verticalScrolling:true,title:l,placement:b.VerticalPreferredBottom,contentWidth:"20rem",beginButton:new I(this.getId()+"-OK",{text:n,type:M.Emphasized,press:this._handleOkPress.bind(this)}),endButton:new I(this.getId()+"-Cancel",{text:u,press:this._handleCancelPress.bind(this)}),content:[_,r],ariaLabelledBy:C.getStaticId("sap.m","TIMEPICKER_SET_TIME"),beforeOpen:this.onBeforeOpen.bind(this),afterOpen:this.onAfterOpen.bind(this),afterClose:this.onAfterClose.bind(this)});_.setPopup(s._oControl);i=s.getAggregation("_popup");if(i.setShowArrow){i.setShowArrow(false)}i.oPopup.setExtraContent([p]);if(m.system.phone){g=this.$("inner").attr("aria-labelledby");f=g&&g.split(" ")[0];d=f?document.getElementById(f).textContent:"";if(d){s.setTitle(d)}s.setShowHeader(true)}else{this._oPopoverKeydownEventDelegate={onkeydown:function(e){var t=V,i=e.which||e.keyCode,s=e.altKey;if(s&&(i===t.ARROW_UP||i===t.ARROW_DOWN)||i===t.F4){this._handleOkPress(e);this.focus();e.preventDefault()}}};i.addEventDelegate(this._oPopoverKeydownEventDelegate,this)}s.addStyleClass(this.getRenderer().CSS_CLASS+"DropDown");s.open=function(){return this.openBy(t)};this.setAggregation("_picker",s,true);return s};x.prototype._createNumericPicker=function(e){var t=this,i,o,n,u,l=this._getLocale().getLanguage();o=sap.ui.getCore().getLibraryResourceBundle("sap.m");n=o.getText("TIMEPICKER_SET");u=o.getText("TIMEPICKER_CANCEL");i=new a(t.getId()+"-NP",{showArrow:false,showHeader:false,horizontalScrolling:false,verticalScrolling:false,placement:b.VerticalPreferredBottom,content:[new p(this.getId()+"-inputs",{support2400:this.getSupport2400(),displayFormat:e,valueFormat:e,localeId:l,minutesStep:this.getMinutesStep(),secondsStep:this.getSecondsStep(),showCurrentTimeButton:this.getShowCurrentTimeButton()})],footer:[new s({content:[new r,new I(this.getId()+"-NumericOK",{text:n,type:M.Emphasized,press:this._handleNumericOkPress.bind(this)}),new I(this.getId()+"-NumericCancel",{text:u,press:this._handleNumericCancelPress.bind(this)})]})],ariaLabelledBy:C.getStaticId("sap.m","TIMEPICKER_SET_TIME"),beforeOpen:this.onBeforeNumericOpen.bind(this),afterOpen:function(){this.fireAfterValueHelpOpen()}.bind(this),afterClose:function(){this.fireAfterValueHelpClose()}.bind(this)});i.open=function(){return this.openBy(t)};this.setAggregation("_numPicker",i,true);return i};x.prototype._getClocks=function(){var e=this._getPicker();if(!e){return null}return e.getContent()[1]};x.prototype._getInputs=function(){var e=this._getNumericPicker();if(!e){return null}return e.getContent()[0]};x.prototype._handleOkPress=function(e){var t=this._getClocks().getTimeValues(),i,s=this._getPickerParser().format(t,f.getLocalTimezone());t=this._getPickerParser().parse(s,S.getTimezone())[0];this._isClockPicker=true;this._isNumericPicker=false;i=this._formatValue(t);this.updateDomValue(i);this._handleInputChange();this._closePicker()};x.prototype._handleCancelPress=function(e){this._closePicker()};x.prototype._handleNumericOkPress=function(e){var t=this._getInputs().getTimeValues(),i,s=this._getPickerParser().format(t,f.getLocalTimezone());t=this._getPickerParser().parse(s,S.getTimezone())[0];this._isClockPicker=false;this._isNumericPicker=true;i=this._formatValue(t);this.updateDomValue(i);this._handleInputChange();this.getDomRef("inner").select();this._closeNumericPicker()};x.prototype._handleNumericCancelPress=function(e){this._closeNumericPicker()};x.prototype._getLocaleBasedPattern=function(e){return y.getInstance(S.getFormatSettings().getFormatLocale()).getTimePattern(e)};x.prototype._parseValue=function(e,i){if(i){e=this._oTimeSemanticMaskHelper.stripValueOfLeadingSpaces(e);e=e.replace(this._rPlaceholderRegEx,"")}return t.prototype._parseValue.call(this,e,i)};x.prototype._formatValue=function(e,i){var s=t.prototype._formatValue.apply(this,arguments),r=this.getValueFormat()||this._sValueFormat&&this._sValueFormat.oFormatOptions.pattern,a,o,n;r=r?r:"";a=r.indexOf("HH");o=r.indexOf("H");if(e){if(!i&&this._oTimeSemanticMaskHelper){s=this._oTimeSemanticMaskHelper.formatValueWithLeadingTrailingSpaces(s)}}if(this._isNumericPicker&&this.isNumericOpen()&&this._getInputs()&&this._getInputs()._getHoursInput()&&this._getInputs()._getHoursInput().getValue()==="24"||this._isClockPicker&&this.isOpen()&&this._getClocks()&&this._getClocks()._getHoursClock()&&this._getClocks()._getHoursClock().getSelectedValue()===24||this._sLastChangeValue&&this._sLastChangeValue.indexOf("24")>-1){n=true}if(e&&e.getHours()===0&&this.getSupport2400()&&n){s=l._replaceZeroHoursWith24(s,a,o)}return s};x.prototype._increaseTime=function(e,t){var i=this.getDateValue(),s,r;if(i&&this.getEditable()&&this.getEnabled()){s=new Date(i.getTime());switch(t){case D.Hour:s.setHours(s.getHours()+e);r=60*60*1e3;break;case D.Minute:s.setMinutes(s.getMinutes()+e);r=60*1e3;break;case D.Second:r=1e3;s.setSeconds(s.getSeconds()+e)}if(e<0&&s.getTime()-i.getTime()!==e*r){s=new Date(i.getTime()+e*r)}this.setDateValue(s);this.fireChangeEvent(this.getValue(),{valid:true})}};x.prototype._initMask=function(){if(this._oTimeSemanticMaskHelper){this._oTimeSemanticMaskHelper.destroy()}this._oTimeSemanticMaskHelper=new L(this)};x.prototype._isMaskEnabled=function(){return this.getMaskMode()===T.On&&!this._isMobileDevice()};x.prototype._shouldSetInitialFocusedDateValue=function(){if(!this._isValidValue()){return true}return!this.getValue()&&!!this.getInitialFocusedDateValue()};x.prototype._isValidValue=function(){return this._bValid};x.prototype.fireChangeEvent=function(e,i){if(e){e=e.trim()}if(e!==this._sLastChangeValue){this._sLastChangeValue=e;t.prototype.fireChangeEvent.call(this,e,i)}};var L=function(e){var t=e._getDisplayFormatPattern(),s,r,a=e._getLocale(),o;if(e._checkStyle(t)){s=y.getInstance(a).getTimePattern(t)}else{s=t.replace(/hh/gi,"h").replace(/h(?!')/gi,"h9").replace(/'h(?=')/gi,"'^h")}this._oTimePicker=e;this.aOriginalAmPmValues=y.getInstance(a).getDayPeriods("abbreviated");this.aAmPmValues=this.aOriginalAmPmValues.slice(0);this.iAmPmValueMaxLength=Math.max(this.aAmPmValues[0].length,this.aAmPmValues[1].length);for(o=0;o<this.aAmPmValues.length;o++){while(this.aAmPmValues[o].length<this.iAmPmValueMaxLength){this.aAmPmValues[o]+=" "}}this.b24H=t.indexOf("H")!==-1;this.bLeadingZero=t.indexOf("HH")!==-1||t.indexOf("hh")!==-1;this.sLeadingChar=this.bLeadingZero?"0":" ";this.sAlternativeLeadingChar=this.bLeadingZero?" ":"0";this.sLeadingRegexChar=this.bLeadingZero?"0":"\\s";e.setPlaceholderSymbol(O);if(this.b24H){r="["+this.sLeadingRegexChar+"012]"}else{r="["+this.sLeadingRegexChar+"1]"}this._maskRuleHours=new i({maskFormatSymbol:"h",regex:r});e.addRule(this._maskRuleHours);this.iHourNumber1Index=s.indexOf("h9");this.iHourNumber2Index=this.iHourNumber1Index!==-1?this.iHourNumber1Index+1:-1;this.iMinuteNumber1Index=s.indexOf("mm");this.iSecondNumber1Index=s.indexOf("ss");s=s.replace(/'mm(?=')/g,"'^mm").replace(/mm(?!')/g,"59").replace(/'ss(?=')/g,"'^ss").replace(/ss(?!')/g,"59").replace(/'/g,"");this._maskRuleMinSec=new i({maskFormatSymbol:"5",regex:"[0-5]"});e.addRule(this._maskRuleMinSec);this.aAllowedHours=m.call(this,this.b24H,this.sLeadingChar);this.aAllowedMinutesAndSeconds=g.call(this);this.iAmPmChar1Index=s.indexOf("a");this.iAfterAmPmValueIndex=-1;if(this.iAmPmChar1Index!==-1){this.iAfterAmPmValueIndex=this.iAmPmChar1Index+this.iAmPmValueMaxLength;var n=this.iAmPmValueMaxLength-"a".length;this.shiftIndexes(n);var u=65;var l="";var h="";var p="";for(o=0;o<this.iAmPmValueMaxLength;o++){h="[";if(this.aAmPmValues[0][o]){h+=this.aAmPmValues[0][o]}else{h+="\\s"}if(this.aAmPmValues[1][o]!==this.aAmPmValues[0][o]){if(this.aAmPmValues[1][o]){h+=this.aAmPmValues[1][o]}else{h+="\\s"}}h+="]";p=String.fromCharCode(u++);l+=p;this._maskRuleChars=new i({maskFormatSymbol:p,regex:h});e.addRule(this._maskRuleChars)}s=s.replace(/a/g,l)}e.setMask(s);function c(e,t,i){var s=[],r,a;for(a=e;a<=t;a++){r=a.toString();if(a<10){r=i+r}s.push(r)}return s}function m(e,t){var i=e?0:1,s=this._oTimePicker.getSupport2400()?24:23,r=e?s:12;return c(i,r,t)}function g(){return c(0,59,"0")}};L.prototype.replaceChar=function(e,t,i){var s=t-this.iAmPmChar1Index,r,a,o,n,u,l,h;if(t===this.iHourNumber1Index&&this.sAlternativeLeadingChar===e){if(this.aAllowedHours.indexOf(this.sLeadingChar+e)!==-1){return this.sLeadingChar+e}else{return this.sLeadingChar}}else if(t===this.iHourNumber1Index&&!this._oTimePicker._isCharAllowed(e,t)&&this.aAllowedHours.indexOf(this.sLeadingChar+e)!==-1){return this.sLeadingChar+e}else if(t===this.iHourNumber2Index&&i[this.iHourNumber1Index]===O){this._oTimePicker._oTempValue.setCharAt(this.sLeadingChar,this.iHourNumber1Index);return e}else if(t===this.iHourNumber2Index&&this.aAllowedHours.indexOf(i[this.iHourNumber1Index]+e)===-1){return""}else if((t===this.iMinuteNumber1Index||t===this.iSecondNumber1Index)&&!this._oTimePicker._isCharAllowed(e,t)&&this.aAllowedMinutesAndSeconds.indexOf("0"+e)!==-1){return"0"+e}else if(s>=0&&t<this.iAfterAmPmValueIndex){r=i.slice(this.iAmPmChar1Index,t);a=this.aAmPmValues[0].slice(0,s);o=this.aAmPmValues[1].slice(0,s);u=this.aAmPmValues[0].slice(s,this.iAfterAmPmValueIndex);l=this.aAmPmValues[1].slice(s,this.iAfterAmPmValueIndex);n=a===o;var p="";for(h=s;h<this.iAmPmValueMaxLength;h++){if(this.aAmPmValues[0][h]===this.aAmPmValues[1][h]){p+=this.aAmPmValues[0][h]}else{break}}if(h===this.iAmPmValueMaxLength||h!==s){return p}else{if(!n){if(r===a){return u}else if(r===o){return l}else{return e}}else{if(this.aAmPmValues[0][s].toLowerCase()===e.toLowerCase()&&this.aAmPmValues[0]===r+u){return u}else if(this.aAmPmValues[1][s].toLowerCase()===e.toLowerCase()&&this.aAmPmValues[1]===r+l){return l}else{return e}}}}else{return e}};L.prototype.formatValueWithLeadingTrailingSpaces=function(e){var t=this._oTimePicker.getMask().length;if(this.aOriginalAmPmValues[0]!==this.aAmPmValues[0]){e=e.replace(this.aOriginalAmPmValues[0],this.aAmPmValues[0])}if(this.aOriginalAmPmValues[1]!==this.aAmPmValues[1]){e=e.replace(this.aOriginalAmPmValues[1],this.aAmPmValues[1])}while(t>e.length){e=[e.slice(0,this.iHourNumber1Index)," ",e.slice(this.iHourNumber1Index)].join("")}return e};L.prototype.stripValueOfLeadingSpaces=function(e){if(e[this.iHourNumber1Index]===" "){e=[e.slice(0,this.iHourNumber1Index),e.slice(this.iHourNumber1Index+1)].join("")}return e};L.prototype.shiftIndexes=function(e){if(this.iAmPmChar1Index<this.iHourNumber1Index){this.iHourNumber1Index+=e;this.iHourNumber2Index+=e}if(this.iAmPmChar1Index<this.iMinuteNumber1Index){this.iMinuteNumber1Index+=e}if(this.iAmPmChar1Index<this.iSecondNumber1Index){this.iSecondNumber1Index+=e}};L.prototype.destroy=function(){if(this._maskRuleHours){this._maskRuleHours.destroy();this._maskRuleHours=null}if(this._maskRuleMinSec){this._maskRuleMinSec.destroy();this._maskRuleMinSec=null}if(this._maskRuleChars){this._maskRuleChars.destroy();this._maskRuleChars=null}};x.prototype._feedReplaceChar=function(e,t,i){return this._oTimeSemanticMaskHelper.replaceChar(e,t,i)};x.prototype._getAlteredUserInputValue=function(e){return e?this._formatValue(this._parseValue(e,true),true):e};x.prototype.getAccessibilityInfo=function(){var e=this.getRenderer();var i=t.prototype.getAccessibilityInfo.apply(this,arguments);var s=this.getValue()||"";if(this._bValid){var r=this.getDateValue();if(r){s=this._formatValue(r)}}v.extend(true,i,{role:e.getAriaRole(this),type:sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("ACC_CTR_TYPE_TIMEINPUT"),description:[s,e.getLabelledByAnnouncement(this),e.getDescribedByAnnouncement(this)].join(" ").trim(),autocomplete:"none",haspopup:true});return i};function w(){var e=S.getFormatSettings().getFormatLocale(),t=y.getInstance(e);return t.getTimePattern(H.Medium)}x.prototype._revertKey=function(e,t){t=t||this._getTextSelection();var i=t.iFrom,s=t.iTo,r=i,a,o;if(!t.bHasSelection){if(e.bBackspace){r=i=this._oRules.previousTo(i)}else if(e.bDelete){a=this.getPlaceholderSymbol();o=this._oTempValue._aContent.length;while((this._oTempValue._aContent[i]===a||this._oTempValue._aInitial[i]!==a)&&i<o){i++}s=i}}if(e.bBackspace||e.bDelete&&t.bHasSelection){s=s-1}this._resetTempValue(i,s);this._bCheckForLiveChange=true;this.updateDomValue(this._oTempValue.toString());this._setCursorPosition(Math.max(this._iUserInputStartPosition,r))};x.prototype._getPickerParser=function(){if(!this._clocksParser){this._clocksParser=g.getDateTimeWithTimezoneInstance({showTimezone:false})}return this._clocksParser};x._PICKER_CONTENT_HEIGHT="25rem";return x});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/TimePickerRenderer",["sap/ui/core/Renderer","./InputBaseRenderer","sap/ui/core/library"],function(e,t,i){"use strict";var a=e.extend(t);a.apiVersion=2;a.CSS_CLASS="sapMTimePicker";a.addOuterClasses=function(e,i){e.class(a.CSS_CLASS);if(i.getHideInput()){e.class("sapMTimePickerHiddenInput")}t.addOuterClasses.apply(this,arguments)};a.writeInnerValue=function(e,t){e.attr("value",t._formatValue(t.getDateValue()))};a.getLabelledByAnnouncement=function(e){return e._getPlaceholder()||""};a.getAccessibilityState=function(e){var a=t.getAccessibilityState.apply(this,arguments);a["roledescription"]=e._oResourceBundle.getText("ACC_CTR_TYPE_TIMEINPUT");a["autocomplete"]="none";a["haspopup"]=i.aria.HasPopup.Dialog.toLowerCase();a["disabled"]=null;a["owns"]=e.getId()+"-clocks";if(e._isMobileDevice()){a["describedby"]=e._oResourceBundle.getText("ACC_CTR_TYPE_TIMEINPUT_MOBILE_DESCRIBEDBY")}return a};a.writeInnerAttributes=function(e,t){if(t._isMobileDevice()){e.attr("readonly","readonly")}if(t.getShowValueStateMessage()){e.attr("autocomplete","off")}};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/TimePickerSlider",["sap/ui/core/Control","./TimePickerSliderRenderer","sap/ui/core/IconPool","sap/ui/Device","sap/ui/events/KeyCodes","sap/m/Button","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(e,t,i,s,n,a,o,r){"use strict";var l=e.extend("sap.m.TimePickerSlider",{metadata:{library:"sap.m",properties:{selectedValue:{type:"string",defaultValue:null},isCyclic:{type:"boolean",defaultValue:true},label:{type:"string",defaultValue:null},isExpanded:{type:"boolean",defaultValue:false}},aggregations:{items:{type:"sap.m.VisibleItem",multiple:true,singularName:"item"},_arrowUp:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_arrowDown:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},events:{expanded:{},collapsed:{}}},renderer:t});var h=r.getAnimation()?200:0;var d=50;var p=32;var f=32;l.prototype.init=function(){this._bIsDrag=null;this._selectionOffset=0;this._mousedown=false;this._dragSession=null;this._iSelectedItemIndex=-1;this._animatingSnap=false;this._iSelectedIndex=-1;this._animating=false;this._intervalId=null;this._maxScrollTop=null;this._minScrollTop=null;this._marginTop=null;this._marginBottom=null;this._bOneTimeValueSelectionAnimation=false;this._bEnabled=true;if(s.system.desktop){this._fnHandleTypeValues=S.call(this)}this._initArrows()};l.prototype.exit=function(){this._detachEvents();var e=this._getSliderContainerDomRef();if(e){e.stop()}if(this._intervalId){clearInterval(this._intervalId);this._intervalId=null}};l.prototype.onBeforeRendering=function(){this._detachEvents()};l.prototype.onAfterRendering=function(){if(s.system.phone){setTimeout(this._afterExpandCollapse.bind(this),0)}else{this._afterExpandCollapse()}this._attachEvents()};l.prototype.onThemeChanged=function(e){this.invalidate()};l.prototype.fireTap=function(e){var t,i,n;if(!this.getIsExpanded()){if(s.system.desktop){this.focus()}else{this.setIsExpanded(true)}}else{t=e.srcElement||e.originalTarget;if(t&&t.tagName.toLowerCase()==="li"){i=o(t).text();n=_.call(this,i);this._iClickedIndex=Array.prototype.slice.call(t.parentElement.children).indexOf(t);this._bOneTimeValueSelectionAnimation=true;this.setSelectedValue(n);this._fireSelectedValueChange(n)}else{this._addSelectionStyle();this.focus()}}};l.prototype.setSelectedValue=function(e){var t=u(this._getVisibleItems(),function(t){return t.getKey()===e}),i=this,s,n,a,o;if(t===-1){return this}if(this.getDomRef()){n=this._getSliderContainerDomRef();a=this._getItemHeightInPx();o=this._getContentRepeat();if(t*a>=this._selectionOffset){s=this._getVisibleItems().length*Math.floor(o/2)+t}else{s=this._getVisibleItems().length*Math.ceil(o/2)+t}if(this._bOneTimeValueSelectionAnimation){n.scrollTop((s-this._iClickedIndex+this._iSelectedItemIndex)*a-this._selectionOffset);this._animatingSnap=true;n.animate({scrollTop:s*a-this._selectionOffset},h,"linear",function(){n.clearQueue();i._animatingSnap=false;i._bOneTimeValueSelectionAnimation=false})}else{n.scrollTop(s*a-this._selectionOffset)}this._removeSelectionStyle();this._iSelectedItemIndex=s;this._addSelectionStyle()}return this.setProperty("selectedValue",e,true)};l.prototype.setIsExpanded=function(e,t){this.setProperty("isExpanded",e,true);if(!this.getDomRef()){return this}var i=this.$();if(e){i.addClass("sapMTPSliderExpanded");if(s.system.phone){setTimeout(function(){this._updateDynamicLayout(e);if(!t){this.fireExpanded({ctrl:this})}}.bind(this),0)}else{this._updateDynamicLayout(e);if(!t){this.fireExpanded({ctrl:this})}}}else{this._stopAnimation();if(this._animatingSnap===true){this._animatingSnap=false;this._getSliderContainerDomRef().stop(true);if(this._animatingTargetIndex!==null&&this._animatingTargetIndex!==undefined){this._scrollerSnapped(this._animatingTargetIndex);this._animatingTargetIndex=null}else if(this._iSelectedIndex!==-1){this._scrollerSnapped(this._iSelectedIndex)}}i.removeClass("sapMTPSliderExpanded");this._updateMargins(e);if(s.system.phone){setTimeout(this._afterExpandCollapse.bind(this),0)}else{this._afterExpandCollapse()}if(!t){this.fireCollapsed({ctrl:this})}}return this};l.prototype.onfocusin=function(e){if(s.system.desktop&&!this.getIsExpanded()){this.setIsExpanded(true)}};l.prototype.onfocusout=function(e){var t=e.relatedTarget?e.relatedTarget.id:null,i=[this.getAggregation("_arrowUp").getId(),this.getAggregation("_arrowDown").getId()];if(t&&i.indexOf(t)!==-1){return}if(s.system.desktop&&this.getIsExpanded()){this.setIsExpanded(false)}};l.prototype._onmousewheel=function(e){var t,i,s;e.preventDefault();e.stopPropagation();if(!this.getIsExpanded()||this._intervalId){return false}t=e.originalEvent;i=t.detail?-t.detail>0:t.wheelDelta>0;s=t.detail?-t.detail/3:t.wheelDelta/120;if(!s){return false}this._handleWheelScroll(i,s)};l.prototype._handleWheelScroll=function(e,t){var i=e?Math.ceil:Math.floor,s;if(!this._aWheelDeltas){this._aWheelDeltas=[]}this._aWheelDeltas.push(t);if(!this._bWheelScrolling){this._bWheelScrolling=true;this._intervalId=setInterval(function(){if(!this._aWheelDeltas.length){clearInterval(this._intervalId);this._intervalId=null;this._bWheelScrolling=false}else{s=this._aWheelDeltas[0];this._aWheelDeltas=[];s=i(s);if(s){this._offsetSlider(s)}}}.bind(this),150)}return false};l.prototype.onsappageup=function(e){if(this.getIsExpanded()){var t=this._getVisibleItems()[0],i=t.getKey();this.setSelectedValue(i);this._fireSelectedValueChange(i)}};l.prototype.onsappagedown=function(e){if(this.getIsExpanded()){var t=this._getVisibleItems()[this._getVisibleItems().length-1],i=t.getKey();this.setSelectedValue(i);this._fireSelectedValueChange(i)}};l.prototype.onsapup=function(e){if(this.getIsExpanded()){this._offsetValue(-1)}};l.prototype.onsapdown=function(e){if(this.getIsExpanded()){this._offsetValue(1)}};l.prototype.onkeydown=function(e){var t=e.which||e.keyCode,i=n;if(t>=i.NUMPAD_0&&t<=i.NUMPAD_9){t=this._convertNumPadToNumKeyCode(t)}if(t>=i.A&&t<=i.Z||t>=i.DIGIT_0&&t<=i.DIGIT_9){this._fnHandleTypeValues(e.timeStamp,t)}};l.prototype._getSliderContainerDomRef=function(){return this.$().find(".sapMTimePickerSlider")};l.prototype._getContentRepeat=function(){var e;if(this.getIsCyclic()){e=Math.ceil(d/this._getVisibleItems().length);e=Math.max(e,3)}else{e=1}return e};l.prototype._getItemHeightInPx=function(){return this.$("content").find("li:not(.TPSliderItemHidden)")[0].getBoundingClientRect().height};l.prototype._updateSelectionFrameLayout=function(){var e,t,i,n,a=this.$().offset(),o=a?a.top:0,r=this.$().parents(".sapMTimePickerContainer").offset(),l=r?r.top:0;if(this.getDomRef()){n=this._getItemHeightInPx();e=this.$().find(".sapMTPPickerSelectionFrame");i=o-l;t=(this.$().height()-n+p)/2+i;e.css("top",t);if(s.system.phone){setTimeout(this._afterExpandCollapse.bind(this),0)}else{this._afterExpandCollapse()}}};l.prototype._updateStepAndValue=function(e,t){var i=0,s,n;for(n=0;n<this.getItems().length;n++){if(n%t!==0&&n!==e){this.getItems()[n].setVisible(false)}else{this.getItems()[n].setVisible(true);i++}}if(i>2&&i<13&&this.getDomRef()){s=this.$().find(".sapMTimePickerSlider");s.className="";o(s).addClass("sapMTimePickerSlider SliderValues"+i.toString())}this.setIsCyclic(i>2);this.setSelectedValue(e.toString())};l.prototype._updateMargins=function(e){var t=this._getItemHeightInPx(),i,s,n,a,o,r,l,h;if(this.getDomRef()){t=this._getItemHeightInPx();i=this.$().find(".SliderValues3,.SliderValues4,.SliderValues5,.SliderValues6,.SliderValues7,.SliderValues8,.SliderValues9,.SliderValues10,.SliderValues11,.SliderValues12");if(!i.length){return}if(e){s=this._getVisibleItems().length;n=t*Math.floor(s/2);a=t*Math.ceil(s/2);r=this.$().parents().hasClass("sapUiSizeCompact")?f:0;o=(this.$().height()-t+p)/2;l=o-n-p-r;h=this.$().height()-o-a-r;l=Math.max(l,0);h=Math.max(h,0)}else{l=0;h=0}i.css("margin-top",l);i.css("margin-bottom",h)}};l.prototype._updateDynamicLayout=function(e){this._updateMargins(e);this._updateSelectionFrameLayout()};l.prototype._getSelectionFrameTopOffset=function(){var e=this._getSliderContainerDomRef().find(".sapMTPPickerSelectionFrame"),t=e.offset();return t.top};l.prototype._animateScroll=function(e){var t=this._getSliderContainerDomRef(),i=t.scrollTop(),s=25,n=t.height(),a=this.$("content").height(),o=200,r=n+o,l=this._getContentRepeat(),d=this.getIsCyclic(),p=.9,f=.05,u=this;this._intervalId=setInterval(function(){u._animating=true;i=i-e*s;if(d){i=u._getUpdatedCycleScrollTop(n,a,i,r,l)}else{if(i>u._maxScrollTop){i=u._maxScrollTop;e=0}if(i<u._minScrollTop){i=u._minScrollTop;e=0}}t.scrollTop(i);e*=p;if(Math.abs(e)<f){var o=u._getItemHeightInPx();var c=u._selectionOffset?u._selectionOffset%o:0;var g=Math.round((i+c)/o)*o-c;clearInterval(u._intervalId);u._intervalId=null;u._animating=null;u._iSelectedIndex=Math.round((i+u._selectionOffset)/o);u._animatingSnap=true;t.animate({scrollTop:g},h,"linear",function(){t.clearQueue();u._animatingSnap=false;if(t.css("visibility")==="visible"){u._scrollerSnapped(u._iSelectedIndex)}})}},s)};l.prototype._stopAnimation=function(){if(this._animating){clearInterval(this._intervalId);this._intervalId=null;this._animating=null}};l.prototype._startDrag=function(e){if(!this._dragSession){this._dragSession={};this._dragSession.positions=[]}this._dragSession.pageY=e;this._dragSession.startTop=this._getSliderContainerDomRef().scrollTop()};l.prototype._doDrag=function(e,t){if(this._dragSession){this._dragSession.offsetY=e-this._dragSession.pageY;this._dragSession.positions.push({pageY:e,timeStamp:t});if(this._dragSession.positions.length>20){this._dragSession.positions.splice(0,10)}if(this._bIsDrag){this._getSliderContainerDomRef().scrollTop(this._dragSession.startTop-this._dragSession.offsetY)}}};l.prototype._endDrag=function(e,t){if(this._dragSession){var i,s;for(var n=this._dragSession.positions.length-1;n>=0;n--){i=t-this._dragSession.positions[n].timeStamp;s=e-this._dragSession.positions[n].pageY;if(i>100){break}}var a=s/i;if(this._animating){clearInterval(this._intervalId);this._intervalId=null;this._animating=null}this._dragSession=null;this._animateScroll(a)}};l.prototype._afterExpandCollapse=function(){var e=this.getSelectedValue(),t=this._getSelectionFrameTopOffset(),i=this._getSliderContainerDomRef(),s=i.offset(),n,a,o,r;this._selectionOffset=t-s.top;if(!this.getIsCyclic()){a=this.$("content");r=this._getItemHeightInPx();o=this.$().height();if(this.getIsExpanded()){this._minScrollTop=0;this._marginTop=t-s.top;this._maxScrollTop=r*(this._getVisibleItems().length-1);n=i.height();this._marginBottom=n-this._marginTop-r;if(this._marginBottom<0){this._marginBottom=o-this._marginTop-r}a.css("margin-top",this._marginTop);a.css("margin-bottom",this._marginBottom)}else{this._marginBottom=o-r;a.css("margin-top",0);a.css("margin-bottom",this._marginBottom)}this._selectionOffset=0}if(!this.getIsExpanded()){this._selectionOffset=0}this.$().attr("aria-expanded",this.getIsExpanded());this.setSelectedValue(e)};l.prototype._getUpdatedCycleScrollTop=function(e,t,i,s,n){var a=t-i-e;while(a<s){i=i-t/n;a=t-i-e}while(i<s){i=i+t/n}return i};l.prototype._scrollerSnapped=function(e){var t=e,i=this._getVisibleItems().length,s;while(t>=i){t=t-i}if(!this.getIsCyclic()){t=e}s=this._getVisibleItems()[t].getKey();this.setSelectedValue(s);this._fireSelectedValueChange(s)};l.prototype._updateScroll=function(){var e=this.getSelectedValue();if(e!==this._getVisibleItems()[0].getKey()&&this._getSliderContainerDomRef().scrollTop()+(this._selectionOffset?this._selectionOffset:0)===0){this.setSelectedValue(e);this._fireSelectedValueChange(e)}};l.prototype._addSelectionStyle=function(){var e=this.$("content").find("li:not(.TPSliderItemHidden)"),t=e.eq(this._iSelectedItemIndex).text(),i,s;if(!t){return}s=t;if(s&&s.length>1&&s.indexOf("0")===0){s=s.substring(1)}e.eq(this._iSelectedItemIndex).addClass("sapMTimePickerItemSelected");i=this.getDomRef("valDescription");if(i.innerHTML!==s){i.innerHTML=s}};l.prototype._removeSelectionStyle=function(){var e=this.$("content").find("li:not(.TPSliderItemHidden)");e.eq(this._iSelectedItemIndex).removeClass("sapMTimePickerItemSelected")};l.prototype._attachEvents=function(){var e=this._getSliderContainerDomRef()[0];if(s.system.combi){e.addEventListener("touchstart",o.proxy(c,this),false);e.addEventListener("touchmove",o.proxy(g,this),false);document.addEventListener("touchend",o.proxy(m,this),false);e.addEventListener("mousedown",o.proxy(c,this),false);document.addEventListener("mousemove",o.proxy(g,this),false);document.addEventListener("mouseup",o.proxy(m,this),false)}else{if(s.system.phone||s.system.tablet){e.addEventListener("touchstart",o.proxy(c,this),false);e.addEventListener("touchmove",o.proxy(g,this),false);document.addEventListener("touchend",o.proxy(m,this),false)}else{e.addEventListener("mousedown",o.proxy(c,this),false);document.addEventListener("mousemove",o.proxy(g,this),false);document.addEventListener("mouseup",o.proxy(m,this),false)}}};l.prototype._detachEvents=function(){var e=this._getSliderContainerDomRef()[0];if(e==null){return}if(s.system.combi){e.removeEventListener("touchstart",o.proxy(c,this),false);e.removeEventListener("touchmove",o.proxy(g,this),false);document.removeEventListener("touchend",o.proxy(m,this),false);e.removeEventListener("mousedown",o.proxy(c,this),false);document.removeEventListener("mousemove",o.proxy(g,this),false);document.removeEventListener("mouseup",o.proxy(m,this),false)}else{if(s.system.phone||s.system.tablet){e.removeEventListener("touchstart",o.proxy(c,this),false);e.removeEventListener("touchmove",o.proxy(g,this),false);document.removeEventListener("touchend",o.proxy(m,this),false)}else{e.removeEventListener("mousedown",o.proxy(c,this),false);document.removeEventListener("mousemove",o.proxy(g,this),false);document.removeEventListener("mouseup",o.proxy(m,this),false)}}};l.prototype._offsetValue=function(e){var t=this._getSliderContainerDomRef(),i,s=this._getItemHeightInPx(),n,a,o=this.getIsCyclic(),r=this;this._stopAnimation();if(this._animatingSnap===true){this._animatingSnap=false;this._getSliderContainerDomRef().stop(true);if(this._animatingTargetIndex!==null){this._scrollerSnapped(this._animatingTargetIndex);this._animatingTargetIndex=null}else if(this._iSelectedIndex!==-1){this._scrollerSnapped(this._iSelectedIndex)}}a=this._iSelectedItemIndex+e;i=t.scrollTop();n=i+e*s;if(!o){if(a<0||a>=this._getVisibleItems().length){return}if(n>this._maxScrollTop){n=this._maxScrollTop}if(n<this._minScrollTop){n=this._minScrollTop}}this._animatingSnap=true;this._animatingTargetIndex=a;t.animate({scrollTop:n},h,"linear",function(){t.clearQueue();r._animatingSnap=false;r._animatingTargetIndex=null;if(t.css("visibility")==="visible"){r._scrollerSnapped(a)}})};l.prototype._offsetSlider=function(e){var t=this._getSliderContainerDomRef().scrollTop(),i=this,s=i._getSliderContainerDomRef().height(),n=i.$("content").height(),a=200,o=s+a,r=i._getContentRepeat(),l=i.getIsCyclic(),h=i._getItemHeightInPx();t=t-e*h;if(l){t=i._getUpdatedCycleScrollTop(s,n,t,o,r)}else{if(t>i._maxScrollTop){t=i._maxScrollTop}if(t<i._minScrollTop){t=i._minScrollTop}}i._getSliderContainerDomRef().scrollTop(t);i._iSelectedIndex=Math.round((t+i._selectionOffset)/h);i._scrollerSnapped(i._iSelectedIndex)};l.prototype._initArrows=function(){var e=this,t,s,n=sap.ui.getCore().getLibraryResourceBundle("sap.m");t=new a({icon:i.getIconURI("slim-arrow-up"),press:function(t){e._offsetValue(-1)},tooltip:n.getText("TIMEPICKER_TOOLTIP_UP"),type:"Transparent"});t.addEventDelegate({onAfterRendering:function(){t.$().attr("tabindex",-1)}});this.setAggregation("_arrowUp",t);s=new a({icon:i.getIconURI("slim-arrow-down"),press:function(t){e._offsetValue(1)},tooltip:n.getText("TIMEPICKER_TOOLTIP_DOWN"),type:"Transparent"});s.addStyleClass("sapMTimePickerItemArrowDown");s.addEventDelegate({onAfterRendering:function(){s.$().attr("tabindex",-1)}});this.setAggregation("_arrowDown",s)};l.prototype._convertNumPadToNumKeyCode=function(e){var t=n;if(e>=t.NUMPAD_0&&e<=t.NUMPAD_9){e-=48}return e};function u(e,t){if(e==null){throw new TypeError("findIndex called with null or undefined array")}if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var i=e.length;var s=arguments[1];var n;for(var a=0;a<i;a++){n=e[a];if(t.call(s,n,a,e)){return a}}return-1}var c=function(e){var t=e.touches&&e.touches.length?e.touches[0].pageY:e.pageY;this._bIsDrag=false;if(!this.getIsExpanded()){return}this._stopAnimation();this._startDrag(t);if(!s.system.desktop){e.preventDefault()}this._mousedown=true};var g=function(e){var t=e.touches&&e.touches.length?e.touches[0].pageY:e.pageY;if(!this._mousedown||!this.getIsExpanded()){return}if(!this._bIsDrag&&this._dragSession&&this._dragSession.positions.length){var i=this._dragSession.positions.some(function(e){return Math.abs(e.pageY-t)>5});if(i){this._bIsDrag=true}}this._doDrag(t,e.timeStamp);this._mousedown=true};var m=function(e){var t=e.changedTouches&&e.changedTouches.length?e.changedTouches[0].pageY:e.pageY;if(this._bIsDrag===false){this.fireTap(e);this._dragSession=null}this._bIsDrag=true;if(!this.getIsExpanded()){this._dragSession=null;return}this._endDrag(t,e.timeStamp);this._mousedown=false};var _=function(e){var t=this._getVisibleItems();var i=u(t,function(t){return t.getText()===e});return t[i]?t[i].getKey():""};var S=function(){var e=-1,t=-1,i=1e3,s="",n=function(n,a){var o;if(e+i<n){s=""}else{if(t!==-1){clearTimeout(t);t=-1}}s+=String.fromCharCode(a).toLowerCase();o=this._getVisibleItems().filter(function(e){return e.getKey().indexOf(s)===0});if(o.length>1){t=setTimeout(function(){this.setSelectedValue(s);s="";t=-1}.bind(this),i)}else if(o.length===1){this.setSelectedValue(o[0].getKey());s=""}else{s=""}e=n};return n};l.prototype._getVisibleItems=function(){return this.getItems().filter(function(e){return e.getVisible()})};l.prototype._setEnabled=function(e){this._bEnabled=e;if(e){this.$().removeClass("sapMTPDisabled");this.$().attr("tabindex",0)}else{this.$().addClass("sapMTPDisabled");this.$().attr("tabindex",-1)}return this};l.prototype._getEnabled=function(e){return this._bEnabled};l.prototype._fireSelectedValueChange=function(e){this.fireEvent("_selectedValueChange",{value:e})};return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/TimePickerSliderRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(t,a){var s,i,l=a._getContentRepeat(),n=a.getItems(),r=a.getLabel();t.openStart("div",a);t.attr("tabindex","0");t.class("sapMTPColumn");if(a.getIsExpanded()){t.class("sapMTPSliderExpanded")}if(!a.getIsCyclic()){t.class("sapMTimePickerSliderShort")}if(!a._getEnabled()){t.class("sapMTPDisabled")}t.accessibilityState(a,{role:"list",labelledby:{value:a.getId()+"-label",append:true},describedby:{value:a.getId()+"-valDescription",append:true}});t.openEnd();t.openStart("div",a.getId()+"-label");t.class("sapMTimePickerLabel");t.openEnd();t.text(r);t.close("div");t.openStart("div",a.getId()+"-valDescription");t.attr("aria-hidden","false");t.attr("aria-live","assertive");t.class("sapUiInvisibleText");t.openEnd();t.close("div");t.openStart("div");t.class("sapMTimePickerItemArrows");t.openEnd();t.renderControl(a.getAggregation("_arrowUp"));t.close("div");t.openStart("div");t.class("sapMTimePickerSlider");e.addItemValuesCssClass(t,a);t.attr("unselectable","on");t.openEnd();t.openStart("div");t.class("sapMTPPickerSelectionFrame");t.openEnd();t.close("div");t.openStart("ul",a.getId()+"-content");t.attr("unselectable","on");t.openEnd();for(i=1;i<=l;i++){for(s=0;s<n.length;s++){t.openStart("li");t.class("sapMTimePickerItem");if(!n[s].getVisible()){t.class("TPSliderItemHidden")}t.accessibilityState(a);t.attr("unselectable","on");t.openEnd();t.text(n[s].getText());t.close("li")}}t.close("ul");t.close("div");t.openStart("div");t.class("sapMTimePickerItemArrows");t.openEnd();t.renderControl(a.getAggregation("_arrowDown"));t.close("div");t.close("div")};e.addItemValuesCssClass=function(e,t){var a=t.getItems().filter(function(e){return e.getVisible()}).length;if(a>2&&a<13){e.class("SliderValues"+a.toString())}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/TimePickerSliders",["sap/ui/core/library","sap/ui/core/Control","sap/ui/model/type/Date","sap/ui/model/odata/type/ODataType","sap/ui/core/format/DateFormat","./TimePickerSlider","./TimePickerSlidersRenderer","./VisibleItem","sap/ui/core/LocaleData","sap/ui/Device","sap/ui/core/Locale","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(e,t,i,r,s,n,o,a,l,u,p,d,g){"use strict";var h=1,c=e.CalendarType;var f=t.extend("sap.m.TimePickerSliders",{metadata:{library:"sap.m",properties:{localeId:{type:"string",group:"Data"},displayFormat:{name:"displayFormat",type:"string",group:"Appearance"},labelText:{name:"labelText",type:"string"},minutesStep:{type:"int",group:"Misc",defaultValue:h},secondsStep:{type:"int",group:"Misc",defaultValue:h},width:{type:"sap.ui.core.CSSSize",group:"Appearance"},height:{type:"sap.ui.core.CSSSize",group:"Appearance"},value:{type:"string",group:"Data",defaultValue:null},valueFormat:{type:"string",group:"Data",defaultValue:null},support2400:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{_columns:{type:"sap.m.TimePickerSlider",multiple:true,visibility:"hidden"}},events:{change:{parameters:{value:{type:"string"}}}}},renderer:o});f.prototype.init=function(){var e=g.getFormatSettings().getFormatLocale(),t=l.getInstance(e),i=t.getDayPeriods("abbreviated"),r=t.getTimePattern("medium");this._fnLayoutChanged=d.proxy(this._onOrientationChanged,this);u.resize.attachHandler(this._fnLayoutChanged);this._sAM=i[0];this._sPM=i[1];this._onSliderExpanded=this._onSliderExpanded.bind(this);this._onSliderCollapsed=this._onSliderCollapsed.bind(this);this.setDisplayFormat(r);this._setTimeValues();this._iMinutes;this._iSeconds};f.prototype.exit=function(){this.$().off(u.browser.firefox?"DOMMouseScroll":"mousewheel",this._onmousewheel);u.resize.detachHandler(this._fnOrientationChanged)};f.prototype.onAfterRendering=function(){this.$().off(u.browser.firefox?"DOMMouseScroll":"mousewheel",this._onmousewheel);this.$().on(u.browser.firefox?"DOMMouseScroll":"mousewheel",d.proxy(this._onmousewheel,this));this.$().on("selectstart",S);if(this._getShouldOpenSliderAfterRendering()){if(u.system.desktop){this._getFirstSlider().setIsExpanded(true)}}};f.prototype.setLocaleId=function(e){var t,i;e=this.validateProperty("localeId",e);this.setProperty("localeId",e,true);if(e){t=new p(e);i=l.getInstance(t).getDayPeriods("abbreviated");this._sAM=i[0];this._sPM=i[1];this._destroyColumns();this._setupLists()}return this};f.prototype.setSupport2400=function(e){this.setProperty("support2400",e,true);this._destroyColumns();this._setupLists();return this};f.prototype.setDisplayFormat=function(e){this.setProperty("displayFormat",e,true);this._destroyColumns();this._setupLists();return this};f.prototype.setMinutesStep=function(e){e=Math.max(h,e||h);this.setProperty("minutesStep",e,true);this._destroyColumns();this._setupLists();return this};f.prototype.setSecondsStep=function(e){e=Math.max(h,e||h);this.setProperty("secondsStep",e,true);this._destroyColumns();this._setupLists();return this};f.prototype.setValue=function(e){var t=this._getHoursSlider(),i=this._getValueFormatPattern(),r=i.indexOf("HH"),s=i.indexOf("H"),n=t&&t.getSelectedValue()==="24",o=f._isHoursValue24(e,r,s);if(n&&this._isFormatSupport24()&&!o){e=f._replaceZeroHoursWith24(e,r,s)}e=this.validateProperty("value",e);this.setProperty("value",e,true);var a;if(e){a=this._parseValue(o?f._replace24HoursWithZero(e,r,s):e)}if(a){this._setTimeValues(a,o)}return this};f.prototype.getTimeValues=function(){var e=this._getHoursSlider(),t=this._getMinutesSlider(),i=this._getSecondsSlider(),r=this._getFormatSlider(),s=null,n=null,o=new Date;if(e){s=parseInt(e.getSelectedValue())}if(r){n=r.getSelectedValue()}if(n==="am"&&s===12){s=0}else if(n==="pm"&&s!==12){s+=12}if(s!==null){o.setHours(s.toString())}if(t){o.setMinutes(t.getSelectedValue())}if(i){o.setSeconds(i.getSelectedValue())}return o};f.prototype.collapseAll=function(){var e=this.getAggregation("_columns");if(e){for(var t=0;t<e.length;t++){if(e[t].getIsExpanded()){e[t].setIsExpanded(false)}}}return this};f.prototype.openFirstSlider=function(){var e=this._getFirstSlider();e.setIsExpanded(true);e.focus();return this};f.prototype._setTimeValues=function(e,t){var i=this._getHoursSlider(),r=this._getMinutesSlider(),s=this._getSecondsSlider(),n=this._getFormatSlider(),o,a=null;e=e||new Date;if(Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e)){throw new Error("Date must be a JavaScript date object; "+this)}if(!t){var l=this._formatValue(e,true);this.setProperty("value",l,true);o=e.getHours()}else{o=24}if(n){a=o>=12?"pm":"am";o=o>12?o-12:o;o=o===0?12:o}i&&i.setSelectedValue(o.toString());r&&r._updateStepAndValue(e.getMinutes(),this.getMinutesStep());s&&s._updateStepAndValue(e.getSeconds(),this.getSecondsStep());n&&n.setSelectedValue(a);if(t){this._disableSlider(r);r&&r.setSelectedValue("0");this._disableSlider(s);s&&s.setSelectedValue("0")}else{this._enableSlider(r);this._enableSlider(s)}};f.prototype._updateSlidersValues=function(){var e=this.getAggregation("_columns");if(e){for(var t=0;t<e.length;t++){e[t]._updateScroll()}}};f.prototype.onsaphome=function(e){var t=this._getFirstSlider(),i=this._getCurrentSlider();if(i&&document.activeElement===i.getDomRef()&&this._isSliderEnabled(t)){t.focus()}};f.prototype.onsapend=function(e){var t=this._getLastSlider(),i=this._getCurrentSlider();if(i&&document.activeElement===i.getDomRef()&&this._isSliderEnabled(t)){t.focus()}};f.prototype.onsapleft=function(e){var t,i=this._getCurrentSlider(),r=-1,s=-1,n=this.getAggregation("_columns");if(i&&document.activeElement===i.getDomRef()){r=n.indexOf(i);s=r>0?r-1:n.length-1;t=n[s];if(this._isSliderEnabled(t)){t.focus()}}};f.prototype.onsapright=function(e){var t,i=this._getCurrentSlider(),r=-1,s=-1,n=this.getAggregation("_columns");if(i&&document.activeElement===i.getDomRef()){r=n.indexOf(i);s=r<n.length-1?r+1:0;t=n[s];if(this._isSliderEnabled(t)){t.focus()}}};f.prototype._onmousewheel=function(e){var t=this._getCurrentSlider();if(t){t._onmousewheel(e)}};f.prototype._onOrientationChanged=function(){var e=this.getAggregation("_columns");if(!e){return}for(var t=0;t<e.length;t++){if(e[t].getIsExpanded()){e[t]._updateSelectionFrameLayout()}}};f.prototype._generatePickerListValues=function(e,t,i,r){var s=[],n;for(var o=e;o<=t;o+=1){if(o<10&&r){n="0"+o.toString()}else{n=o.toString()}var l=new a({key:o.toString(),text:n});if(o%i!==0){l.setVisible(false)}s.push(l)}return s};f.prototype._checkStyle=function(e){return e==="short"||e==="medium"||e==="long"||e==="full"};f.prototype._getDisplayFormatPattern=function(){var e=this.getDisplayFormat();if(this._checkStyle(e)){e=this._getLocaleBasedPattern(e)}return e};f.prototype._getValueFormatPattern=function(){var e=this._getBoundValueTypePattern()||this.getValueFormat()||"medium";if(this._checkStyle(e)){e=this._getLocaleBasedPattern(e)}return e};f.prototype._getLocaleBasedPattern=function(e){return l.getInstance(g.getFormatSettings().getFormatLocale()).getTimePattern(e)};f.prototype._destroyColumns=function(){var e=this.getAggregation("_columns");if(e){this.destroyAggregation("_columns")}};f.prototype._setupLists=function(){var e=sap.ui.getCore().getLibraryResourceBundle("sap.m"),t=e.getText("TIMEPICKER_LBL_HOURS"),i=e.getText("TIMEPICKER_LBL_MINUTES"),r=e.getText("TIMEPICKER_LBL_SECONDS"),s=e.getText("TIMEPICKER_LBL_AMPM"),o=this.getMinutesStep(),a=this.getSecondsStep(),l=this._getDisplayFormatPattern();if(l===undefined){return}var u=false,p=false,d,g;if(l.indexOf("HH")!==-1){u=true;d=0;g=this.getSupport2400()?24:23;p=true}else if(l.indexOf("H")!==-1){u=true;d=0;g=this.getSupport2400()?24:23}else if(l.indexOf("hh")!==-1){u=true;d=1;g=12;p=true}else if(l.indexOf("h")!==-1){u=true;d=1;g=12}if(u){this.addAggregation("_columns",new n(this.getId()+"-listHours",{items:this._generatePickerListValues(d,g,1,p),expanded:this._onSliderExpanded,collapsed:this._onSliderCollapsed,label:t}).attachEvent("_selectedValueChange",this._handleHoursChange,this))}if(l.indexOf("m")!==-1){var h=this._generatePickerListValues(0,59,o,true);this.addAggregation("_columns",new n(this.getId()+"-listMins",{items:h,expanded:this._onSliderExpanded,collapsed:this._onSliderCollapsed,label:i}))}if(l.indexOf("s")!==-1){var h=this._generatePickerListValues(0,59,a,true);this.addAggregation("_columns",new n(this.getId()+"-listSecs",{items:h,expanded:this._onSliderExpanded,collapsed:this._onSliderCollapsed,label:r}))}if(l.indexOf("a")!==-1){this.addAggregation("_columns",new n(this.getId()+"-listFormat",{items:[{key:"am",text:this._sAM},{key:"pm",text:this._sPM}],expanded:this._onSliderExpanded,collapsed:this._onSliderCollapsed,label:s,isCyclic:false}).addStyleClass("sapMTimePickerSliderShort"))}var c,f=this.getValue();if(f){c=this._parseValue(f)}if(c){this._setTimeValues(c)}};f.prototype._getCurrentSlider=function(){var e=this.getAggregation("_columns");if(e){for(var t=0;t<e.length;t++){if(e[t].getIsExpanded()){return e[t]}}}return null};f.prototype._getHoursSlider=function(){return sap.ui.getCore().byId(this.getId()+"-listHours")||null};f.prototype._getMinutesSlider=function(){return sap.ui.getCore().byId(this.getId()+"-listMins")||null};f.prototype._getSecondsSlider=function(){return sap.ui.getCore().byId(this.getId()+"-listSecs")||null};f.prototype._getFormatSlider=function(){return sap.ui.getCore().byId(this.getId()+"-listFormat")||null};f.prototype._getFirstSlider=function(){return this.getAggregation("_columns")[0]||null};f.prototype._getLastSlider=function(){var e=this.getAggregation("_columns");return e[e.length-1]||null};f.prototype._parseValue=function(e){return this._getFormatter().parse(e)};f.prototype._isSliderEnabled=function(e){return e._getEnabled()};f.prototype._getFormatter=function(){var e=this._getBoundValueTypePattern(),t=false,i=this.getBinding("value"),r;if(i&&i.oType&&i.oType.oOutputFormat){t=!!i.oType.oOutputFormat.oFormatOptions.relative;r=i.oType.oOutputFormat.oFormatOptions.calendarType}if(!e){e=this.getValueFormat()||"medium";r=c.Gregorian}if(!r){r=g.getCalendarType()}return this._getFormatterInstance(e,t,r)};f.prototype._getBoundValueTypePattern=function(){var e=this.getBinding("value"),t=e&&e.getType&&e.getType();if(t instanceof i){return t.getOutputPattern()}if(t instanceof r&&t.oFormat){return t.oFormat.oFormatOptions.pattern}return undefined};f.prototype._getFormatterInstance=function(e,t,i,r){var s;if(this._checkStyle(e)){s=this._getFormatInstance({style:e,strictParsing:true,relative:t,calendarType:i})}else{s=this._getFormatInstance({pattern:e,strictParsing:true,relative:t,calendarType:i})}return s};f.prototype._getFormatInstance=function(e,t){return s.getTimeInstance(e)};f.prototype._formatValue=function(e){if(e){return this._getFormatter().format(e)}return""};f.prototype._onSliderExpanded=function(e){var t=this.getAggregation("_columns");for(var i=0;i<t.length;i++){if(t[i]!==e.oSource&&t[i].getIsExpanded()){t[i].setIsExpanded(false)}}};f.prototype._onSliderCollapsed=function(e){var t=this.getTimeValues();this.setValue(this._formatValue(t,true));this.fireChange({value:this.getValue()})};f.prototype._getShouldOpenSliderAfterRendering=function(){return this._shouldOpenSliderAfterRendering};f.prototype._setShouldOpenSliderAfterRendering=function(e){this._shouldOpenSliderAfterRendering=e;return this};f.prototype._isFormatSupport24=function(){var e=this._getDisplayFormatPattern();return e.indexOf("HH")!==-1||e.indexOf("H")!==-1};f.prototype._disableSlider=function(e){if(e){e._setEnabled(false)}return this};f.prototype._enableSlider=function(e){if(e){e._setEnabled(true)}return this};f.prototype._handleHoursChange=function(e){var t=e.getParameter("value"),i=this._getMinutesSlider(),r=this._getSecondsSlider();if(this.getSupport2400()){if(t==="24"){if(i&&i._getEnabled()){this._iMinutes=i.getSelectedValue();this._disableSlider(i);i.setSelectedValue("0")}if(r&&r._getEnabled()){this._iSeconds=r.getSelectedValue();this._disableSlider(r);r.setSelectedValue("0")}}else{if(i&&!i._getEnabled()){this._enableSlider(i);i.setSelectedValue(this._iMinutes)}if(r&&!r._getEnabled()){this._enableSlider(r);r.setSelectedValue(this._iSeconds)}}}};f._replaceZeroHoursWith24=function(e,t,i){var r=2,s=t;if(t===-1){r=1;s=i}return e.substr(0,s)+"24"+e.substr(s+r)};f._replace24HoursWithZero=function(e,t,i){var r=2,s=t;if(t===-1){r=1;s=i}return e.substr(0,s)+_(0,r)+e.substr(s+2)};f._isHoursValue24=function(e,t,i){if(t===-1&&i===-1){return false}var r=t;if(t===-1){r=i}return e.substr(r,2)==="24"};function _(e,t){var i="";for(var r=0;r<t;r++){i+=e}return i}function S(){return false}return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/TimePickerSlidersRenderer",["sap/ui/Device","sap/ui/core/Configuration"],function(e,t){"use strict";var i={apiVersion:2};i.render=function(i,r){var n=r.getAggregation("_columns"),s=r.getLabelText()||"",a=sap.ui.getCore().getLibraryResourceBundle("sap.m"),o,l=t.getRTL();i.openStart("div",r);i.class("sapMTimePickerContainer");i.style("width",r.getWidth());i.style("height",r.getHeight());i.accessibilityState(r,{label:(s+" "+a.getText("TIMEPICKER_SCREENREADER_TAG")).trim()});i.openEnd();if(!e.system.desktop){i.openStart("div",r.getId()+"-label");i.class("sapMTimePickerContainerLabel");i.openEnd();i.text(s);i.close("div")}if(l){for(o=n.length-1;o>=0;o--){i.renderControl(n[o])}}else{for(o=0;o<n.length;o++){i.renderControl(n[o])}}i.close("div")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/UploadCollection",["./library","sap/m/library","sap/m/MessageBox","sap/m/Dialog","sap/ui/core/Control","sap/ui/core/Icon","sap/ui/core/IconPool","sap/m/Image","sap/m/Text","sap/m/Title","sap/m/Button","sap/m/List","sap/m/BusyIndicator","sap/m/StandardListItem","sap/ui/unified/FileUploaderParameter","sap/ui/unified/FileUploader","sap/ui/core/format/FileSizeFormat","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/ObjectAttribute","sap/m/UploadCollectionItem","sap/m/UploadCollectionParameter","sap/m/UploadCollectionToolbarPlaceholder","sap/ui/core/HTML","sap/ui/core/InvisibleText","sap/m/CustomListItem","sap/ui/core/ResizeHandler","sap/ui/Device","./UploadCollectionRenderer","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/core/Configuration","sap/ui/dom/jquery/selectText"],function(e,t,i,a,r,s,o,n,l,d,p,h,g,u,m,f,_,c,I,U,y,D,F,v,C,b,T,L,P,E,A,N,S){"use strict";var O=r.extend("sap.m.UploadCollection",{constructor:function(t,i){var a;if(i&&i.instantUpload!==undefined){if(i.instantUpload===false){a=i.instantUpload}delete i.instantUpload}else if(t&&t.instantUpload!==undefined){if(t.instantUpload===false){a=t.instantUpload}delete t.instantUpload}if(i&&i.mode===e.ListMode.MultiSelect&&a===false){i.mode=e.ListMode.None;N.info("sap.m.ListMode.MultiSelect is not supported by UploadCollection for Upload Pending scenario. Value has been resetted to 'None'")}else if(t&&t.mode===e.ListMode.MultiSelect&&a===false){t.mode=e.ListMode.None;N.info("sap.m.ListMode.MultiSelect is not supported by UploadCollection for Upload Pending scenario. Value has been resetted to 'None'")}try{r.apply(this,arguments);if(a===false){this.bInstantUpload=a;this._oFormatDecimal=_.getInstance({binaryFilesize:false,maxFractionDigits:1,maxIntegerDigits:4})}}catch(e){this.destroy();throw e}},metadata:{library:"sap.m",properties:{fileType:{type:"string[]",group:"Data",defaultValue:null},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:false},noDataText:{type:"string",group:"Appearance",defaultValue:null},noDataDescription:{type:"string",group:"Appearance",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:false},showSeparators:{type:"sap.m.ListSeparators",group:"Appearance",defaultValue:"All"},uploadEnabled:{type:"boolean",group:"Behavior",defaultValue:true},uploadUrl:{type:"string",group:"Data",defaultValue:"../../../upload"},instantUpload:{type:"boolean",group:"Behavior",defaultValue:true},numberOfAttachmentsText:{type:"string",group:"Appearance",defaultValue:null},mode:{type:"sap.m.ListMode",group:"Behavior",defaultValue:"None"},uploadButtonInvisible:{type:"boolean",group:"Appearance",defaultValue:false},terminationEnabled:{type:"boolean",group:"Behavior",defaultValue:true}},defaultAggregation:"items",aggregations:{items:{type:"sap.m.UploadCollectionItem",multiple:true,singularName:"item",bindable:"bindable"},headerParameters:{type:"sap.m.UploadCollectionParameter",multiple:true,singularName:"headerParameter"},parameters:{type:"sap.m.UploadCollectionParameter",multiple:true,singularName:"parameter"},toolbar:{type:"sap.m.OverflowToolbar",multiple:false},infoToolbar:{type:"sap.m.Toolbar",multiple:false,forwarding:{idSuffix:"-list",aggregation:"infoToolbar"}},_list:{type:"sap.m.List",multiple:false,visibility:"hidden"},_noDataIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_dragDropIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_dragDropText:{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{change:{parameters:{documentId:{type:"string"},files:{type:"object[]"}}},fileDeleted:{parameters:{documentId:{type:"string"},item:{type:"sap.m.UploadCollectionItem"}}},filenameLengthExceed:{parameters:{documentId:{type:"string"},files:{type:"object[]"}}},fileRenamed:{parameters:{documentId:{type:"string"},fileName:{type:"string"},item:{type:"sap.m.UploadCollectionItem"}}},fileSizeExceed:{parameters:{documentId:{type:"string"},fileSize:{type:"string"},files:{type:"object[]"}}},typeMissmatch:{parameters:{documentId:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{readyStateXHR:{type:"string"},response:{type:"string"},status:{type:"string"},files:{type:"object[]"}}},uploadTerminated:{parameters:{fileName:{type:"string"},getHeaderParameter:{type:"function",parameters:{headerParameterName:{type:"string"}}}}},beforeUploadStarts:{parameters:{fileName:{type:"string"},addHeaderParameter:{type:"function",parameters:{headerParameter:{type:"sap.m.UploadCollectionParameter"}}},getHeaderParameter:{type:"function",parameters:{headerParameterName:{type:"string"}}}}},selectionChange:{parameters:{selectedItem:{type:"sap.m.UploadCollectionItem"},selectedItems:{type:"sap.m.UploadCollectionItem[]"},selected:{type:"boolean"}}}}},renderer:P});O._uploadingStatus="uploading";O._displayStatus="display";O._toBeDeletedStatus="toBeDeleted";O._pendingUploadStatus="pendingUploadStatus";O._placeholderCamera="sap-icon://card";O._markerMargin=8;if(L.system.phone){O._resizeTimeoutInterval=500}else{O._resizeTimeoutInterval=100}O.prototype.init=function(){O.prototype._oRb=sap.ui.getCore().getLibraryResourceBundle("sap.m");this._headerParamConst={requestIdName:"requestId"+E.now(),fileNameRequestIdName:"fileNameRequestId"+E.now(),acceptLanguage:"accept-language"};this._requestIdValue=0;this._iFUCounter=0;var e=this.getNoDataText()+" "+this.getNoDataDescription();this._oList=new h(this.getId()+"-list",{selectionChange:[this._handleSelectionChange,this],noDataText:e});this.setAggregation("_list",this._oList,true);this._oList.addStyleClass("sapMUCList");this.setAggregation("_noDataIcon",new s(this.getId()+"-no-data-icon",{src:"sap-icon://document",size:"6rem",noTabStop:true}),true);this.setAggregation("_dragDropIcon",new s(this.getId()+"-drag-drop-icon",{src:"sap-icon://upload-to-cloud",size:"4rem",noTabStop:true}),true);this.setAggregation("_dragDropText",new l(this.getId()+"-drag-drop-text",{text:this._oRb.getText("UPLOADCOLLECTION_DRAG_FILE_INDICATOR")}),true);this._iUploadStartCallCounter=0;this.aItems=[];this._aDeletedItemForPendingUpload=[];this._aFileUploadersForPendingUpload=[];this._aFilesFromDragAndDropForPendingUpload=[];this._iFileUploaderPH=null;this._oListEventDelegate=null;this._oItemToUpdate=null;this._sReziseHandlerId=null;this.oInvisibleText=(new C).toStatic()};O.prototype.setFileType=function(e){if(!e){return this}if(!this.getInstantUpload()){N.info("As property instantUpload is false it is not allowed to change fileType at runtime.")}else{var t=e.length;for(var i=0;i<t;i++){e[i]=e[i].toLowerCase()}if(this.getFileType()!==e){this.setProperty("fileType",e,true);this._getFileUploader().setFileType(e)}}return this};O.prototype.setMaximumFilenameLength=function(e){if(!this.getInstantUpload()){N.info("As property instantUpload is false it is not allowed to change maximumFilenameLength at runtime.")}else if(this.getMaximumFilenameLength()!==e){this.setProperty("maximumFilenameLength",e,true);this._getFileUploader().setMaximumFilenameLength(e)}return this};O.prototype.setMaximumFileSize=function(e){if(!this.getInstantUpload()){N.info("As property instantUpload is false it is not allowed to change maximumFileSize at runtime.")}else if(this.getMaximumFileSize()!==e){this.setProperty("maximumFileSize",e,true);this._getFileUploader().setMaximumFileSize(e)}return this};O.prototype.setMimeType=function(e){if(!this.getInstantUpload()){N.info("As property instantUpload is false it is not allowed to change mimeType at runtime.")}else if(this.getMimeType()!==e){this.setProperty("mimeType",e,true);this._getFileUploader().setMimeType(e)}return this};O.prototype.setMultiple=function(e){if(!this.getInstantUpload()){N.info("As property instantUpload is false it is not allowed to change multiple at runtime.")}else if(this.getMultiple()!==e){this.setProperty("multiple",e);this._getFileUploader().setMultiple(e)}return this};O.prototype.setShowSeparators=function(e){if(this.getShowSeparators()!==e){this.setProperty("showSeparators",e);this._oList.setShowSeparators(e)}return this};O.prototype.setUploadEnabled=function(e){if(!this.getInstantUpload()){N.info("As property instantUpload is false it is not allowed to change uploadEnabled at runtime.")}else if(this.getUploadEnabled()!==e){this.setProperty("uploadEnabled",e);this._getFileUploader().setEnabled(e)}return this};O.prototype.setUploadUrl=function(e){if(!this.getInstantUpload()){N.info("As property instantUpload is false it is not allowed to change uploadUrl at runtime.")}else if(this.getUploadUrl()!==e){this.setProperty("uploadUrl",e);this._getFileUploader().setUploadUrl(e)}return this};O.prototype.setInstantUpload=function(){N.error("It is not supported to change the behavior at runtime.");return this};O.prototype.setMode=function(t){if(t===e.ListMode.Delete){this._oList.setMode(e.ListMode.None);N.info("sap.m.ListMode.Delete is not supported by UploadCollection. Value has been resetted to 'None'")}else if(t===e.ListMode.MultiSelect&&!this.getInstantUpload()){this._oList.setMode(e.ListMode.None);N.info("sap.m.ListMode.MultiSelect is not supported by UploadCollection for Pending Upload. Value has been resetted to 'None'")}else{this._oList.setMode(t)}return this};O.prototype.getMode=function(){return this._oList.getMode()};O.prototype.getToolbar=function(){return this._oHeaderToolbar};O.prototype.getNoDataText=function(){var e=this.getProperty("noDataText");e=e||this._oRb.getText("UPLOADCOLLECTION_NO_DATA_TEXT");return e};O.prototype.getNoDataDescription=function(){var e=this.getProperty("noDataDescription");e=e||this._oRb.getText("UPLOADCOLLECTION_NO_DATA_DESCRIPTION");return e};O.prototype.setNoDataText=function(e){this.setProperty("noDataText",e,true);this.$().find("#"+this.getId()+"-no-data-text").text(e);var t=e+" "+this.getNoDataDescription();this._oList.setNoDataText(t);return this};O.prototype.setNoDataDescription=function(e){this.setProperty("noDataDescription",e,true);var t=this.getNoDataText()+" "+e;this._oList.setNoDataText(t);if(this.getUploadEnabled()&&this._oList.getItems().length==0){this.rerender()}return this};O.prototype.setUploadButtonInvisible=function(e){if(this.getUploadButtonInvisible()===e){return this}this.setProperty("uploadButtonInvisible",e,true);if(this.getInstantUpload()){this._getFileUploader().setVisible(!e)}else{this._setFileUploaderVisibility(e)}if(this._bDragDropEnabled){this._unbindDragEnterLeave();this._bDragDropEnabled=false}else{this._bindDragEnterLeave()}return this};O.prototype.getInternalRequestHeaderNames=function(){return[this._headerParamConst.fileNameRequestIdName,this._headerParamConst.requestIdName]};O.prototype.upload=function(){if(this.getInstantUpload()){N.error("Not a valid API call. 'instantUpload' should be set to 'false'.")}var e=this._aFileUploadersForPendingUpload.length;for(var t=0;t<e;t++){this._iUploadStartCallCounter=0;if(this._aFileUploadersForPendingUpload[t].getValue()){this._aFileUploadersForPendingUpload[t].upload()}}if(this._aFilesFromDragAndDropForPendingUpload.length>0){this._oFileUploader._sendFilesFromDragAndDrop(this._aFilesFromDragAndDropForPendingUpload);this._aFilesFromDragAndDropForPendingUpload=[]}};O.prototype.getSelectedItems=function(){var e=this._oList.getSelectedItems();return this._getUploadCollectionItemsByListItems(e)};O.prototype.getSelectedItem=function(){var e=this._oList.getSelectedItem();if(e){return this._getUploadCollectionItemByListItem(e)}return null};O.prototype.setSelectedItemById=function(e,t){this._oList.setSelectedItemById(e+"-cli",t);this._setSelectedForItems([this._getUploadCollectionItemById(e)],t);return this};O.prototype.setSelectedItem=function(e,t){return this.setSelectedItemById(e.getId(),t)};O.prototype.selectAll=function(){var e=this._oList.selectAll();if(e.getItems().length!==this.getItems().length){N.info("Internal 'List' and external 'UploadCollection' are not in sync.")}this._setSelectedForItems(this.getItems(),true);return this};O.prototype.downloadItem=function(e,t){if(!this.getInstantUpload()){N.info("Download is not possible on Pending Upload mode");return false}else{return e.download(t)}};O.prototype.openFileDialog=function(e){if(this._oFileUploader){if(e){if(!this._oFileUploader.getMultiple()){this._oItemToUpdate=e;this._oFileUploader.$().find("input[type=file]").trigger("click")}else{N.warning("Version Upload cannot be used in multiple upload mode")}}else{this._oFileUploader.$().find("input[type=file]").trigger("click")}}return this};O.prototype.removeAggregation=function(e,t,i){var a,s,o;if(!this.getInstantUpload()&&e==="items"&&t){a=t._internalFileIdWithinDragDropArray;if(a){s=this._aFilesFromDragAndDropForPendingUpload.indexOf(a);if(s!==-1){this._aFilesFromDragAndDropForPendingUpload.splice(s,1)}}else if(typeof t==="number"){o=this.getItems();this._aDeletedItemForPendingUpload.push(o[t])}else{this._aDeletedItemForPendingUpload.push(t)}}return r.prototype.removeAggregation.apply(this,arguments)};O.prototype.removeAllAggregation=function(e,t){if(!this.getInstantUpload()&&e==="items"){if(this._aFileUploadersForPendingUpload){for(var i=0;i<this._aFileUploadersForPendingUpload.length;i++){this._aFileUploadersForPendingUpload[i].destroy();this._aFileUploadersForPendingUpload[i]=null}this._aFileUploadersForPendingUpload=[]}}return r.prototype.removeAllAggregation.apply(this,arguments)};O.prototype.onBeforeRendering=function(){this._RenderManager=this._RenderManager||sap.ui.getCore().createRenderManager();var e,t;if(this._oListEventDelegate){this._oList.removeEventDelegate(this._oListEventDelegate);this._oListEventDelegate=null}this._deregisterSizeHandler();this._unbindDragEnterLeave();a.bind(this)();if(!this.getInstantUpload()){this.aItems=this.getItems();this._getListHeader(this.aItems.length);this._clearList();this._fillList(this.aItems);this._oList.setHeaderToolbar(this._oHeaderToolbar);return}if(this.aItems.length>0){t=this.aItems.length;var i=[];for(e=0;e<t;e++){if(this.aItems[e]&&this.aItems[e]._status===O._uploadingStatus){i.push(this.aItems[e])}else if(this.aItems[e]&&this.aItems[e]._status!==O._uploadingStatus&&this.aItems[e]._percentUploaded===100&&this.getItems().length===0){i.push(this.aItems[e])}}if(i.length!==0){this.aItems=[];this.aItems=this.getItems();this.aItems=i.concat(this.aItems)}else{this.aItems=this.getItems()}}else{this.aItems=this.getItems()}this._getListHeader(this.aItems.length);this._clearList();this._fillList(this.aItems);this._oList.setAggregation("headerToolbar",this._oHeaderToolbar,true);if(this.sErrorState!=="Error"){if(this.getUploadEnabled()!==this._oFileUploader.getEnabled()){this._oFileUploader.setEnabled(this.getUploadEnabled())}}else{this._oFileUploader.setEnabled(false)}if(this.sDeletedItemId){E(document.activeElement).trigger("blur")}function a(){if(this.bInstantUpload===false){this.setProperty("instantUpload",this.bInstantUpload,true);delete this.bInstantUpload}}};O.prototype.onAfterRendering=function(){this._bindDragEnterLeave();if(this.getInstantUpload()){if(this.aItems||this.aItems===this.getItems()){if(this.editModeItem){var e=E(document.getElementById(this.editModeItem+"-ta_editFileName-inner"));if(e){var t=this.editModeItem;if(!L.os.ios){e.on("focus",function(){e.selectText(0,e.val().length)})}e.trigger("focus");this.oInvisibleText.setText("");sap.ui.getCore().byId(this.editModeItem+"-cli").removeAllAriaLabelledBy();sap.ui.getCore().byId(this.editModeItem+"-cli").addAriaLabelledBy(this.oInvisibleText.getId());this._oListEventDelegate={onclick:function(e){this._handleClick(e,t)}.bind(this)};this._oList.addDelegate(this._oListEventDelegate)}}else if(this.sFocusId){this._setFocusToLineItem(this.sFocusId);this.sFocusId=null}else if(this.sDeletedItemId){this._setFocusAfterDeletion()}}}else if(this.sFocusId){this._setFocusToLineItem(this.sFocusId);this.sFocusId=null}};O.prototype.exit=function(){var e,t,i;this._unbindDragEnterLeave();if(this._$RootNode){this._$RootNode=null}if(this._oFileUploader){this._oFileUploader.destroy();this._oFileUploader=null}if(this._oHeaderToolbar){this._oHeaderToolbar.destroy();this._oHeaderToolbar=null}if(this._oNumberOfAttachmentsTitle){this._oNumberOfAttachmentsTitle.destroy();this._oNumberOfAttachmentsTitle=null}if(this._RenderManager){this._RenderManager.destroy()}if(this._aFileUploadersForPendingUpload){t=this._aFileUploadersForPendingUpload.length;for(e=0;e<t;e++){this._aFileUploadersForPendingUpload[e].destroy();this._aFileUploadersForPendingUpload[e]=null}this._aFileUploadersForPendingUpload=null}if(this.aItems&&this.aItems.length>0){for(e=0;e<this.aItems.length;e++){if(this.aItems[e]._status===O._uploadingStatus){i=this.aItems.splice(e,1)[0];if(i.destroy){i.destroy()}}}}this._deregisterSizeHandler();if(this.oInvisibleText){this.oInvisibleText.destroy()}};O.prototype._bindDragEnterLeave=function(){this._bDragDropEnabled=this._isDragAndDropAllowed();if(!this._bDragDropEnabled){return}if(!this._oDragDropHandler){this._oDragDropHandler={dragEnterUIArea:this._onDragEnterUIArea.bind(this),dragLeaveUIArea:this._onDragLeaveUIArea.bind(this),dragOverUIArea:this._onDragOverUIArea.bind(this),dropOnUIArea:this._onDropOnUIArea.bind(this),dragEnterUploadCollection:this._onDragEnterUploadCollection.bind(this),dragLeaveUploadCollection:this._onDragLeaveUploadCollection.bind(this),dragOverUploadCollection:this._onDragOverUploadCollection.bind(this),dropOnUploadCollection:this._onDropOnUploadCollection.bind(this)}}this._$RootNode=E(document.body);this._$RootNode.on("dragenter",this._oDragDropHandler.dragEnterUIArea);this._$RootNode.on("dragleave",this._oDragDropHandler.dragLeaveUIArea);this._$RootNode.on("dragover",this._oDragDropHandler.dragOverUIArea);this._$RootNode.on("drop",this._oDragDropHandler.dropOnUIArea);this._$DragDropArea=this.$("drag-drop-area");this.$().on("dragenter",this._oDragDropHandler.dragEnterUploadCollection);this.$().on("dragleave",this._oDragDropHandler.dragLeaveUploadCollection);this.$().on("dragover",this._oDragDropHandler.dragOverUploadCollection);this.$().on("drop",this._oDragDropHandler.dropOnUploadCollection)};O.prototype._unbindDragEnterLeave=function(){if(!this._bDragDropEnabled&&!this._oDragDropHandler){return}if(this._$RootNode){this._$RootNode.off("dragenter",this._oDragDropHandler.dragEnterUIArea);this._$RootNode.off("dragleave",this._oDragDropHandler.dragLeaveUIArea);this._$RootNode.off("dragover",this._oDragDropHandler.dragOverUIArea);this._$RootNode.off("drop",this._oDragDropHandler.dropOnUIArea)}this.$().off("dragenter",this._oDragDropHandler.dragEnterUploadCollection);this.$().off("dragleave",this._oDragDropHandler.dragLeaveUploadCollection);this.$().off("dragover",this._oDragDropHandler.dragOverUploadCollection);this.$().off("drop",this._oDragDropHandler.dropOnUploadCollection)};O.prototype._onDragEnterUIArea=function(e){if(!this._checkForFiles(e)){return}this._oLastEnterUIArea=e.target;this._$DragDropArea.removeClass("sapMUCDragDropOverlayHide");this._adjustDragDropIcon()};O.prototype._onDragOverUIArea=function(e){e.preventDefault();if(!this._checkForFiles(e)){return}this._$DragDropArea.removeClass("sapMUCDragDropOverlayHide")};O.prototype._onDragLeaveUIArea=function(e){if(this._oLastEnterUIArea===e.target){this._$DragDropArea.addClass("sapMUCDragDropOverlayHide")}};O.prototype._onDropOnUIArea=function(e){this._$DragDropArea.addClass("sapMUCDragDropOverlayHide")};O.prototype._onDragEnterUploadCollection=function(e){if(!this._checkForFiles(e)){return}if(e.target===this._$DragDropArea[0]){this._$DragDropArea.addClass("sapMUCDropIndicator");this._adjustDragDropIcon();this.getAggregation("_dragDropText").setText(this._oRb.getText("UPLOADCOLLECTION_DROP_FILE_INDICATOR"))}};O.prototype._onDragOverUploadCollection=function(e){e.preventDefault();e.originalEvent.dataTransfer.dropEffect="copy"};O.prototype._onDragLeaveUploadCollection=function(e){if(e.target===this._$DragDropArea[0]){this._$DragDropArea.removeClass("sapMUCDropIndicator");this.getAggregation("_dragDropText").setText(this._oRb.getText("UPLOADCOLLECTION_DRAG_FILE_INDICATOR"))}};O.prototype._checkForFiles=function(e){var t=e.originalEvent.dataTransfer.types;if(t){for(var i=0;i<t.length;i++){if(t[i]==="Files"){return true}}}return false};O.prototype._isDragAndDropAllowed=function(){return this.getUploadEnabled()&&!this.getUploadButtonInvisible()};O.prototype._onDropOnUploadCollection=function(e){if(!this._checkForFiles(e)){e.preventDefault();return}if(e.target===this._$DragDropArea[0]){e.preventDefault();this._$DragDropArea.removeClass("sapMUCDropIndicator");this._$DragDropArea.addClass("sapMUCDragDropOverlayHide");this.getAggregation("_dragDropText").setText(this._oRb.getText("UPLOADCOLLECTION_DRAG_FILE_INDICATOR"));var t=e.originalEvent.dataTransfer.files;if(t.length>1&&!this.getMultiple()){var a=this._oRb.getText("UPLOADCOLLECTION_MULTIPLE_FALSE");i.error(a);return}if(!this._oFileUploader._areFilesAllowed(t)){return}if(!this.getInstantUpload()){for(var r=0;r<t.length;r++){this._oFileUploader.fireChange({files:[t[r]],fromDragDrop:true});this._aFilesFromDragAndDropForPendingUpload.push(t[r])}}else{this._oFileUploader.fireChange({files:t});this._oFileUploader._sendFilesFromDragAndDrop(t)}}};O.prototype._adjustDragDropIcon=function(){if(this._$DragDropArea[0].offsetHeight<160){this.getAggregation("_dragDropIcon").$().hide()}};O.prototype._deregisterSizeHandler=function(){L.orientation.detachHandler(this._onResize,this);T.deregister(this._sReziseHandlerId)};O.prototype._hideFileUploaders=function(){var e,t;if(!this.getInstantUpload()){e=this._oHeaderToolbar.getContent().length;if(this._aFileUploadersForPendingUpload.length){for(t=0;t<e;t++){if(this._oHeaderToolbar.getContent()[t]instanceof f){if(t===this._iFileUploaderPH&&this._bFocusFileUploader){this._oHeaderToolbar.getContent()[t].$().find("button").trigger("focus")}else{this._oHeaderToolbar.getContent()[t].$().hide()}}}}}};O.prototype._truncateFileName=function(e){if(!e){return}if(e._status==="Edit"){e._oListItem.$().find(".sapMUCObjectMarkerContainer").attr("style","display: none");return}var t=0;var i=e.getMarkers();var a;for(var r=0;r<i.length;r++){t=t+i[r].$().width()+O._markerMargin}if(t>0){var s=e._oFileNameLink.$();if(s){a="max-width: calc(100% - "+t+"px)";if(s.attr("style")!==a){s.attr("style",a)}}}};O.prototype._getListHeader=function(e){var t,i,a;this._setNumberOfAttachmentsTitle(e);if(!this._oHeaderToolbar){if(this._oFileUploader&&!this.getInstantUpload()){this._oFileUploader.destroy()}t=this._getFileUploader();this._oHeaderToolbar=this.getAggregation("toolbar");if(!this._oHeaderToolbar){this._oHeaderToolbar=new c(this.getId()+"-toolbar",{content:[this._oNumberOfAttachmentsTitle,new I,t]}).addEventDelegate({onAfterRendering:this._hideFileUploaders},this);this._iFileUploaderPH=2}else{this._oHeaderToolbar.addEventDelegate({onAfterRendering:this._hideFileUploaders},this);this._iFileUploaderPH=this._getFileUploaderPlaceHolderPosition(this._oHeaderToolbar);if(this._oHeaderToolbar&&this._iFileUploaderPH>-1){this._setFileUploaderInToolbar(t)}else{N.info("A place holder of type 'sap.m.UploadCollectionPlaceholder' needs to be provided.")}}}else if(!this.getInstantUpload()){var r=this._aFileUploadersForPendingUpload.length;for(i=r-1;i>=0;i--){if(this._aFileUploadersForPendingUpload[i].getId()===this._oFileUploader.getId()){t=this._getFileUploader();var s=this.getAggregation("headerParameters");var o=this._requestIdValue.toString();if(s){for(a=0;a<s.length;a++){t.addHeaderParameter(new m({name:s[a].getProperty("name"),value:s[a].getProperty("value")}))}t.addHeaderParameter(new m({name:this._headerParamConst.requestIdName,value:o}))}this._oHeaderToolbar.insertAggregation("content",t,this._iFileUploaderPH,true);break}}}};O.prototype._getFileUploaderPlaceHolderPosition=function(e){for(var t=0;t<e.getContent().length;t++){if(e.getContent()[t]instanceof F){return t}}return-1};O.prototype._setFileUploaderInToolbar=function(e){this._oHeaderToolbar.getContent()[this._iFileUploaderPH].setVisible(false);this._oHeaderToolbar.insertContent(e,this._iFileUploaderPH)};O.prototype._mapItemToListItem=function(e){if(!e||this._oItemToUpdate&&e.getId()===this._oItemToUpdate.getId()){return null}var t,i,a,r,s,o,n,l,d;t=e.getId();i=e._status;a=e.getFileName();if(i===O._uploadingStatus){r=new g({id:t+"-ia_indicator"});r.addStyleClass("sapMUCloadingIcon")}else{d=this._createIcon(e,t,a)}o=t+"-container";n=E(document.getElementById(o));if(n){n.remove();n=null}l=new v(o,{content:"<span class='sapMUCTextButtonContainer'></span>",afterRendering:this._renderContent.bind(this,e,o)});s=new b(t+"-cli",{content:[r,d,l],selected:e.getSelected()});s._oUploadCollectionItem=e;s._status=i;s.addStyleClass("sapMUCItem");s.setTooltip(e.getTooltip_Text());e._oListItem=s;return s};O.prototype._renderContent=function(e,t){var i,a,r,s,o,n,l,d,p,h,g;n=e._percentUploaded;l=e.getAllAttributes();d=e.getStatuses();g=e.getMarkers();i=e.getId();r=l.length;s=d.length;o=g.length;h=e._status;p=this._RenderManager;p.openStart("div");p.class("sapMUCTextContainer");if(h==="Edit"){p.class("sapMUCEditMode")}p.openEnd();p.renderControl(this._getFileNameControl(e));if(h===O._uploadingStatus){p.renderControl(this._createProgressLabel(e,n))}else{if(o>0){p.openStart("div");p.class("sapMUCObjectMarkerContainer");p.openEnd();for(a=0;a<o;a++){p.renderControl(g[a].addStyleClass("sapMUCObjectMarker"))}p.close("div")}if(r>0){p.openStart("div");p.class("sapMUCAttrContainer");p.attr("tabindex","-1");p.openEnd();for(a=0;a<r;a++){l[a].addStyleClass("sapMUCAttr");p.renderControl(l[a]);if(a+1<r){p.openStart("div");p.class("sapMUCSeparator");p.openEnd();p.unsafeHtml("&nbsp&#x00B7&#160");p.close("div")}}p.close("div")}if(s>0){p.openStart("div");p.class("sapMUCStatusContainer");p.attr("tabindex","-1");p.openEnd();for(a=0;a<s;a++){d[a].detachBrowserEvent("hover");d[a].setTooltip(d[a].getTitle()+":"+d[a].getText());p.renderControl(d[a]);for(var u=a+1;u<s;u++){if(!d[a].getVisible()){break}else if(d[u]&&d[u].getVisible()){p.openStart("div");p.class("sapMUCSeparator");p.openEnd();p.unsafeHtml("&nbsp&#x00B7&#160");p.close("div");break}}}p.close("div")}}p.close("div");this._renderButtons(p,e,h,i);p.flush(E(document.getElementById(t))[0],true);this._truncateFileName(e);this._sReziseHandlerId=T.register(this,this._onResize.bind(this));L.orientation.attachHandler(this._onResize,this)};O.prototype._renderButtons=function(e,t,i,a){var r,s;r=this._getButtons(t,i,a);if(r){s=r.length}if(s>0){e.openStart("div");e.class("sapMUCButtonContainer");e.openEnd();for(var o=0;o<s;o++){if(o+1<s){r[o].addStyleClass("sapMUCFirstButton")}e.renderControl(r[o])}e.close("div")}};O.prototype._getFileNameControl=function(t){var i,a,r,s,o,n,l,d,p,h,g;s=t.getFileName();o=t.getId();n=t._status;if(n!=="Edit"){i=t._getFileNameLink?t._getFileNameLink():t._getControl("sap.m.Link",{id:o+"-ta_filenameHL",press:[t,this._onItemPressed,this]},"FileNameLink");i.setEnabled(this._getItemPressEnabled(t));i.addStyleClass("sapMUCFileName");i.setModel(t.getModel());i.setText(s);t._oFileNameLink=i;return i}else{a=O._splitFilename(s);l=this.getMaximumFilenameLength();d="None";p=false;r=a.name;if(t.errorState==="Error"){p=true;d="Error";r=t.changedFileName;if(r.length===0){g=this._oRb.getText("UPLOADCOLLECTION_TYPE_FILENAME")}else{g=this._oRb.getText("UPLOADCOLLECTION_EXISTS")}}h=t._getFileNameEditBox?t._getFileNameEditBox():t._getControl("sap.m.Input",{id:o+"-ta_editFileName",type:e.InputType.Text},"FileNameEditBox");h.addStyleClass("sapMUCEditBox");h.setModel(t.getModel());h.setValue(r);h.setValueState(d);h.setFieldWidth("75%");h.setValueStateText(g);h.setDescription(a.extension);h.setShowValueStateMessage(p);if(l-a.extension.length>0){h.setProperty("maxLength",l-a.extension.length,true)}return h}};O.prototype._getItemPressEnabled=function(e){return e._getPressEnabled()&&this.sErrorState!=="Error"};O.prototype._onItemPressed=function(e,t){if(t.hasListeners("press")){t.firePress()}else if(this.sErrorState!=="Error"&&t._hasUrl()){this._triggerLink(e,t)}};O.prototype._createProgressLabel=function(e,t){var i,a=e.getId();i=e._getProgressLabel?e._getProgressLabel():e._getControl("sap.m.Label",{id:a+"-ta_progress"},"ProgressLabel").addStyleClass("sapMUCProgress");i.setText(this._oRb.getText("UPLOADCOLLECTION_UPLOADING",[t]));return i};O.prototype._createIcon=function(e,t,i){var a,r,l,d;a=e.getThumbnailUrl();if(a){l=o.createControlByURI({id:t+"-ia_imageHL",src:this._getThumbnail(a,i),decorative:false},n).addStyleClass("sapMUCItemImage sapMUCItemIcon");l.setAlt(this._getAriaLabelForPicture(e))}else{r=this._getThumbnail(undefined,i);l=new s(t+"-ia_iconHL",{src:r,decorative:false,useIconTooltip:false});l.setAlt(this._getAriaLabelForPicture(e));if(this.sErrorState!=="Error"&&e._hasUrl()){d="sapMUCItemIcon"}else{d="sapMUCItemIconInactive"}if(r===O._placeholderCamera){if(this.sErrorState!=="Error"&&e._hasUrl()){d=d+" sapMUCItemPlaceholder"}else{d=d+" sapMUCItemPlaceholderInactive"}}l.addStyleClass(d)}if(this._getItemPressEnabled(e)){l.attachPress(e,this._onItemPressed,this)}return l};O.prototype._getButtons=function(t,i,a){var r,s,o,n,l,d,p;r=[];if(!this.getInstantUpload()){n="deleteButton";l=this._createDeleteButton(a,n,t,this.sErrorState);r.push(l);return r}if(i==="Edit"){s=t._getOkButton?t._getOkButton():t._getControl("sap.m.Button",{id:a+"-okButton",text:this._oRb.getText("UPLOADCOLLECTION_RENAMEBUTTON_TEXT"),type:e.ButtonType.Transparent},"OkButton").addStyleClass("sapMUCOkBtn");o=t._getCancelButton?t._getCancelButton():t._getControl("sap.m.Button",{id:a+"-cancelButton",text:this._oRb.getText("UPLOADCOLLECTION_CANCELBUTTON_TEXT"),type:e.ButtonType.Transparent},"CancelButton").addStyleClass("sapMUCCancelBtn");r.push(s);r.push(o)}else if(i===O._uploadingStatus){n="terminateButton";l=this._createDeleteButton(a,n,t,this.sErrorState);r.push(l)}else{d=t.getEnableEdit();if(this.sErrorState==="Error"){d=false}if(t.getVisibleEdit()){p=t._getEditButton?t._getEditButton():t._getControl("sap.m.Button",{id:a+"-editButton",icon:"sap-icon://edit",type:e.ButtonType.Standard,tooltip:this._oRb.getText("UPLOADCOLLECTION_EDITBUTTON_TEXT"),press:[t,this._handleEdit,this]},"EditButton").addStyleClass("sapMUCEditBtn");p.setEnabled(d);p.setVisible(t.getVisibleEdit());r.push(p)}n="deleteButton";if(t.getVisibleDelete()){l=this._createDeleteButton(a,n,t,this.sErrorState);r.push(l)}}return r};O.prototype._createDeleteButton=function(t,i,a,r){var s,o,n,l,d,p,h;s=a.getEnableDelete();if(r==="Error"){s=false}if(i==="deleteButton"){n="DeleteButton";d=a._getDeleteButton;l=this._oRb.getText("UPLOADCOLLECTION_DELETEBUTTON_TEXT");p=a.getVisibleDelete();h=[this,this._handleDelete,this]}else{n="TerminateButton";d=a._getTerminateButton;l=this._oRb.getText("UPLOADCOLLECTION_TERMINATEBUTTON_TEXT");p=this.getTerminationEnabled();h=[a,this._handleTerminate,this]}o=d?d():a._getControl("sap.m.Button",{id:t+"-"+i,icon:"sap-icon://decline",type:e.ButtonType.Standard,press:h},n).addStyleClass("sapMUCDeleteBtn");o.setVisible(p);o.setEnabled(s);o.setTooltip(l);return o};O.prototype._fillList=function(e){var t=this,i=e.length-1,a=this.getBinding("items"),r=false,s,o=this.getBindingInfo("items")?this.getBindingInfo("items").model:undefined,n=this.getBindingInfo("items")?this.getBindingInfo("items").groupHeaderFactory:null;var l=function(e){return e.getBindingContext(o)?a.getGroup(e.getBindingContext(o)):null};var d=function(e){return l(e)&&l(e).key};E.each(e,function(e,o){if(a&&a.isGrouped()&&o){if(!r||s!==d(o)){if(n){t._oList.addItemGroup(l(o),n(l(o)),true)}else if(l(o)){t._oList.addItemGroup(l(o),null,true)}r=true;s=d(o)}}if(!o._status||!o.getVisibleEdit()){o._status=O._displayStatus}else if(t.getInstantUpload()&&t._oItemForDelete&&t._oItemForDelete._status===O._toBeDeletedStatus&&o.getDocumentId()===t._oItemForDelete.documentId){return false}if(!o._percentUploaded&&o._status===O._uploadingStatus){o._percentUploaded=0}var p=t._mapItemToListItem(o);if(p){if(e===0&&i===0){p.addStyleClass("sapMUCListSingleItem")}else if(e===0){p.addStyleClass("sapMUCListFirstItem")}else if(e===i){p.addStyleClass("sapMUCListLastItem")}else{p.addStyleClass("sapMUCListItem")}t._oList.addAggregation("items",p,true);o.attachEvent("selected",t._handleItemSetSelected,t)}return true})};O.prototype._clearList=function(){if(this._oList){this._oList.destroyAggregation("items",true)}};O.prototype._setNumberOfAttachmentsTitle=function(e){var t=e||0;var i;if(this._oItemToUpdate){t--}if(this.getNumberOfAttachmentsText()){i=this.getNumberOfAttachmentsText()}else{i=this._oRb.getText("UPLOADCOLLECTION_ATTACHMENTS",[t])}if(!this._oNumberOfAttachmentsTitle){this._oNumberOfAttachmentsTitle=new d(this.getId()+"-numberOfAttachmentsTitle",{text:i})}else{this._oNumberOfAttachmentsTitle.setText(i)}};O.prototype._setFileUploaderVisibility=function(e){var t=this._oHeaderToolbar.getContent();if(t){var i=t[this._iFileUploaderPH];if(i instanceof f){i.setVisible(!e)}}};O.prototype._handleDelete=function(e){var t=e.getParameters();var a=this.getItems();var r=t.id.split("-deleteButton")[0];var s;var o;var n="";var l;var d;for(var p=0;p<a.length;p++){if(a[p].sId===r){o=p;s={documentId:a[p].getDocumentId(),_iLineNumber:o};break}}if(a[o].hasListeners("deletePress")){a[o].fireDeletePress();return}this.sDeletedItemId=r;if(E(document.getElementById(this.sId)).hasClass("sapUiSizeCompact")){n="sapUiSizeCompact"}if(this.editModeItem){this._handleOk(e,this.editModeItem,true);if(this.sErrorState==="Error"){return}}if(a[o]&&a[o].getEnableDelete()){l=a[o].getFileName();if(!l){d=this._oRb.getText("UPLOADCOLLECTION_DELETE_WITHOUT_FILENAME_TEXT")}else{d=this._oRb.getText("UPLOADCOLLECTION_DELETE_TEXT",l)}this._oItemForDelete=s;i.show(d,{title:this._oRb.getText("UPLOADCOLLECTION_DELETE_TITLE"),actions:[i.Action.OK,i.Action.CANCEL],onClose:this._onCloseMessageBoxDeleteItem.bind(this),dialogId:"messageBoxDeleteFile",styleClass:n})}};O.prototype._onCloseMessageBoxDeleteItem=function(e){var t=this.getItems();var a;if(this.getInstantUpload()){for(var r=0;r<t.length;r++){if(t[r].getDocumentId()===this._oItemForDelete.documentId){a=t[r]}}}else{a=t[this._oItemForDelete._iLineNumber]}if(e===i.Action.OK){this._oItemForDelete._status=O._toBeDeletedStatus;if(this.getInstantUpload()){this.fireFileDeleted({documentId:this._oItemForDelete.documentId,item:a});this._oItemForDelete=null}else{if(this.aItems.length===1){if(!this.getUploadButtonInvisible()){this.sFocusId=this._oFileUploader.$().find(":button")[0].id}}else if(this._oItemForDelete._iLineNumber<this.aItems.length-1){this.sFocusId=this.aItems[this._oItemForDelete._iLineNumber+1].getId()+"-cli"}else{this.sFocusId=this.aItems[0].getId()+"-cli"}this._aDeletedItemForPendingUpload.push(a);this.aItems.splice(this._oItemForDelete._iLineNumber,1);this.removeAggregation("items",a,false)}}};O.prototype._handleTerminate=function(e,t){var i,r;i=new h({items:[new u({icon:this._getIconFromFilename(t.getFileName())})]});i.getItems()[0].setTitle(t.getFileName());r=new a({id:this.getId()+"deleteDialog",title:this._oRb.getText("UPLOADCOLLECTION_TERMINATE_TITLE"),content:[new l({text:this._oRb.getText("UPLOADCOLLECTION_TERMINATE_TEXT")}),i],buttons:[new p({text:this._oRb.getText("UPLOADCOLLECTION_OKBUTTON_TEXT"),press:[s,this]}),new p({text:this._oRb.getText("UPLOADCOLLECTION_CANCELBUTTON_TEXT"),press:function(){r.close()}})],afterClose:function(){r.destroy()}}).open();function s(){var e=false;for(var i=0;i<this.aItems.length;i++){if(this.aItems[i]._status===O._uploadingStatus&&this.aItems[i]._requestIdName===t._requestIdName){this.aItems[i]._status=O._toBeDeletedStatus;this._oItemForDelete=this.aItems[i];e=true;break}else if(t.getFileName()===this.aItems[i].getFileName()&&this.aItems[i]._status===O._displayStatus){this.aItems[i]._status=O._toBeDeletedStatus;this._oItemForDelete=this.aItems[i];this.fireFileDeleted({documentId:this.aItems[i].getDocumentId(),item:this.aItems[i]});break}}if(e){this._getFileUploader().abort(this._headerParamConst.fileNameRequestIdName,this._encodeToAscii(t.getFileName())+this._oItemForDelete._requestIdName)}r.close();this.invalidate()}};O.prototype._handleEdit=function(e,t){var i,a=t.getId(),r=this.aItems.length;if(this.editModeItem){this._handleOk(e,this.editModeItem,false)}if(this.sErrorState!=="Error"){for(i=0;i<r;i++){if(this.aItems[i].getId()===a){this.aItems[i]._status="Edit";break}}t._status="Edit";this.editModeItem=e.getSource().getId().split("-editButton")[0];this.invalidate()}};O.prototype._handleClick=function(e,t){var i=E(e.target).closest("button");var a="";if(i.length){a=i.prop("id")}if(a.lastIndexOf("editButton")===-1){if(a.lastIndexOf("cancelButton")!==-1){this._handleCancel(e,t)}else if(e.target.id.lastIndexOf("ia_imageHL")<0&&e.target.id.lastIndexOf("ia_iconHL")<0&&e.target.id.lastIndexOf("deleteButton")<0&&e.target.id.lastIndexOf("ta_editFileName-inner")<0){if(e.target.id.lastIndexOf("cli")>0){this.sFocusId=e.target.id}this._handleOk(e,t,true)}}};O.prototype._handleOk=function(e,t,i){var a=document.getElementById(t+"-ta_editFileName-inner");var r;var s=O._findById(t,this.aItems);var o=s.getProperty("fileName");var n=O._splitFilename(o);var l=sap.ui.getCore().byId(t+"-ta_editFileName");var d=s.errorState;var p=s.changedFileName;if(a!==null){r=a.value.replace(/^\s+/,"")}this.sFocusId=t+"-cli";if(!r||r.length===0){if(a!==null){this._setErrorStateOnItem(this,s,r,p,d)}return}s._status=O._displayStatus;if(n.name===r){this._removeErrorStateFromItem(this,s);if(i){this.invalidate()}return}if(this.getSameFilenameAllowed()){this._removeErrorStateFromItem(this,s);this._oItemForRename=s;this._onEditItemOk.bind(this)(r+n.extension);return}if(O._checkDoubleFileName(r+n.extension,this.aItems)){l.setProperty("valueState","Error",true);this._setErrorStateOnItem(this,s,r,p,d)}else{l.setProperty("valueState","None",true);s.changedFileName=null;this._removeErrorStateFromItem(this,s);if(i){this.invalidate()}this._oItemForRename=s;this._onEditItemOk.bind(this)(r+n.extension)}};O.prototype._setErrorStateOnItem=function(e,t,i,a,r){t._status="Edit";t.errorState="Error";e.sErrorState="Error";t.changedFileName=i;if(r!=="Error"||a!==i){e.invalidate()}};O.prototype._removeErrorStateFromItem=function(e,t){t.errorState=null;e.sErrorState=null;e.editModeItem=null};O.prototype._onEditItemOk=function(e){if(this._oItemForRename){this._oItemForRename.setFileName(e);this.fireFileRenamed({documentId:this._oItemForRename.getProperty("documentId"),fileName:e,item:this._oItemForRename})}delete this._oItemForRename};O.prototype._handleCancel=function(e,t){var i=O._findById(t,this.aItems);i._status=O._displayStatus;i.errorState=null;i.changedFileName=i._getFileNameEditBox().getValue();this.sFocusId=this.editModeItem+"-cli";this.sErrorState=null;this.editModeItem=null;this.invalidate()};O.prototype._onChange=function(e){if(e){var t,i=e.getParameter("files").length,a,r,s,o,n;if(i===0){return}this._oFileUploader.removeAllAggregation("headerParameters",true);this.removeAllAggregation("headerParameters",true);this._oFileUploader.removeAllAggregation("parameters",true);this.removeAllAggregation("parameters",true);this.fireChange({getParameter:function(t){if(t){return e.getParameter(t)}return null},getParameters:function(){return e.getParameters()},mParameters:e.getParameters(),files:e.getParameter("files")});var l=this.getAggregation("parameters");if(l){E.each(l,function(e,t){var i=new m({name:t.getProperty("name"),value:t.getProperty("value")});this._oFileUploader.addParameter(i)}.bind(this))}if(!this.getInstantUpload()){this._bFocusFileUploader=true;s=O._pendingUploadStatus}else{s=O._uploadingStatus}this._requestIdValue++;t=this._requestIdValue.toString();var d=this.getAggregation("headerParameters");if(!this.getInstantUpload()){this._aFileUploadersForPendingUpload.push(this._oFileUploader)}for(a=0;a<i;a++){r=new y;r.setFileName(e.getParameter("files")[a].name);if(e.getParameter("fromDragDrop")){r._internalFileIdWithinDragDropArray=e.getParameter("files")[a]}r._status=s;r._internalFileIndexWithinFileUploader=a+1;r._requestIdName=t;if(!this.getInstantUpload()){r.setAssociation("fileUploader",this._oFileUploader,true);o=this._oFormatDecimal.format(e.getParameter("files")[a].size);n=new U({text:o});r.insertAggregation("attributes",n,true);this.insertItem(r)}else{r._percentUploaded=0}this.aItems.unshift(r)}if(d){E.each(d,function(e,t){this._oFileUploader.addHeaderParameter(new m({name:t.getProperty("name"),value:t.getProperty("value")}))}.bind(this))}this._oFileUploader.addHeaderParameter(new m({name:this._headerParamConst.requestIdName,value:t}))}};O.prototype._onFilenameLengthExceed=function(e){var t={name:e.getParameter("fileName")};var i=[t];this.fireFilenameLengthExceed({getParameter:function(t){if(t){return e.getParameter(t)}},getParameters:function(){return e.getParameters()},mParameters:e.getParameters(),files:i})};O.prototype._onFileSizeExceed=function(e){var t={name:e.getParameter("fileName"),fileSize:e.getParameter("fileSize")};this.fireFileSizeExceed({getParameter:function(t){if(t){return e.getParameter(t)}},getParameters:function(){return e.getParameters()},mParameters:e.getParameters(),files:[t]})};O.prototype._onTypeMissmatch=function(e){var t={name:e.getParameter("fileName"),fileType:e.getParameter("fileType"),mimeType:e.getParameter("mimeType")};var i=[t];this.fireTypeMissmatch({getParameter:function(t){if(t){return e.getParameter(t)}},getParameters:function(){return e.getParameters()},mParameters:e.getParameters(),files:i})};O.prototype._onUploadTerminated=function(e){var t;var i=this._getRequestId(e);var a=e.getParameter("fileName");var r=this.aItems.length;for(t=0;t<r;t++){if(this.aItems[t]&&this.aItems[t].getFileName()===a&&this.aItems[t]._requestIdName===i&&(this.aItems[t]._status===O._uploadingStatus||this.aItems[t]._status===O._toBeDeletedStatus)){if(this.getItems()&&this.getItems()[t]===this.aItems[t]){this.removeItem(t)}this.aItems.splice(t,1);break}}this.fireUploadTerminated({fileName:a,getHeaderParameter:this._getHeaderParameterWithinEvent.bind(e)})};O.prototype._onUploadComplete=function(e){if(e){var t,i=this._getRequestId(e),a=e.getParameter("fileName"),r=e.getParameter("id"),s,o,n,l=d();s=this.aItems.length;n=[O._uploadingStatus,O._pendingUploadStatus];for(t=0;t<s;t++){if((!i||this.aItems[t]._requestIdName===i)&&this.aItems[t].getProperty("fileName")===a&&n.indexOf(this.aItems[t]._status)>=0){if(l&&this.aItems[t]._status!==O._pendingUploadStatus){this.aItems[t]._percentUploaded=100;this.aItems[t]._status=O._displayStatus}o=this.aItems.splice(t,1)[0];if(o.destroy){o.destroy()}this._oItemToUpdate=null;break}}for(t=0;t<this._aFileUploadersForPendingUpload.length;t++){if(this._aFileUploadersForPendingUpload[t].getId()===r){this._aFileUploadersForPendingUpload[t].clear();break}}this.fireUploadComplete({getParameter:e.getParameter,getParameters:e.getParameters,mParameters:e.getParameters(),files:[{fileName:e.getParameter("fileName")||a,responseRaw:e.getParameter("responseRaw"),reponse:e.getParameter("response"),response:e.getParameter("response"),status:e.getParameter("status"),headers:e.getParameter("headers")}]})}this.invalidate();function d(){var t=e.getParameter("status").toString()||"200";return t[0]==="2"||t[0]==="3"}};O.prototype._onUploadProgress=function(e){if(!e||!this.getInstantUpload()){return}var t=e.getParameter("fileName"),i,a=Math.round(e.getParameter("loaded")/e.getParameter("total")*100),r=this._getRequestId(e),s=this.aItems.length,o,n,l;if(a===100){i=this._oRb.getText("UPLOADCOLLECTION_UPLOAD_COMPLETED")}else{i=this._oRb.getText("UPLOADCOLLECTION_UPLOADING",[a])}for(var d=0;d<s;d++){l=this.aItems[d];if(l.getProperty("fileName")===t&&l._requestIdName===r&&l._status===O._uploadingStatus){o=l._getProgressLabel?l._getProgressLabel():l._getControl("sap.m.Label",{id:l.getId()+"-ta_progress"},"ProgressLabel");if(o){o.setText(i);o.rerender();l._percentUploaded=a;n=l.$("ia_indicator");if(a===100){n.attr("aria-label",i)}else{n.attr("aria-valuenow",a)}break}}}};O.prototype._getRequestId=function(e){var t;t=e.getParameter("requestHeaders");if(!t){return null}for(var i=0;i<t.length;i++){if(t[i].name===this._headerParamConst.requestIdName){return t[i].value}}return null};O.prototype._getFileUploader=function(){var e=this.getInstantUpload();if(!e||!this._oFileUploader){var t=this.getInstantUpload()?this._oRb.getText("UPLOADCOLLECTION_UPLOAD"):this._oRb.getText("UPLOADCOLLECTION_ADD");this._iFUCounter=this._iFUCounter+1;this._oFileUploader=new f(this.getId()+"-"+this._iFUCounter+"-uploader",{buttonOnly:true,buttonText:t,iconOnly:false,enabled:this.getUploadEnabled(),fileType:this.getFileType(),icon:"",iconFirst:false,style:"Transparent",maximumFilenameLength:this.getMaximumFilenameLength(),maximumFileSize:this.getMaximumFileSize(),mimeType:this.getMimeType(),multiple:this.getMultiple(),name:"uploadCollection",uploadOnChange:e,sameFilenameAllowed:true,uploadUrl:this.getUploadUrl(),useMultipart:false,sendXHR:true,change:[this._onChange,this],filenameLengthExceed:[this._onFilenameLengthExceed,this],fileSizeExceed:[this._onFileSizeExceed,this],typeMissmatch:[this._onTypeMissmatch,this],uploadAborted:[this._onUploadTerminated,this],uploadComplete:[this._onUploadComplete,this],uploadProgress:[this._onUploadProgress,this],uploadStart:[this._onUploadStart,this],visible:!this.getUploadButtonInvisible()})}return this._oFileUploader};O.prototype._onUploadStart=function(e){var t,i,a,r,s,o,n;this._iUploadStartCallCounter++;s=e.getParameter("requestHeaders").length;for(i=0;i<s;i++){if(e.getParameter("requestHeaders")[i].name===this._headerParamConst.requestIdName){a=e.getParameter("requestHeaders")[i].value;break}}o=e.getParameter("fileName");t={name:this._headerParamConst.fileNameRequestIdName,value:this._encodeToAscii(o)+a};e.getParameter("requestHeaders").push(t);r={name:this._headerParamConst.acceptLanguage,value:S.getLanguage()};e.getParameter("requestHeaders").push(r);for(i=0;i<this._aDeletedItemForPendingUpload.length;i++){if(this._aDeletedItemForPendingUpload[i].getAssociation("fileUploader")===e.oSource.sId&&this._aDeletedItemForPendingUpload[i].getFileName()===o&&this._aDeletedItemForPendingUpload[i]._internalFileIndexWithinFileUploader===this._iUploadStartCallCounter){e.getSource().abort(this._headerParamConst.fileNameRequestIdName,this._encodeToAscii(o)+a);return}}this.fireBeforeUploadStarts({fileName:o,addHeaderParameter:l,getHeaderParameter:d.bind(this)});if(Array.isArray(n)){for(i=0;i<n.length;i++){if(e.getParameter("requestHeaders")[i].name===n[i].getName()){e.getParameter("requestHeaders")[i].value=n[i].getValue()}}}else if(n instanceof D){for(i=0;i<e.getParameter("requestHeaders").length;i++){if(e.getParameter("requestHeaders")[i].name===n.getName()){e.getParameter("requestHeaders")[i].value=n.getValue();break}}}function l(t){var i={name:t.getName(),value:t.getValue()};e.getParameter("requestHeaders").push(i)}function d(t){n=this._getHeaderParameterWithinEvent.bind(e)(t);return n}};O.prototype._getIconFromFilename=function(e){var t=O._splitFilename(e).extension;if(typeof t==="string"){t=t.toLowerCase()}switch(t){case".bmp":case".jpg":case".jpeg":case".png":return O._placeholderCamera;case".csv":case".xls":case".xlsx":return"sap-icon://excel-attachment";case".doc":case".docx":case".odt":return"sap-icon://doc-attachment";case".pdf":return"sap-icon://pdf-attachment";case".ppt":case".pptx":return"sap-icon://ppt-attachment";case".txt":return"sap-icon://document-text";default:return"sap-icon://document"}};O.prototype._getThumbnail=function(e,t){if(e){return e}else{return this._getIconFromFilename(t)}};O.prototype._triggerLink=function(e,i){if(this.editModeItem){this._handleOk(e,this.editModeItem,true);if(this.sErrorState==="Error"){return}this.sFocusId=e.getParameter("id")}t.URLHelper.redirect(i.getProperty("url"),true)};O.prototype.onkeydown=function(e){switch(e.keyCode){case A.F2:this._handleF2(e);break;case A.ESCAPE:this._handleESC(e);break;case A.DELETE:this._handleDEL(e);break;case A.ENTER:this._handleENTER(e);break;default:return}e.setMarked()};O.prototype._setFocusAfterDeletion=function(){var e=this.aItems.length;var t;if(e===0){this._oFileUploader.focus()}else{var i=this.sDeletedItemId.split("-").pop();if(i<=e-1){t=this.sDeletedItemId+"-cli"}else{t=this.aItems[this.aItems.length-1].sId+"-cli"}this._setFocusToLineItem(t)}this.sDeletedItemId=null};O.prototype._setFocusToLineItem=function(e){E(document.getElementById(e)).trigger("focus")};O.prototype._handleENTER=function(e){var i,a,r,s;if(this.editModeItem){i=e.target.id.split(this.editModeItem).pop()}else{i=e.target.id.split("-").pop()}switch(i){case"-ta_editFileName-inner":case"-okButton":this._handleOk(e,this.editModeItem,true);break;case"-cancelButton":e.preventDefault();this._handleCancel(e,this.editModeItem);break;case"-ia_iconHL":case"-ia_imageHL":s=this.editModeItem.split("-").pop();t.URLHelper.redirect(this.aItems[s].getProperty("url"),true);break;case"ia_iconHL":case"ia_imageHL":case"cli":a=e.target.id.split(i)[0]+"ta_filenameHL";r=sap.ui.getCore().byId(a);if(r.getEnabled()){s=e.target.id.split("-")[2];t.URLHelper.redirect(this.aItems[s].getProperty("url"),true)}break;default:break}};O.prototype._handleDEL=function(e){if(!this.editModeItem){var t=e.target.id.slice(0,-4),i=sap.ui.getCore().byId(t),a=i&&i._getDeleteButton&&i._getDeleteButton();if(a){a.firePress()}}};O.prototype._handleESC=function(e){if(this.editModeItem){this.sFocusId=this.editModeItem+"-cli";this.aItems[this.editModeItem.split("-").pop()]._status=O._displayStatus;this._handleCancel(e,this.editModeItem)}};O.prototype._handleF2=function(e){var t=sap.ui.getCore().byId(e.target.id);if(t!==undefined){if(t._status===O._displayStatus){var i=E(document.getElementById(e.target.id));var a=i.find("[id$='-editButton']");var r=sap.ui.getCore().byId(a[0].id);if(r.getEnabled()){if(this.editModeItem){this._handleClick(e,this.editModeItem)}if(this.sErrorState!=="Error"){r.firePress()}}}else{this._handleClick(e,this.editModeItem)}}else if(e.target.id.search(this.editModeItem)===0){this._handleOk(e,this.editModeItem,true)}};O._checkDoubleFileName=function(e,t){if(t.length===0||!e){return false}var i=t.length;e=e.replace(/^\s+/,"");for(var a=0;a<i;a++){if(e===t[a].getProperty("fileName")){return true}}return false};O._splitFilename=function(e){var t={};var i=e.split(".");if(i.length===1){t.extension="";t.name=i.pop();return t}t.extension="."+i.pop();t.name=i.join(".");return t};O.prototype._getAriaLabelForPicture=function(e){var t;t=e.getAriaLabelForPicture()||e.getFileName();return t};O.prototype._getHeaderParameterWithinEvent=function(e){var t=[];var i=this.getParameter("requestHeaders");var a=i.length;var r;if(i&&e){for(r=0;r<a;r++){if(i[r].name===e){return new D({name:i[r].name,value:i[r].value})}}return null}else if(i){for(r=0;r<a;r++){t.push(new D({name:i[r].name,value:i[r].value}))}return t}};O.prototype._encodeToAscii=function(e){var t="";for(var i=0;i<e.length;i++){t=t+e.charCodeAt(i)}return t};O.prototype._onResize=function(){var e=this._oList.getItems();for(var t=0;t<e.length;t++){var i=e[t];setTimeout(function(){var e=this._truncateFileName.bind(this);if(typeof e==="string"||e instanceof String){e=this[e]}e.apply(this,[i._oUploadCollectionItem]||[])}.bind(this),O._resizeTimeoutInterval)}};O.prototype._getUploadCollectionItemByListItem=function(e){var t=this.getItems();for(var i=0;i<t.length;i++){if(t[i].getId()===e.getId().replace("-cli","")){return t[i]}}return null};O.prototype._getUploadCollectionItemById=function(e){var t=this.getItems();for(var i=0;i<t.length;i++){if(t[i].getId()===e){return t[i]}}return null};O.prototype._getUploadCollectionItemsByListItems=function(e){var t=[];var i=this.getItems();if(e){for(var a=0;a<e.length;a++){for(var r=0;r<i.length;r++){if(e[a].getId().replace("-cli","")===i[r].getId()){t.push(i[r]);break}}}return t}return null};O.prototype._setSelectedForItems=function(t,i){if(this.getMode()!==e.ListMode.MultiSelect&&i){var a=this.getItems();for(var r=0;r<a.length;r++){a[r].setSelected(false)}}for(var s=0;s<t.length;s++){t[s].setSelected(i)}};O.prototype._handleItemSetSelected=function(e){var t=e.getSource();if(t instanceof y){var i=this._getListItemById(t.getId()+"-cli");if(i){i.setSelected(t.getSelected())}}};O.prototype._handleSelectionChange=function(e){var t=e.getParameter("listItem");var i=e.getParameter("selected");var a=this._getUploadCollectionItemsByListItems(e.getParameter("listItems"));var r=this._getUploadCollectionItemByListItem(t);if(r&&t&&a){this.fireSelectionChange({selectedItem:r,selectedItems:a,selected:i});r.setSelected(t.getSelected())}};O.prototype._getListItemById=function(e){var t=this._oList.getItems();return O._findById(e,t)};O._findById=function(e,t){for(var i=0;i<t.length;i++){if(t[i].getId()===e){return t[i]}}return null};return O});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/UploadCollectionItem",["./library","sap/ui/core/Element","sap/m/ObjectAttribute","sap/ui/core/util/File","sap/ui/Device","sap/base/Log","sap/base/util/ObjectPath","sap/ui/thirdparty/jquery"],function(e,t,r,i,a,s,l,u){"use strict";var o=t.extend("sap.m.UploadCollectionItem",{metadata:{library:"sap.m",properties:{contributor:{type:"string",group:"Data",defaultValue:null,deprecated:true},documentId:{type:"string",group:"Misc",defaultValue:null},fileName:{type:"string",group:"Misc",defaultValue:null},fileSize:{type:"float",group:"Misc",defaultValue:null,deprecated:true},mimeType:{type:"string",group:"Misc",defaultValue:null},thumbnailUrl:{type:"string",group:"Misc",defaultValue:null},uploadedDate:{type:"string",group:"Misc",defaultValue:null,deprecated:true},url:{type:"string",group:"Misc",defaultValue:null},enableEdit:{type:"boolean",group:"Behavior",defaultValue:true},enableDelete:{type:"boolean",group:"Behavior",defaultValue:true},visibleEdit:{type:"boolean",group:"Behavior",defaultValue:true},visibleDelete:{type:"boolean",group:"Behavior",defaultValue:true},ariaLabelForPicture:{type:"string",group:"Accessibility",defaultValue:null},selected:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"attributes",aggregations:{attributes:{type:"sap.m.ObjectAttribute",multiple:true,bindable:"bindable"},_propertyAttributes:{type:"sap.m.ObjectAttribute",multiple:true,visibility:"hidden"},statuses:{type:"sap.m.ObjectStatus",multiple:true,bindable:"bindable"},markers:{type:"sap.m.ObjectMarker",multiple:true,bindable:"bindable"}},associations:{fileUploader:{type:"sap.ui.unified.FileUploader",multiple:false}},events:{press:{},deletePress:{}}}});o.prototype.init=function(){this._mDeprecatedProperties={};this._aManagedInstances=[]};o.prototype.exit=function(){for(var e=0;e<this._aManagedInstances.length;e++){this._aManagedInstances[e].destroy()}};o.prototype.setContributor=function(e){if(this.getContributor()!==e){this.setProperty("contributor",e,true);this._updateDeprecatedProperties()}return this};o.prototype.setUploadedDate=function(e){if(this.getUploadedDate()!==e){this.setProperty("uploadedDate",e,true);this._updateDeprecatedProperties()}return this};o.prototype.setFileSize=function(e){if(this.getFileSize()!==e){this.setProperty("fileSize",e,true);this._updateDeprecatedProperties()}return this};o.prototype.setSelected=function(e){if(this.getSelected()!==e){this.setProperty("selected",e,true);this.fireEvent("selected")}return this};o.prototype.download=function(t){if(a.browser.name==="sf"){t=false}if(!this.getUrl()){s.warning("Items to download do not have a URL.");return false}else if(t){var r=this.getFileName();var l=this._splitFileName(r,false);var u=null;var o=new window.XMLHttpRequest;o.open("GET",this.getUrl());if(l.extension!=="csv"){o.responseType="blob"}o.onload=function(){var e=l.extension;r=l.name;u=o.response;i.save(u,r,e,this.getMimeType(),"utf-8")}.bind(this);o.send();return true}else{e.URLHelper.redirect(this.getUrl(),true);return true}};o.prototype._splitFileName=function(e,t){var r={};var i=/(?:\.([^.]+))?$/;var a=i.exec(e);r.name=e.slice(0,e.indexOf(a[0]));if(t){r.extension=a[0]}else{r.extension=a[1]}return r};o.prototype._updateDeprecatedProperties=function(){var e=["uploadedDate","contributor","fileSize"];this.removeAllAggregation("_propertyAttributes",true);u.each(e,function(e,t){var i=this.getProperty(t),a=this._mDeprecatedProperties[t];if(i){if(!a){a=new r({active:false});this._mDeprecatedProperties[t]=a;this.addAggregation("_propertyAttributes",a,true);a.setText(i)}else{a.setText(i);this.addAggregation("_propertyAttributes",a,true)}}else if(a){a.destroy();delete this._mDeprecatedProperties[t]}}.bind(this));this.invalidate()};o.prototype.getAllAttributes=function(){return this.getAggregation("_propertyAttributes",[]).concat(this.getAttributes())};o.prototype._getControl=function(e,t,r){var i=l.get(e||""),a=new i(t);this._aManagedInstances.push(a);if(r){this["_get"+r]=function(){return a}}return a};o.prototype._getPressEnabled=function(){return this.hasListeners("press")||this._hasUrl()};o.prototype._hasUrl=function(){var e=this.getUrl();return e!=null&&!!e.trim()};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/UploadCollectionParameter",["./library","sap/ui/core/Element"],function(a,e){"use strict";var t=e.extend("sap.m.UploadCollectionParameter",{metadata:{library:"sap.m",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/UploadCollectionRenderer",["./ListItemBaseRenderer"],function(e){"use strict";var r={apiVersion:2};r.render=function(e,r){e.openStart("div",r);e.class("sapMUC");e.openEnd();this.renderDragDropOverlay(e,r);this.renderList(e,r);e.close("div")};r.renderNoData=function(r,t){var a=t.getParent();r.openStart("li",a._oList.getId("nodata"));r.attr("tabindex","0");r.attr("role","option");e.addFocusableClasses.call(e,r);r.class("sapMLIB");r.class("sapMUCNoDataPage");r.openEnd();r.renderControl(a.getAggregation("_noDataIcon"));r.openStart("div",a.getId()+"-no-data-text");r.class("sapMUCNoDataText");r.openEnd();r.text(a.getNoDataText());r.close("div");if(a.getUploadEnabled()){r.openStart("div",a.getId()+"-no-data-description");r.class("sapMUCNoDataDescription");r.openEnd();r.text(a.getNoDataDescription());r.close("div")}r.close("li")};r.renderDragDropOverlay=function(e,r){e.openStart("div",r.getId()+"-drag-drop-area");e.class("sapMUCDragDropOverlay");e.class("sapMUCDragDropOverlayHide");e.openEnd();e.openStart("div");e.class("sapMUCDragDropIndicator");e.openEnd();e.renderControl(r.getAggregation("_dragDropIcon"));e.renderControl(r.getAggregation("_dragDropText"));e.close("div");e.close("div")};r.renderList=function(e,r){var t=r._oList.getRenderer().renderNoData;r._oList.getRenderer().renderNoData=this.renderNoData;e.renderControl(r._oList);r._oList.getRenderer().renderNoData=t};return r},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/UploadCollectionToolbarPlaceholder",["./library","sap/ui/core/Control"],function(e,r){"use strict";var a=r.extend("sap.m.UploadCollectionToolbarPlaceholder",{metadata:{library:"sap.m",properties:{}},renderer:null});return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/m/VisibleItem",["./library","sap/ui/core/Item","sap/ui/thirdparty/jquery"],function(e,t,i){"use strict";var r=t.extend("sap.m.VisibleItem",{metadata:{library:"sap.m",properties:{visible:{type:"boolean",group:"Behavior",defaultValue:true}}}});r.prototype._getRefs=function(){var e=this.getParent(),t,r=this;if(e&&e.$("content")){t=e.$("content").find("li").filter(function(){return i(this).html()===r.getText()})}return t};r.prototype.setVisible=function(e){if(this.getVisible()===e){return this}var t=this._getRefs();if(t){if(e){t.removeClass("TPSliderItemHidden")}else{t.addClass("TPSliderItemHidden")}}return this.setProperty("visible",e,true)};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/ComponentContainer",["sap/ui/base/ManagedObject","./Control","./Component","./library","./ComponentContainerRenderer","sap/base/Log","sap/ui/core/Configuration"],function(e,t,n,o,i,a,r){"use strict";var s=o.ComponentLifecycle;var p=t.extend("sap.ui.core.ComponentContainer",{metadata:{interfaces:["sap.ui.core.IPlaceholderSupport"],library:"sap.ui.core",properties:{name:{type:"string",defaultValue:null},url:{type:"sap.ui.core.URI",defaultValue:null},async:{type:"boolean",defaultValue:false},handleValidation:{type:"boolean",defaultValue:false},settings:{type:"object",defaultValue:null},propagateModel:{type:"boolean",defaultValue:false},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},lifecycle:{type:"sap.ui.core.ComponentLifecycle",defaultValue:s.Legacy},autoPrefixId:{type:"boolean",defaultValue:false},usage:{type:"string",defaultValue:null},manifest:{type:"any",defaultValue:null}},associations:{component:{type:"sap.ui.core.UIComponent",multiple:false}},events:{componentCreated:{parameters:{component:{type:"sap.ui.core.UIComponent"}}},componentFailed:{allowPreventDefault:true,parameters:{reason:{type:"object"}}}},designtime:"sap/ui/core/designtime/ComponentContainer.designtime"},renderer:i});function l(t,o,i,a){var r=typeof o==="string"?n.get(o):o;var s=t.getComponentInstance();if(s!==r){if(s){s.setContainer(undefined);if(a){s.destroy()}else{t._propagateProperties(true,s,e._oEmptyPropagatedProperties,true)}}t.setAssociation("component",r,i);r=t.getComponentInstance();if(r){r.setContainer(t);t.propagateProperties(true)}}}p.prototype.getComponentInstance=function(){var e=this.getComponent();return e&&n.get(e)};var f={onAfterRendering:function(){if(this._placeholder){this._placeholder.show(this)}}};p.prototype.showPlaceholder=function(e){var t;if(!r.getPlaceholder()){return}if(this._placeholder){this.hidePlaceholder()}if(e.placeholder){this._placeholder=e.placeholder;t=this._placeholder._load()}else{t=Promise.resolve()}if(this.getDomRef()&&this._placeholder){this._placeholder.show(this)}this.addEventDelegate(f,this);return t};p.prototype.hidePlaceholder=function(){if(this._placeholder){this._placeholder.hide();this.removeEventDelegate(f);this._placeholder=undefined}};p.prototype.setComponent=function(e,t){l(this,e,t,this.getLifecycle()===s.Container||typeof this.getUsage()==="string"&&this.getUsage()&&this.getLifecycle()===s.Legacy);return this};p.prototype.applySettings=function(e,n){if(e){if(e.manifest==="true"||e.manifest==="false"){e.manifest=e.manifest==="true"}if(e.manifest&&e.async===undefined){e.async=true}}t.prototype.applySettings.apply(this,arguments)};function u(e){var t=e.getName();var n=e.getManifest();var o=e.getUrl();var i=e.getSettings();var a={name:t?t:undefined,manifest:n!==null?n:false,async:e.getAsync(),url:o?o:undefined,handleValidation:e.getHandleValidation(),settings:i!==null?i:undefined};return a}p.prototype._createComponent=function(){var e=n.getOwnerComponentFor(this),t=this.getUsage(),o=u(this);if(t){if(e){o=e._enhanceWithUsageConfig(t,o)}else{a.error('ComponentContainer "'+this.getId()+'" does have a "usage", but no owner component!')}}if(this.getAutoPrefixId()){if(o.id){o.id=this.getId()+"-"+o.id}if(o.settings&&o.settings.id){o.settings.id=this.getId()+"-"+o.settings.id}}return n._createComponent(o,e)};p.prototype.onBeforeRendering=function(){var e=this.getComponentInstance(),t=this.getUsage(),n=this.getName(),o=this.getManifest();if(!this._oComponentPromise&&!e&&(t||n||o)){e=this._createComponent();if(e instanceof Promise){this._oComponentPromise=e;e.then(function(e){delete this._oComponentPromise;this.setComponent(e);this.fireComponentCreated({component:e})}.bind(this),function(e){delete this._oComponentPromise;if(this.fireComponentFailed({reason:e})){a.error("Failed to load component for container "+this.getId(),e)}}.bind(this))}else if(e){this.setComponent(e,true);this.fireComponentCreated({component:e})}else{this.fireComponentFailed({reason:new Error("The component could not be created.")})}}if(e&&e.onBeforeRendering){e.onBeforeRendering()}};p.prototype.onAfterRendering=function(){var e=this.getComponentInstance();if(e&&e.onAfterRendering){e.onAfterRendering()}};p.prototype.exit=function(){l(this,undefined,true,this.getLifecycle()!==s.Application)};p.prototype.propagateProperties=function(e){var n=this.getComponentInstance();if(n&&this.getPropagateModel()){this._propagateProperties(e,n)}t.prototype.propagateProperties.apply(this,arguments)};p.prototype._propagateContextualSettings=function(){var e=this.getComponentInstance();if(e){e._applyContextualSettings(this._getContextualSettings())}};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/ComponentContainerRenderer",function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var n=t.getComponentInstance();var i=t.getWidth();var r=t.getHeight();e.openStart("div",t);e.style("width",i);e.style("height",r);e.class("sapUiComponentContainer");e.openEnd();e.openStart("div",t.getId()+"-uiarea");if(i&&i!=="auto"){e.style("width","100%")}if(r&&r!=="auto"){e.style("height","100%")}e.openEnd();if(n){n.render(e)}e.close("div");e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/DeclarativeSupport",["sap/ui/thirdparty/jquery","sap/ui/base/DataType","sap/ui/base/ManagedObject","./Control","./CustomData","./HTML","./mvc/View","./mvc/EventHandlerResolver","sap/base/Log","sap/base/util/ObjectPath","sap/base/assert","sap/base/strings/camelize"],function(t,e,a,r,i,n,o,s,u,g,l,p){"use strict";var d={};d.attributes={"data-sap-ui-type":true,"data-sap-ui-id":true,"data-sap-ui-aggregation":true,"data-sap-ui-default-aggregation":true,"data-sap-ui-binding":function(t,e){var r=a.bindingParser(t);e.objectBindings=e.objectBindings||{};e.objectBindings[r.model||undefined]=r},"data-tooltip":function(t,e){e["tooltip"]=t},tooltip:function(t,e,a){e["tooltip"]=t;u.warning('[Deprecated] Control "'+e.id+'": The attribute "tooltip" is not prefixed with "data-*". Future version of declarative support will only suppport attributes with "data-*" prefix.')},class:true,style:true,id:true};d.compile=function(e,a,r){var i=this;t(e).find("[data-sap-ui-type]").filter(function(){return t(this).parents("[data-sap-ui-type]").length===0}).each(function(){i._compile(this,a,r)})};d._compile=function(e,a,i){var n=t(e);var o=n.attr("data-sap-ui-type");var s=[];var u=o==="sap.ui.core.UIArea";var g=e.getAttributeNames();if(u){var l=this;n.children().each(function(){var t=l._createControl(this,a);if(t){s.push(t)}})}else{var p=this._createControl(e,a);if(p){s.push(p)}}n.empty();var d=[];for(var f=0;f<g.length;f++){var c=g[f];if(!u||u&&/^data-/g.test(c.toLowerCase())){d.push(c)}}if(d.length>0){n.removeAttr(d.join(" "))}s.forEach(function(t){if(t instanceof r){if(a&&!i){a.addContent(t)}else{t.placeAt(e);if(a){a.connectControl(t)}}}})};d._createControl=function(e,a){var r=t(e);var i=null;var n=r.attr("data-sap-ui-type");if(n){var s=sap.ui.requireSync(n.replace(/\./g,"/"));s=s||g.get(n);l(typeof s!=="undefined","Class not found: "+n);var u={};u.id=this._getId(r,a);if(a&&a._sProcessingMode!=null&&s.getMetadata().hasSpecialSetting("processingMode")){u.processingMode=a._sProcessingMode}this._addSettingsForAttributes(u,s,e,a);this._addSettingsForAggregations(u,s,e,a);var i;if(o.prototype.isPrototypeOf(s.prototype)&&typeof s._sType==="string"){i=o._create(u,undefined,s._sType)}else{i=new s(u)}if(e.className){i.addStyleClass(e.className)}r.removeAttr("data-sap-ui-type")}else{i=this._createHtmlControl(e,a)}return i};d._createHtmlControl=function(t,e){var a=new n;a.setDOMContent(t);this.compile(t,e,true);return a};d._addSettingsForAttributes=function(t,e,r,n){var o=this;var u=d.attributes;var g=a.bindingParser;var f=[];var c=/^data-custom-data:(.+)/i;var v=r.getAttributeNames();for(var h=0;h<v.length;h++){var y=v[h];var b=r.getAttribute(y);if(!c.test(y)){if(typeof u[y]==="undefined"){y=o.convertAttributeToSettingName(y,t.id);var m=o._getProperty(e,y);if(m){var _=g(b,n&&n.getController(),true);if(_&&typeof _==="object"){t[y]=_}else{t[y]=o.convertValueToType(o.getPropertyDataType(m),_||b)}}else if(o._getAssociation(e,y)){var A=o._getAssociation(e,y);if(A.multiple){b=b.replace(/\s*,\s*|\s+/g,",");t[y]=b.split(",").map(function(t){return n?n.createId(t):t})}else{t[y]=n?n.createId(b):b}}else if(o._getAggregation(e,y)){var w=o._getAggregation(e,y);if(w.multiple){var _=g(b,n&&n.getController());if(_){t[y]=_}else{throw new Error("Aggregation "+y+" with cardinality 0..n only allows binding paths as attribute value")}}else if(w.altTypes){var _=g(b,n&&n.getController(),true);if(_&&typeof _==="object"){t[y]=_}else{t[y]=o.convertValueToType(w.altTypes[0],_||b)}}else{throw new Error("Aggregation "+y+" not supported")}}else if(o._getEvent(e,y)){var C=n&&(n._oContainingView||n).getController();var T=s.resolveEventHandler(b,C);if(T){t[y]=T}else{throw new Error('Control "'+t.id+'": The function "'+b+'" for the event "'+y+'" is not defined')}}else{l(y==="id","DeclarativeSupport encountered unknown setting '"+y+"' for class '"+e.getMetadata().getName()+"' (value:'"+b+"')")}}else if(typeof u[y]==="function"){u[y](b,t,e)}}else{y=p(c.exec(y)[1]);var _=g(b,n&&n.getController());f.push(new i({key:y,value:_||b}))}}if(f.length>0){t.customData=f}return t};d._addSettingsForAggregations=function(e,a,r,i){var n=t(r);var o=this._getDefaultAggregation(a,r);var s=this;var u=a.getMetadata().getAllAggregations();n.children().each(function(){var a=t(this);var r=a.attr("data-sap-ui-aggregation");var n=a.attr("data-sap-ui-type");var g=false;if(!r){g=true;r=o}if(r&&u[r]){var p=u[r].multiple;var d=function(t){var a=s._createControl(t,i);if(a){if(p){if(!e[r]){e[r]=[]}if(typeof e[r].path==="string"){l(!e[r].template,"list bindings support only a single template object");e[r].template=a}else{e[r].push(a)}}else{e[r]=a}}};if(g||n&&!g){d(this)}else{a.children().each(function(){d(this)})}}a.removeAttr("data-sap-ui-aggregation");a.removeAttr("data-sap-ui-type")});return e};d._getId=function(e,a){var r=t(e);var i=r.attr("id");if(i){if(a){i=a.createId(i);r.attr("data-sap-ui-id",i)}r.attr("id","")}return i};d._getProperty=function(t,e){return t.getMetadata().getProperty(e)};d.convertValueToType=function(t,r){if(t instanceof e){r=t.parseValue(r)}return typeof r==="string"?a.bindingParser.escape(r):r};d.getPropertyDataType=function(t){var a=e.getType(t.type);if(!a){throw new Error("Property "+t.name+" has no known type")}return a};d.convertAttributeToSettingName=function(t,e,a){if(t.indexOf("data-")===0){t=t.substr(5)}else if(a){u.warning('[Deprecated] Control "'+e+'": The attribute "'+t+'" is not prefixed with "data-*". Future version of declarative support will only suppport attributes with "data-*" prefix.')}else{throw new Error('Control "'+e+'": The attribute "'+t+'" is not prefixed with "data-*".')}return p(t)};d._getAssociation=function(t,e){return t.getMetadata().getAssociation(e)};d._getAggregation=function(t,e){return t.getMetadata().getAggregation(e)};d._getEvent=function(t,e){return t.getMetadata().getEvent(e)};d._getDefaultAggregation=function(e,a){var r=t(a);var i=r.attr("data-sap-ui-default-aggregation")||e.getMetadata().getDefaultAggregationName();r.removeAttr("data-sap-ui-default-aggregation");return i};return d},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/ScrollBar",["sap/ui/Device","./Control","./library","./ScrollBarRenderer","sap/ui/performance/trace/Interaction","sap/base/Log","sap/ui/events/jquery/EventSimulation","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(t,e,o,i,r,s,l,h,n){"use strict";var c=o.ScrollBarAction;var a=e.extend("sap.ui.core.ScrollBar",{metadata:{library:"sap.ui.core",properties:{vertical:{type:"boolean",group:"Behavior",defaultValue:true},scrollPosition:{type:"int",group:"Behavior",defaultValue:null},size:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},contentSize:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},steps:{type:"int",group:"Dimension",defaultValue:null}},events:{scroll:{parameters:{action:{type:"sap.ui.core.ScrollBarAction"},forward:{type:"boolean"},newScrollPos:{type:"int"},oldScrollPos:{type:"int"}}}}},renderer:i});a.prototype.init=function(){this.ontouchstart=this.ontouchstart.bind(this);this.ontouchmove=this.ontouchmove.bind(this);this.ontouchend=this.ontouchend.bind(this);this.ontouchcancel=this.ontouchcancel.bind(this);this.onmousewheel=this.onmousewheel.bind(this);this.onscroll=this.onscroll.bind(this);this._$ScrollDomRef=null;this._iOldScrollPos=0;this._iOldStep=0;this._bScrollPosIsChecked=false;this._bRTL=n.getRTL();this._bSuppressScroll=false;this._iMaxContentDivSize=1e6;if(l.touchEventMode==="ON"){sap.ui.requireSync("sap/ui/thirdparty/zyngascroll");this._iLastTouchScrollerPosition=null;this._iTouchStepTreshold=24;this._bSkipTouchHandling=false;this._oTouchScroller=new window.Scroller(this._handleTouchScroll.bind(this),{bouncing:false})}};a.prototype.onBeforeRendering=function(){this.$("sb").off("scroll",this.onscroll)};a.prototype.onAfterRendering=function(){this._iSteps=this.getSteps();var e=this.getContentSize();this._bStepMode=!e;var o=this.getSize();if(o.endsWith("px")){o=o.substr(0,o.length-2)}else{o=this.getVertical()?this.$().height():this.$().width()}var i=null;var r=this.$("ffsize");if(t.browser.firefox){i=r.outerHeight();if(i===0){i=window.getComputedStyle(h("body").get(0))["font-size"];if(i.endsWith("px")){i=i.substr(0,i.length-2)}i=parseInt(i)}}r.remove();if(t.browser.webkit){if(!document.width){i=Math.round(40/(window.outerWidth/h(document).width()))}else{i=Math.round(40/(document.width/h(document).width()))}}if(this.getVertical()){if(t.browser.firefox){this._iFactor=i}else if(t.browser.webkit){this._iFactor=i}else{this._iFactor=Math.floor(o*.125)}this._iFactorPage=t.browser.firefox?o-i:Math.floor(o*.875)}else{if(t.browser.firefox){this._iFactor=10;this._iFactorPage=Math.floor(o*.8)}else if(t.browser.webkit){this._iFactor=i;this._iFactorPage=Math.floor(o*.875)}else{this._iFactor=7;this._iFactorPage=o-14}}this._$ScrollDomRef=this.$("sb");if(this._bStepMode){if(this.getVertical()){var s=this._iSteps*this._iFactor;if(s>this._iMaxContentDivSize){this._iFactor=this._iFactor/(s/this._iMaxContentDivSize)}var n=this._$ScrollDomRef.height()+Math.ceil(this._iSteps*this._iFactor);this._$ScrollDomRef.find("div").height(n)}else{var n=this._$ScrollDomRef.width()+this._iSteps*this._iFactor;this._$ScrollDomRef.find("div").width(n)}}this.setCheckedScrollPosition(this.getScrollPosition()?this.getScrollPosition():0,true);this._$ScrollDomRef.on("scroll",this.onscroll);if(l.touchEventMode==="ON"){this._bSkipTouchHandling=true;var c={width:0,height:0};c[this.getVertical()?"height":"width"]=this._bStepMode?this.getSteps()*this._iTouchStepTreshold:parseInt(this.getContentSize());this._oTouchScroller.setDimensions(0,0,c.width,c.height);var a=this._$ScrollDomRef.get(0);if(a){var u=a.getBoundingClientRect();this._oTouchScroller.setPosition(u.left+a.clientLeft,u.top+a.clientTop);this._bSkipTouchHandling=false}}};a.prototype.onmousewheel=function(t){if(this.$().is(":visible")){var e=t.originalEvent;var o=e.detail?e.detail:e.wheelDelta*-1/40;var i=o>0?true:false;if(this._$ScrollDomRef[0]&&this._$ScrollDomRef[0].contains(t.target)){this._doScroll(c.MouseWheel,i)}else{this._bMouseWheel=true;var r=null;if(this._bStepMode){r=o+this._iOldStep}else{r=o*this._iFactor+this._iOldScrollPos}this.setCheckedScrollPosition(r,true)}t.preventDefault();t.stopPropagation();return false}};a.prototype.ontouchstart=function(t){var e=t.touches;var o=e[0];if(o&&o.target&&o.target.tagName.match(/input|textarea|select/i)){return}if(this._oTouchScroller){this._oTouchScroller.doTouchStart(e,t.timeStamp)}if(e.length==1){t.preventDefault()}};a.prototype.ontouchmove=function(t){if(this._oTouchScroller){this._oTouchScroller.doTouchMove(t.touches,t.timeStamp,t.scale)}};a.prototype.ontouchend=function(t){if(this._oTouchScroller){this._oTouchScroller.doTouchEnd(t.timeStamp)}};a.prototype.ontouchcancel=function(t){if(this._oTouchScroller){this._oTouchScroller.doTouchEnd(t.timeStamp)}};a.prototype.onscroll=function(e){if(this._bSuppressScroll){this._bSuppressScroll=false;e.preventDefault();e.stopPropagation();return false}var o=null;if(this._$ScrollDomRef){if(this.getVertical()){o=Math.round(this._$ScrollDomRef.scrollTop())}else{o=Math.round(this._$ScrollDomRef.scrollLeft());if(t.browser.firefox&&this._bRTL){o=Math.abs(o)}else if(t.browser.webkit&&this._bRTL){var i=this._$ScrollDomRef.get(0);o=i.scrollWidth-i.clientWidth-i.scrollLeft}}}var r=o-this._iOldScrollPos;var s=r>0?true:false;if(r<0){r=r*-1}var l=c.Drag;if(r==this._iFactor){l=c.Step}else if(r==this._iFactorPage){l=c.Page}else if(this._bMouseWheel){l=c.MouseWheel}if(this._bLargeDataScrolling&&l===c.Drag){this._eAction=l;this._bForward=s}else{this._doScroll(l,s)}e.preventDefault();e.stopPropagation();return false};a.prototype._onScrollTimeout=function(){this._scrollTimeout=undefined;this._doScroll(this._eAction,this._bForward);this._eAction=undefined;this._bForward=undefined;this._bTouchScroll=undefined};a.prototype.onmouseup=function(){if(this._bLargeDataScrolling&&(this._eAction||this._bForward||this._bTouchScroll)){this._doScroll(this._eAction,this._bForward);this._eAction=undefined;this._bForward=undefined;this._bTouchScroll=undefined}};a.prototype.ontouchend=a.prototype.onmouseup;a.prototype._handleTouchScroll=function(t,e,o){if(this._bSkipTouchHandling){return}var i=this.getVertical()?e:t;var r;if(this._bStepMode){r=Math.max(Math.round(i/this._iTouchStepTreshold),0)}else{r=Math.round(i)}if(this._iLastTouchScrollerPosition!==r){this._iLastTouchScrollerPosition=r;this.setCheckedScrollPosition(r,true);if(this._bLargeDataScrolling){this._bTouchScroll=true}else{this.fireScroll()}}};a.prototype.unbind=function(e){if(e){this._$OwnerDomRef=h(e);if(this.getVertical()){this._$OwnerDomRef.off(t.browser.firefox?"DOMMouseScroll":"mousewheel",this.onmousewheel)}if(l.touchEventMode==="ON"){this._$OwnerDomRef.off(this._getTouchEventType("touchstart"),this.ontouchstart);this._$OwnerDomRef.off(this._getTouchEventType("touchmove"),this.ontouchmove);this._$OwnerDomRef.off(this._getTouchEventType("touchend"),this.ontouchend);this._$OwnerDomRef.off(this._getTouchEventType("touchcancel"),this.ontouchcancel)}}};a.prototype.bind=function(e){if(e){this._$OwnerDomRef=h(e);if(this.getVertical()){this._$OwnerDomRef.on(t.browser.firefox?"DOMMouseScroll":"mousewheel",this.onmousewheel)}if(l.touchEventMode==="ON"){this._$OwnerDomRef.on(this._getTouchEventType("touchstart"),this.ontouchstart);this._$OwnerDomRef.on(this._getTouchEventType("touchmove"),this.ontouchmove);this._$OwnerDomRef.on(this._getTouchEventType("touchend"),this.ontouchend);this._$OwnerDomRef.on(this._getTouchEventType("touchcancel"),this.ontouchcancel)}}};a.prototype._getTouchEventType=function(t){return l.touchEventMode==="SIM"?"sap"+t:t};a.prototype.pageUp=function(){this._doScroll(c.Page,false)};a.prototype.pageDown=function(){this._doScroll(c.Page,true)};a.prototype.setScrollPosition=function(t){if(this._$ScrollDomRef){this.setCheckedScrollPosition(t,true)}else{this.setProperty("scrollPosition",t)}return this};a.prototype.setCheckedScrollPosition=function(e,o){var i=Math.max(e,0);if(this._bStepMode===undefined){this._bStepMode=!this.getContentSize()}var r=i;if(this._bStepMode){i=Math.min(i,this.getSteps());r=i*this._iFactor}i=Math.round(i);this._bSuppressScroll=!o;this.setProperty("scrollPosition",i,true);if(this.getVertical()){this._$ScrollDomRef.scrollTop(r)}else{if(t.browser.firefox&&this._bRTL){this._$ScrollDomRef.scrollLeft(-r)}else if(t.browser.webkit&&this._bRTL){var s=this._$ScrollDomRef.get(0);this._$ScrollDomRef.scrollLeft(s.scrollWidth-s.clientWidth-r)}else{this._$ScrollDomRef.scrollLeft(r)}}if(l.touchEventMode==="ON"){var h=i;if(this._bStepMode){h=Math.round(i*this._iTouchStepTreshold)}this._oTouchScroller.__scrollTop=this.getVertical()?h:0;this._oTouchScroller.__scrollLeft=this.getVertical()?0:h}};a.prototype.setContentSize=function(t){this.setProperty("contentSize",t,true);this._bStepMode=false;var e=this.$("sbcnt");if(e){if(this.getVertical()){e.height(t)}else{e.width(t)}}return this};a.prototype._doScroll=function(e,o){var i=null;if(this._$ScrollDomRef){if(this.getVertical()){i=Math.round(this._$ScrollDomRef.scrollTop())}else{i=Math.round(this._$ScrollDomRef.scrollLeft());if(t.browser.firefox&&this._bRTL){i=Math.abs(i)}else if(t.browser.webkit&&this._bRTL){var l=this._$ScrollDomRef.get(0);i=l.scrollWidth-l.clientWidth-l.scrollLeft}}}if(this._bStepMode){var h=Math.round(i/this._iFactor);var n=this._iOldStep;if(n!==h){this.setCheckedScrollPosition(h,false);s.debug("-----STEPMODE-----: New Step: "+h+" --- Old Step: "+n+" --- Scroll Pos in px: "+i+" --- Action: "+e+" --- Direction is forward: "+o);this.fireScroll({action:e,forward:o,newScrollPos:h,oldScrollPos:n});this._iOldStep=h}}else{i=Math.round(i);this.setProperty("scrollPosition",i,true);s.debug("-----PIXELMODE-----: New ScrollPos: "+i+" --- Old ScrollPos: "+this._iOldScrollPos+" --- Action: "+e+" --- Direction is forward: "+o);this.fireScroll({action:e,forward:o,newScrollPos:i,oldScrollPos:this._iOldScrollPos})}this._bSuppressScroll=false;this._iOldScrollPos=i;this._bMouseWheel=false;r.notifyScrollEvent({type:e})};a.prototype.onThemeChanged=function(){this.rerender()};a.prototype.getNativeScrollPosition=function(){if(this._$ScrollDomRef){if(this.getVertical()){return Math.round(this._$ScrollDomRef.scrollTop())}else{return Math.round(this._$ScrollDomRef.scrollLeft())}}return 0};a.prototype.setNativeScrollPosition=function(t){var e=Math.round(t);if(this._$ScrollDomRef){if(this.getVertical()){this._$ScrollDomRef.scrollTop(e)}else{this._$ScrollDomRef.scrollLeft(e)}}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/ScrollBarRenderer",["sap/ui/Device","sap/ui/dom/getScrollbarSize","sap/ui/core/Configuration"],function(e,t,i){"use strict";var l={apiVersion:2};l.render=function(l,s){var o=i.getRTL();l.openStart("div",s);l.class("sapUiScrollBar");var r;if(e.support.touch){r="sapUiScrollBarTouch";l.class(r)}var n=s.getVertical();var d=s.getSize();var p=s.getContentSize();var a=t(r);var h=a.width;var v=a.height;if(n){l.style("overflow","hidden");l.style("width",h+"px");l.style("height",d);l.openEnd();l.openStart("div",s.getId()+"-sb");l.style("width",h*2+"px");l.style("height","100%");l.style("overflow-y","scroll");l.style("overflow-x","hidden");if(o){l.style("margin-right","-"+h+"px")}else{l.style("margin-left","-"+h+"px")}l.openEnd();l.openStart("div",s.getId()+"-sbcnt");l.style("width",h+"px");l.style("height",p);l.openEnd();l.close("div");l.close("div");l.openStart("div");l.openEnd();l.openStart("span",s.getId()+"-ffsize");l.style("position","absolute");l.style("top","-9000px");l.style("left","-9000px");l.style("visibility","hidden");l.style("line-height","normal");l.openEnd();l.text("FF Size");l.close("span");l.close("div")}else{l.style("overflow","hidden");l.style("height",v+"px");l.style("width",d);l.openEnd();l.openStart("div",s.getId()+"-sb");l.style("height",v*2+"px");l.style("margin-top","-"+v+"px");l.style("overflow-x","scroll");l.style("overflow-y","hidden");l.openEnd();l.openStart("div",s.getId()+"-sbcnt");l.style("height",v+"px");l.style("width",p);l.openEnd();l.close("div");l.close("div")}l.close("div")};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/format/FileSizeFormat",["sap/ui/base/Object","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/NumberFormat","sap/ui/core/Configuration"],function(t,e,a,r,i){"use strict";var n=[{binaryFactor:1,decimalFactor:1,decimalUnit:"Byte",binaryUnit:"Byte"},{binaryFactor:1,decimalFactor:1,decimalUnit:"Bytes",binaryUnit:"Bytes"},{binaryFactor:Math.pow(2,10),decimalFactor:1e3,decimalUnit:"Kilobyte",binaryUnit:"Kibibyte"},{binaryFactor:Math.pow(2,20),decimalFactor:1e6,decimalUnit:"Megabyte",binaryUnit:"Mebibyte"},{binaryFactor:Math.pow(2,30),decimalFactor:1e9,decimalUnit:"Gigabyte",binaryUnit:"Gibibyte"},{binaryFactor:Math.pow(2,40),decimalFactor:1e12,decimalUnit:"Terabyte",binaryUnit:"Tebibyte"},{binaryFactor:Math.pow(2,50),decimalFactor:1e15,decimalUnit:"Petabyte",binaryUnit:"Pebibyte"},{binaryFactor:Math.pow(2,60),decimalFactor:1e18,decimalUnit:"Exabyte",binaryUnit:"Exbibyte"},{binaryFactor:Math.pow(2,70),decimalFactor:1e21,decimalUnit:"Zettabyte",binaryUnit:"Zebibyte"},{binaryFactor:Math.pow(2,80),decimalFactor:1e24,decimalUnit:"Yottabyte",binaryUnit:"Yobibyte"}];var o=t.extend("sap.ui.core.format.FileSizeFormat",{constructor:function(t){throw new Error}});o.getInstance=function(t,e){return this.createInstance(t,e)};o.createInstance=function(t,n){var o=Object.create(this.prototype);if(t instanceof e){n=t;t=undefined}if(!n){n=i.getFormatSettings().getFormatLocale()}o.oLocale=n;o.oLocaleData=a.getInstance(n);o.oNumberFormat=r.getFloatInstance(t,n);o.oBundle=sap.ui.getCore().getLibraryResourceBundle("sap.ui.core",n.toString());o.bBinary=t?!!t.binaryFilesize:false;return o};o.prototype.format=function(t){var e=null,a;if(typeof t=="string"){try{if(/^\s*[\+-]?0[xX]/.test(t)){e=parseInt(t,16)}else{e=parseFloat(t,10)}}catch(t){}}else if(typeof t=="number"){e=t}if(e===null){return"NaN"}a=e;var r=c(e,this.bBinary),i=this.oNumberFormat.format(e/r.factor);if(!r.noSecondRounding){e=this.oNumberFormat.parse(i);if(this.bBinary&&Math.abs(e)>=1024||!this.bBinary&&Math.abs(e)>=1e3){r=c(e*r.factor,this.bBinary);i=this.oNumberFormat.format(a/r.factor)}}return this.oBundle.getText("FileSize."+r.unit,i)};o.prototype.parse=function(t){var e,a,r,i;if(!t){return NaN}for(var o=0;o<n.length;o++){e=n[o];a=s(this.oBundle,e.decimalUnit,t);if(a){i=false;break}else{a=s(this.oBundle,e.binaryUnit,t);if(a){i=true;break}}}if(!a){a=t;i=false;e=n[0]}r=this.oNumberFormat.parse(a);return r*(i?e.binaryFactor:e.decimalFactor)};function c(t,e){var a=Math.abs(t),r,i;for(var o=n.length-1;o>=2;o--){r=n[o];i=e?r.binaryFactor:r.decimalFactor;if(a>=i){return{factor:i,unit:e?r.binaryUnit:r.decimalUnit,noSecondRounding:o==n.length-1}}}return{factor:1,unit:n[a>=2?1:0].decimalUnit}}function s(t,e,a){var r=t.getText("FileSize."+e),i;if(r.startsWith("{0}")){i=r.substr(3,r.length);if(typeof i=="string"&&i!=""?a.toLowerCase().endsWith(i.toLowerCase()):false){return a.substr(0,a.length-i.length)}}else if(r.endsWith("{0}")){i=r.substr(0,r.length-3);if(typeof i=="string"&&i!=""?a.toLowerCase().startsWith(i.toLowerCase()):false){return a.substr(i.length,a.length)}}else{i=r.split("{0}");if(i.length==2&&(typeof i[0]=="string"&&i[0]!=""?a.toLowerCase().startsWith(i[0].toLowerCase()):false)&&(typeof i[1]=="string"&&i[1]!=""?a.toLowerCase().endsWith(i[1].toLowerCase()):false)){return a.substr(i[0].length,a.length-i[1].length)}}return null}return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/routing/Router",["sap/ui/core/library","sap/ui/base/EventProvider","./HashChanger","./Route","./Views","./Targets","./History","sap/ui/thirdparty/crossroads","sap/base/util/UriParameters","sap/base/util/each","sap/base/util/deepEqual","sap/base/util/isEmptyObject","sap/base/Log","sap/ui/thirdparty/jquery","./RouterHashChanger","sap/ui/core/Component"],function(t,e,i,s,n,a,r,h,o,u,d,f,c,g,_,l){"use strict";var p={};var C=e.extend("sap.ui.core.routing.Router",{constructor:function(t,s,a,r,d){e.apply(this);this._oConfig=s||{};this._oRouter=h.create();this._oRouter.ignoreState=true;this._oRoutes={};this._oOwner=a;function f(){if(o.fromQuery(window.location.search).get("sap-ui-xx-asyncRouting")==="true"){c.warning("Activation of async view loading in routing via url parameter is only temporarily supported and may be removed soon","Router");return true}return false}this._oConfig._async=this._oConfig.async;if(this._oConfig._async===undefined){this._oConfig._async=f()}this._oViews=new n({component:a,async:this._oConfig._async});if(r){this._oTargets=this._createTargets(this._oConfig,r);this._oTargets._setRouter(this);this._oTargets.attachDisplay(function(t){var e=t.getParameter("routeRelevant");if(this.isInitialized()&&!this._bMatchingProcessStarted){var i=this.getHashChanger();if(i instanceof _&&!e){i.resetHash(this)}}},this)}var g=this,l;if(!t){t={}}if(Array.isArray(t)){l=t;t={};l.forEach(function(e){t[e.name]=e})}u(t,function(t,e){if(e.name===undefined){e.name=t}g.addRoute(e)});this._oRouter.bypassed.add(this._onBypassed.bind(this));if(!d){d=i.getInstance().createRouterHashChanger()}this.setHashChanger(d);var p=this._getParentRouter();if(p){this.attachTitleChanged(function(t){if(this._oOwner&&!this._oOwner._bRoutingPropagateTitle){return}var e=t.getParameters(),i,s;if(p._fnTitleChangedFiredOnChild){p._fnTitleChangedFiredOnChild(e)}else{i=e.nestedHistory.slice();i.unshift({ownerComponentId:p._oOwner.getId(),history:p.getTitleHistory()});s={propagated:true,title:e.title,history:e.history,nestedHistory:i};p.fireTitleChanged(s)}})}},addRoute:function(t,e){if(!t.name){c.error("A name has to be specified for every route",this)}if(this._oRoutes[t.name]){c.error("Route with name "+t.name+" already exists",this)}this._oRoutes[t.name]=this._createRoute(this,t,e)},parse:function(t){if(this._oRouter){this._oRouter.parse(t)}else{c.warning("This router has been destroyed while the hash changed. No routing events where fired by the destroyed instance.",this)}},initialize:function(t){var e=this,i;if(this._bIsInitialized){c.warning("Router is already initialized.",this);return this}this._bIsInitialized=true;this._bLastHashReplaced=false;this._bHashChangedAfterTitleChange=false;this.fnHashChanged=function(t){e.parse(t.getParameter("newHash"));e._bHashChangedAfterTitleChange=true};if(!this.oHashChanger){c.error("navTo of the router is called before the router is initialized. If you want to replace the current hash before you initialize the router you may use getUrl and use replaceHash of the Hashchanger.",this);return this}if(this._oTargets){var s=this._oRoutes[this._oConfig.homeRoute];this._oTargets.attachTitleChanged(this._forwardTitleChanged,this);this._aHistory=[];var n=s&&y(this._oOwner,s);if(n){this._aHistory.push(n)}}if(this.oHashChanger instanceof _){this.oHashChanger._setActiveRouter(this)}this.oHashChanger.init();i=this.oHashChanger.getHash();this.oHashChanger.attachEvent("hashChanged",this.fnHashChanged);if(t){if(this._oMatchedRoute){this._oMatchedRoute._resume()}}else if(i!==_.InvalidHash){this.parse(i)}return this},_forwardTitleChanged:function(t){var e=t.getParameters();var i={title:e.title};var s=this._oRoutes[this._oConfig.homeRoute];if(s&&R(e.name,s._oConfig.name)){i.isHome=true}this.fireTitleChanged(i)},stop:function(){if(!this._bIsInitialized){c.warning("Router is not initialized. But it got stopped",this)}if(this.fnHashChanged){this.oHashChanger.detachEvent("hashChanged",this.fnHashChanged)}if(this.fnHashReplaced){this.oHashChanger.detachEvent("hashReplaced",this.fnHashReplaced)}if(this._oTargets){this._oTargets.detachTitleChanged(this._forwardTitleChanged,this);this._oTargets._oLastTitleTarget={}}if(this._oMatchedRoute){this._oMatchedRoute._routeSwitched()}this._bIsInitialized=false;delete this._oPreviousTitleChangedRoute;return this},isStopped:function(){return this._bIsInitialized===false},isInitialized:function(){return this._bIsInitialized===true},getHashChanger:function(){return this.oHashChanger},setHashChanger:function(t){if(this.oHashChanger){c.warning("The Router already has a HashChanger set and this call is ignored")}else{this.oHashChanger=t}return this},destroy:function(){if(this.bIsDestroyed){return this}e.prototype.destroy.apply(this);if(this._oViews){this._oViews.destroy();this._oViews=null}if(!this._bIsInitialized){c.info("Router is not initialized, but got destroyed.",this)}if(this.fnHashChanged){this.oHashChanger.detachEvent("hashChanged",this.fnHashChanged)}if(this.fnHashReplaced){this.oHashChanger.detachEvent("hashReplaced",this.fnHashReplaced)}this._oRouter.removeAllRoutes();this._oRouter=null;u(this._oRoutes,function(t,e){e.destroy()});this._oRoutes=null;this._oConfig=null;if(this._oTargets){this._oTargets.destroy();this._oTargets=null}delete this._bIsInitialized;this.bIsDestroyed=true;return this},getURL:function(t,e){var i=this.getRoute(t);if(i){return i.getURL(e)}else{c.warning("Route with name "+t+" does not exist",this)}},match:function(t){return Object.keys(this._oRoutes).some(function(e){return this._oRoutes[e].match(t)}.bind(this))},getRouteByHash:function(t){for(var e in this._oRoutes){if(this._oRoutes.hasOwnProperty(e)){var i=this.getRoute(e);if(i.match(t)){return i}}}},getRouteInfoByHash:function(t){var e=this.getRouteByHash(t);if(!e){return undefined}return{name:e._oConfig.name,arguments:e.getPatternArguments(t)}},getRoute:function(t){return this._oRoutes[t]},getViews:function(){return this._oViews},_createTargets:function(t,e){return new a({views:this._oViews,config:t,targets:e})},_createRoute:function(t,e,i){return new s(t,e,i)},getView:function(t,e,i){c.warning("Deprecated API Router#getView called - use Router#getViews instead.",this);var s=this._oViews._getViewWithGlobalId({viewName:t,type:e,id:i},true);this.fireViewCreated({view:s,viewName:t,type:e});return s},setView:function(t,e){this._oViews.setView(t,e);return this},_getParentRouter:function(){var t=this._oOwner&&l.getOwnerComponentFor(this._oOwner);return t&&t.getRouter()},navTo:function(t,e,i,s){var n=this,a=this._getLastMatchedRouteName()!==t,r=this.getRoute(t),h,o;if(this.isStopped()){c.info("The router instance "+this._sId+" is stopped. No navigation can be performed.");return this}if(!r){c.warning("Route with name "+t+" does not exist",this);return this}if(typeof i==="boolean"){s=i}if(e===undefined){e={}}if(i&&!f(i)){if(!this._oConfig._async){c.error("navTo with component target info is only supported with async router",this);return this}h=r._changeHashWithComponentTargets(i,a)}o=r.getURL(e);if(s){n._bLastHashReplaced=true;n.oHashChanger.replaceHash(o,h,!a)}else{n.oHashChanger.setHash(o,h,!a)}return this},_getLastMatchedRouteName:function(){return this._oMatchedRoute&&this._oMatchedRoute._oConfig.name},getTargets:function(){return this._oTargets},getTarget:function(t){return this._oTargets.getTarget(t)},attachRouteMatched:function(t,e,i){this.attachEvent("routeMatched",t,e,i);return this},detachRouteMatched:function(t,e){this.detachEvent("routeMatched",t,e);return this},fireRouteMatched:function(t){this.fireEvent("routeMatched",t);if(C._interceptRouteMatched){C._interceptRouteMatched(this._oConfig.controlId,this)}return this},attachBeforeRouteMatched:function(t,e,i){this.attachEvent("beforeRouteMatched",t,e,i);return this},detachBeforeRouteMatched:function(t,e){this.detachEvent("beforeRouteMatched",t,e);return this},fireBeforeRouteMatched:function(t){this.fireEvent("beforeRouteMatched",t);return this},attachViewCreated:function(t,e,i){this.attachEvent("viewCreated",t,e,i);return this},detachViewCreated:function(t,e){this.detachEvent("viewCreated",t,e);return this},fireViewCreated:function(t){this.fireEvent("viewCreated",t);return this},attachRoutePatternMatched:function(t,e,i){this.attachEvent("routePatternMatched",t,e,i);return this},detachRoutePatternMatched:function(t,e){this.detachEvent("routePatternMatched",t,e);return this},fireRoutePatternMatched:function(t){this.fireEvent("routePatternMatched",t);return this},attachBypassed:function(t,e,i){return this.attachEvent(C.M_EVENTS.BYPASSED,t,e,i)},detachBypassed:function(t,e){return this.detachEvent(C.M_EVENTS.BYPASSED,t,e)},fireBypassed:function(t){return this.fireEvent(C.M_EVENTS.BYPASSED,t)},attachTitleChanged:function(t,e,i){this.attachEvent(C.M_EVENTS.TITLE_CHANGED,t,e,i);return this},detachTitleChanged:function(t,e){return this.detachEvent(C.M_EVENTS.TITLE_CHANGED,t,e)},fireTitleChanged:function(e){if(this.isStopped()){return this}var i=!this._pWaitForTitleChangedOnChild;if(!e.propagated){e.propagated=false;var s=r.getInstance().getDirection(),n=this.getHashChanger().getHash(),a=t.routing.HistoryDirection,h=this._aHistory[this._aHistory.length-1],o;if(s===a.Backwards&&h&&!h.isHome){if(h&&h.title!==e.title){this._aHistory.pop()}}else if(h&&h.hash==n){h.title=e.title;this._aHistory.some(function(t,e,i){if(e<i.length-1&&d(t,h)){return i.splice(e,1)}})}else{if(this._bLastHashReplaced){this._aHistory.pop()}o={hash:n,title:e.title};this._aHistory.some(function(t,e,i){if(d(t,o)){return i.splice(e,1)}});this._aHistory.push(o)}e.history=this._aHistory.slice(0,-1);e.nestedHistory=[{history:this.getTitleHistory(),ownerComponentId:this._oOwner&&this._oOwner.getId()}];this._bLastHashReplaced=false;this._oPreviousTitleChangedRoute=this._oMatchedRoute;this._bFireTitleChanged=false;if(this._pWaitForTitleChangedOnChild){this._pWaitForTitleChangedOnChild.then(function(t){e.title=t.title;e.propagated=true;Array.prototype.push.apply(e.nestedHistory,t.nestedHistory);this._stopWaitingTitleChangedFromChild();this.fireEvent(C.M_EVENTS.TITLE_CHANGED,e)}.bind(this))}}if(i){if(this._bMatchingProcessStarted&&this._isAsync()){this.attachEventOnce("routeMatched",function(){this.fireEvent(C.M_EVENTS.TITLE_CHANGED,e)},this)}else{this.fireEvent(C.M_EVENTS.TITLE_CHANGED,e)}}return this},getTitleHistory:function(){return this._aHistory||[]},_waitForTitleChangedOn:function(t){if(this._bFireTitleChanged){this._pWaitForTitleChangedOnChild=new Promise(function(t){this._fnTitleChangedFiredOnChild=t}.bind(this))}},_stopWaitingTitleChangedFromChild:function(){delete this._pWaitForTitleChangedOnChild;delete this._fnTitleChangedFiredOnChild},register:function(t){p[t]=this;return this},_onBypassed:function(t){var e=function(){this.fireBypassed({hash:t})}.bind(this);if(this._oConfig.bypassed){var i=this._oTargets.display(this._oConfig.bypassed.target,{hash:t});if(i instanceof Promise){i.then(e);return}}e()},_isAsync:function(){return this._oConfig._async},metadata:{publicMethods:["initialize","getURL","register","getRoute"]}});function R(t,e){return e&&e.indexOf(t)>-1}function y(t,e){var i=e.getPattern(),s=t&&t.getManifestEntry("sap.app/title");if(i===""||i!==undefined&&!/({.*})+/.test(i)){return{hash:i,isHome:true,title:s}}else{c.error("Routes with dynamic parts cannot be resolved as home route.")}}C.M_EVENTS={BEFORE_ROUTE_MATCHED:"beforeRouteMatched",ROUTE_MATCHED:"routeMatched",ROUTE_PATTERN_MATCHED:"routePatternMatched",VIEW_CREATED:"viewCreated",BYPASSED:"bypassed",TITLE_CHANGED:"titleChanged"};C._interceptRouteMatched=undefined;C.getRouter=function(t){return p[t]};return C});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/syncStyleClass",["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/base/assert"],function(e,s,t){"use strict";var r=function(r,a,o){if(!r){return o}if(s.isA(a,"sap.ui.core.Control")){a=a.$()}else if(typeof a==="string"){a=e(document.getElementById(a))}else if(!(a instanceof e)){t(false,"sap/ui/core/syncStyleClass(): vSource must be a jQuery object or a Control or a string");return o}var i=!!a.closest("."+r).length;if(o instanceof e){o.toggleClass(r,i)}else if(s.isA(o,"sap.ui.core.Control")){o.toggleStyleClass(r,i)}else{t(false,"sap/ui/core/syncStyleClass(): vDestination must be a jQuery object or a Control")}return o};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/core/util/File",["sap/ui/thirdparty/jquery"],function(e){"use strict";var o={save:function(o,r,n,a,t,i){var d=r+"."+n;if(typeof i==="undefined"&&t==="utf-8"&&n==="csv"){i=true}if(i===true&&t==="utf-8"){o="\ufeff"+o}if(window.Blob){var w="data:"+a;if(t){w+=";charset="+t}var u=new window.Blob([o],{type:w});if(window.navigator.msSaveOrOpenBlob){window.navigator.msSaveOrOpenBlob(u,d)}else{var l=window.URL||window.webkitURL;var f=l.createObjectURL(u);var p=window.document.createElement("a");if("download"in p){var v=e(document.body);var c=e(p).attr({download:d,href:f,style:"display:none"});v.append(c);c.get(0).click();c.remove()}else{o=encodeURI(o);var s=window.open(w+","+o);s.opener=null;if(!s){throw new Error("Could not download the file, please deactivate your pop-up blocker.")}}}}}};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/denormalizeScrollLeftRTL",["sap/ui/util/_FeatureDetection"],function(i){"use strict";var t;if(i.initialScrollPositionIsZero()){t=function(i,t){return t.clientWidth+i-t.scrollWidth}}else{t=function(i,t){return i}}var e=function(i,e){if(e){return t(i,e)}};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/getFirstEditableInput",["sap/ui/thirdparty/jquery","sap/ui/dom/isHidden"],function(t,e){"use strict";function i(e,i){var n="textarea[readonly],input[type=hidden],input[type=button],input[type=submit],input[type=reset],input[type=image],button",u=":enabled:visible:first";if(i){return t(e).find("input, textarea").not(n).filter(u)[0]}else{return t(e).find("input, textarea").not("input[readonly],"+n).filter(u)[0]}}function n(t,n){var u;if(!t||e(t)){return null}if(n){u=n.includeReadOnly}return i(t,u)}return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/Selection",["sap/ui/thirdparty/jquery"],function(e){"use strict";e.fn.disableSelection=function(){return this.on(("onselectstart"in document.createElement("div")?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})};e.fn.enableSelection=function(){return this.off(".ui-disableSelection")};return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/parentByAttribute",["sap/ui/thirdparty/jquery"],function(t){"use strict";var r=function t(r,e){if(this.length>0){if(e){return this.first().parents("["+r+"='"+e+"']").get(0)}else{return this.first().parents("["+r+"]").get(0)}}};t.fn.parentByAttribute=r;return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/rectContains",["sap/ui/thirdparty/jquery","sap/base/assert","sap/ui/dom/jquery/rect"],function(t,e){"use strict";var r=function t(r,s){e(!isNaN(r),"iPosX must be a number");e(!isNaN(s),"iPosY must be a number");var i=this.rect();if(i){return r>=i.left&&r<=i.left+i.width&&s>=i.top&&s<=i.top+i.height}return false};t.fn.rectContains=r;return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/scrollLeftRTL",["sap/ui/dom/denormalizeScrollLeftRTL","sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(e,t,r){"use strict";var i;if(t.initialScrollPositionIsZero()){i=function(e){return e.scrollWidth+e.scrollLeft-e.clientWidth}}else{i=function(e){return e.scrollLeft}}var l=function(t){var r=this.get(0);if(r){if(t===undefined){return i(r)}else{r.scrollLeft=e(t,r);return this}}};r.fn.scrollLeftRTL=l;return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/scrollRightRTL",["sap/ui/util/_FeatureDetection","sap/ui/thirdparty/jquery"],function(t,i){"use strict";var r;if(t.initialScrollPositionIsZero()){r=function(t){return-t.scrollLeft}}else{r=function(t){return t.scrollWidth-t.scrollLeft-t.clientWidth}}var e=function(){var t=this.get(0);if(t){return r(t)}};i.fn.scrollRightRTL=e;return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/jquery/zIndex",["sap/ui/thirdparty/jquery"],function(e){"use strict";function n(e,n){var t=Object.getOwnPropertyDescriptor(e,n);return t&&t.value}if(!n(e.fn,"zIndex")){var t=function(n){if(n!==undefined){return this.css("zIndex",n)}if(this.length){var t=e(this[0]),r,i;while(t.length&&t[0]!==document){r=t.css("position");if(r==="absolute"||r==="relative"||r==="fixed"){i=parseInt(t.css("zIndex"));if(!isNaN(i)&&i!==0){return i}}t=t.parent()}}return 0};
/*!
		 * The following function is taken from
		 * jQuery UI Core 1.11.1
		 * http://jqueryui.com
		 *
		 * Copyright 2014 jQuery Foundation and other contributors
		 * Released under the MIT license.
		 * http://jquery.org/license
		 *
		 * http://api.jqueryui.com/category/ui-core/
		 */e.fn.zIndex=t}return e});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/dom/units/Rem",["sap/base/assert"],function(e){"use strict";function t(){var e=document.documentElement;if(!e){return 16}return parseFloat(window.getComputedStyle(e).getPropertyValue("font-size"))}var r={fromPx:function(r){e(typeof r==="string"&&r!==""&&!isNaN(parseFloat(r))&&typeof parseFloat(r)==="number"||typeof r==="number"&&!isNaN(r),'Rem.fromPx: either the "vPx" parameter must be an integer, or a string e.g.: "16px"');return parseFloat(r)/t()},toPx:function(r){e(typeof r==="string"&&r!==""&&!isNaN(parseFloat(r))&&typeof parseFloat(r)==="number"||typeof r==="number"&&!isNaN(r),'Rem.toPx: either the "vRem" parameter must be an integer, or a string e.g.: "1rem"');return parseFloat(r)*t()}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ColumnLayout",["sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/layout/library","./FormLayout","./ColumnLayoutRenderer","sap/ui/thirdparty/jquery"],function(e,t,a,i,l,s){"use strict";var r=i.extend("sap.ui.layout.form.ColumnLayout",{metadata:{library:"sap.ui.layout",properties:{columnsXL:{type:"sap.ui.layout.form.ColumnsXL",group:"Appearance",defaultValue:2},columnsL:{type:"sap.ui.layout.form.ColumnsL",group:"Appearance",defaultValue:2},columnsM:{type:"sap.ui.layout.form.ColumnsM",group:"Appearance",defaultValue:1},labelCellsLarge:{type:"sap.ui.layout.form.ColumnCells",group:"Appearance",defaultValue:4},emptyCellsLarge:{type:"sap.ui.layout.form.EmptyCells",group:"Appearance",defaultValue:0}}},renderer:l});r.prototype.init=function(){i.prototype.init.apply(this,arguments);this._iBreakPointTablet=e.media._predefinedRangeSets[e.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=e.media._predefinedRangeSets[e.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=e.media._predefinedRangeSets[e.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];this._resizeProxy=s.proxy(n,this);if(typeof ResizeObserver==="function"){this._oResizeObserver=new ResizeObserver(this._resizeProxy)}};r.prototype.exit=function(){o.call(this);this._oResizeObserver=undefined};r.prototype.onBeforeRendering=function(e){i.prototype.onBeforeRendering.apply(this,arguments);if(this.getColumnsM()>this.getColumnsL()||this.getColumnsL()>this.getColumnsXL()){throw new Error("Column size not correct defined for "+this)}o.call(this)};r.prototype.onAfterRendering=function(e){if(this._oResizeObserver){var a=this.getDomRef();this._oResizeObserver.observe(a)}else{this._sResizeListener=t.register(this,this._resizeProxy)}u.call(this)};r.prototype.toggleContainerExpanded=function(e){e.$().toggleClass("sapUiFormCLContainerColl",!e.getExpanded())};r.prototype.onLayoutDataChange=function(e){this.invalidate()};r.prototype.onsapup=function(e){this.onsapleft(e)};r.prototype.onsapdown=function(e){this.onsapright(e)};r.prototype.getContainerRenderedDomRef=function(e){return e.getDomRef()};r.prototype.getElementRenderedDomRef=function(e){return e.getDomRef()};r.prototype._getContainerSize=function(e){var t=this.getParent();var a=this.getLayoutDataForElement(e,"sap.ui.layout.form.ColumnContainerData");var i=t.getVisibleFormContainers();var l=i.length;var s=this.getColumnsM();var r=this.getColumnsL();var o=this.getColumnsXL();var n={S:{Size:1,Break:false,FirstRow:false},M:{Size:1,Break:false,FirstRow:false},L:{Size:1,Break:false,FirstRow:false},XL:{Size:1,Break:false,FirstRow:false}};var u=function(e,t,a,i,l){if(a<e){t.Size=Math.floor(e/a);if(l&&t.Size*a<e){t.Size=t.Size+e-t.Size*a}}t.Break=e>1&&i>0&&i%e===0;t.FirstRow=a>1&&i<e};if(a){n.M.Size=a.getColumnsM();n.L.Size=a.getColumnsL();n.XL.Size=a.getColumnsXL();if(n.M.Size>s||n.L.Size>r||n.XL.Size>o){throw new Error("More cells defined for FormContainer "+e.getId()+" than columns on "+this)}}if(l===1){if(!a){n.M.Size=s;n.L.Size=r;n.XL.Size=o}n.S.FirstRow=true;n.M.FirstRow=true;n.L.FirstRow=true;n.XL.FirstRow=true}else{var f=0;var g=0;var m=0;var p;var C=false;var L=0;var d=s;var S=r;var h=o;var v=0;for(v=0;v<l;v++){if(e===i[v]){f=v;p=a}else{p=this.getLayoutDataForElement(i[v],"sap.ui.layout.form.ColumnContainerData")}if(!p){var y=i[v].getVisibleFormElements();if(g<y.length){g=y.length;m=v}L++}else{C=true;d=d-p.getColumnsM();S=S-p.getColumnsL();h=h-p.getColumnsXL()}}n.S.FirstRow=l>1&&f===0;n.S.Break=f>0;if(!C){u(s,n.M,l,f,f===m);u(r,n.L,l,f,f===m);u(o,n.XL,l,f,f===m)}else{if(!a){if(L<d){u(d,n.M,L,f,f===m)}if(L<S){u(S,n.L,L,f,f===m)}if(L<h){u(h,n.XL,L,f,f===m)}}var c={M:{rowColumns:0,lineBreak:false,first:true},L:{rowColumns:0,lineBreak:false,first:true},XL:{rowColumns:0,lineBreak:false,first:true}};var D=function(e,t,a){if(a){if(e.rowColumns+a<=t){e.rowColumns=e.rowColumns+a;e.lineBreak=false}else{e.rowColumns=a;if(t>1){e.lineBreak=true}e.first=false}}else{if(e.rowColumns<t){e.rowColumns++;e.lineBreak=false}else{e.rowColumns=1;if(t>1){e.lineBreak=true}e.first=false}}};for(v=0;v<l;v++){if(e===i[v]){p=a}else{p=this.getLayoutDataForElement(i[v],"sap.ui.layout.form.ColumnContainerData")}D(c.M,s,p?p.getColumnsM():0);D(c.L,r,p?p.getColumnsL():0);D(c.XL,o,p?p.getColumnsXL():0);if(e===i[v]){n.M.Break=c.M.lineBreak;n.L.Break=c.L.lineBreak;n.XL.Break=c.XL.lineBreak;n.M.FirstRow=c.M.first;n.L.FirstRow=c.L.first;n.XL.FirstRow=c.XL.first;break}}}}return n};r.prototype._getFieldSize=function(e){var t=12;var a=this.getLayoutDataForElement(e,"sap.ui.layout.form.ColumnElementData");var i={S:{Size:t,Break:false,Space:0},L:{Size:t,Break:false,Space:0}};var l=t;var r=this.getLabelCellsLarge();if(a){i.S.Size=a.getCellsSmall()===-1?t:a.getCellsSmall();i.L.Size=a.getCellsLarge()===-1?t:a.getCellsLarge()}var o=e.getParent();var n=o.getLabelControl();if(n===e){if(!a||a.getCellsSmall()===-1){i.S.Size=l}if(!a||a.getCellsLarge()===-1){i.L.Size=r}}else{var u=o.getFieldsForRendering();var f=u.length;var g=t;var m=t-this.getEmptyCellsLarge();if(n){var p=this.getLayoutDataForElement(n,"sap.ui.layout.form.ColumnElementData");if(p){l=p.getCellsSmall()===-1?l:p.getCellsSmall();r=p.getCellsLarge()===-1?r:p.getCellsLarge()}if(l<t){g=g-l}if(r<t){m=m-r}}else{l=0;r=0}if(f===1){if(!a||a.getCellsSmall()===-1){i.S.Size=g}else if(n){if(i.S.Size>g){i.S.Break=true}}if(!a||a.getCellsLarge()===-1){i.L.Size=m}else if(n){if(i.L.Size>m){i.L.Break=true}}}else{var C=0;var L=[];var d=[];var S={availableCells:g,first:0,last:999,firstDefault:-1,defaultFields:0};var h=0;var v=0;var y=0;var c;L.push(s.extend({},S));S.availableCells=m;d.push(s.extend({},S));var D=function(e,t,a,i){e[t].last=a-1;e.push(s.extend({},S));t++;e[t].first=a;e[t].availableCells=i;return t};var F=function(e,a,i,l,s){if(e[a].availableCells-e[a].defaultFields<i){if(i<=l){a=D(e,a,s,l)}else{a=D(e,a,s,t)}}e[a].availableCells=e[a].availableCells-i;return a};var z=function(e,t,a,i){if(e[t].availableCells===e[t].defaultFields){t=D(e,t,i,a)}if(e[t].firstDefault<0){e[t].firstDefault=i}e[t].defaultFields++;return t};for(C=0;C<f;C++){if(e!==u[C]){c=this.getLayoutDataForElement(u[C],"sap.ui.layout.form.ColumnElementData")}else{c=a;y=C}if(c&&c.getCellsSmall()>0){h=F(L,h,c.getCellsSmall(),g,C)}else{h=z(L,h,g,C)}if(c&&c.getCellsLarge()>0){v=F(d,v,c.getCellsLarge(),m,C)}else{v=z(d,v,m,C)}}var k=function(e,a,i,l,s){var r=0;var o;for(C=0;C<e.length;C++){if(a>=e[C].first&&a<=e[C].last){o=e[C];break}}if(i<=0){l.Size=Math.floor(o.availableCells/o.defaultFields)}if(a===o.first&&a>0){l.Break=true;if(s>0&&s<t&&l.Size<=t-s){l.Space=s}}if(a===o.firstDefault){r=o.availableCells-o.defaultFields*l.Size;if(r>0){l.Size=l.Size+r}}};k(L,y,a?a.getCellsSmall():-1,i.S,l);k(d,y,a?a.getCellsLarge():-1,i.L,r)}}return i};function o(){if(this._oResizeObserver){this._oResizeObserver.disconnect()}if(this._sResizeListener){t.deregister(this._sResizeListener);this._sResizeListener=undefined}}function n(e,t){window.requestAnimationFrame(function(){u.call(this,e,t)}.bind(this))}function u(e,a){var i=this.getDomRef();if(!i){o.call(this);return}var l=this.$();if(!l.is(":visible")){return}if(t.isSuspended(i,this._resizeProxy)){return}var s=i.clientWidth;var r=1;if(s<=this._iBreakPointTablet){l.toggleClass("sapUiFormCLMedia-Std-Phone",true);l.toggleClass("sapUiFormCLMedia-Std-Desktop",false).toggleClass("sapUiFormCLMedia-Std-Tablet",false).toggleClass("sapUiFormCLMedia-Std-LargeDesktop",false)}else if(s>this._iBreakPointTablet&&s<=this._iBreakPointDesktop){l.toggleClass("sapUiFormCLMedia-Std-Tablet",true);l.toggleClass("sapUiFormCLMedia-Std-Desktop",false).toggleClass("sapUiFormCLMedia-Std-Phone",false).toggleClass("sapUiFormCLMedia-Std-LargeDesktop",false);r=this.getColumnsM()}else if(s>this._iBreakPointDesktop&&s<=this._iBreakPointLargeDesktop){l.toggleClass("sapUiFormCLMedia-Std-Desktop",true);l.toggleClass("sapUiFormCLMedia-Std-Phone",false).toggleClass("sapUiFormCLMedia-Std-Tablet",false).toggleClass("sapUiFormCLMedia-Std-LargeDesktop",false);r=this.getColumnsL()}else{l.toggleClass("sapUiFormCLMedia-Std-LargeDesktop",true);l.toggleClass("sapUiFormCLMedia-Std-Desktop",false).toggleClass("sapUiFormCLMedia-Std-Phone",false).toggleClass("sapUiFormCLMedia-Std-Tablet",false);r=this.getColumnsXL()}var n=this.getLabelCellsLarge()<12&&s/r>this._iBreakPointTablet;l.toggleClass("sapUiFormCLWideColumns",n);l.toggleClass("sapUiFormCLSmallColumns",!n)}r.prototype.getLayoutDataForDelimiter=function(){var e=sap.ui.require("sap/ui/layout/form/ColumnElementData");if(!e){var t;sap.ui.require(["sap/ui/layout/form/ColumnElementData"],function(e){t(new e({cellsLarge:1,cellsSmall:1}))});return new Promise(function(e){t=e})}else{return new e({cellsLarge:1,cellsSmall:1})}};r.prototype.getLayoutDataForSemanticField=function(e,t,a){if(a){if(a.isA("sap.ui.layout.form.ColumnElementData")){a.setCellsLarge(-1).setCellsSmall(11);return a}else{a.destroy()}}var i=sap.ui.require("sap/ui/layout/form/ColumnElementData");if(!i){var l;sap.ui.require(["sap/ui/layout/form/ColumnElementData"],function(e){l(new e({cellsLarge:-1,cellsSmall:11}))});return new Promise(function(e){l=e})}else{return new i({cellsLarge:-1,cellsSmall:11})}};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/layout/form/ColumnLayoutRenderer",["sap/ui/core/Renderer","sap/ui/Device","./FormLayoutRenderer"],function(e,r,i){"use strict";var a=e.extend(i);a.apiVersion=2;a.getMainClass=function(){return"sapUiFormCL"};a.renderContainers=function(e,r,i){var a=i.getVisibleFormContainers();var s=a.length;if(s>0){var o=s===1&&!r.getLayoutDataForElement(a[0],"sap.ui.layout.form.ColumnContainerData");if(!o){var t=r.getColumnsM();var n=r.getColumnsL();var l=r.getColumnsXL();e.openStart("div");e.class("sapUiFormCLContent");e.class("sapUiFormCLColumnsM"+t);e.class("sapUiFormCLColumnsL"+n);e.class("sapUiFormCLColumnsXL"+l);e.openEnd()}for(var C=0;C<s;C++){var p=a[C];this.renderContainer(e,r,p)}if(!o){e.close("div")}}};a.renderContainer=function(e,i,a){var s=a.getExpandable();var o=a.getToolbar();var t=a.getTitle();var n=i._getContainerSize(a);a._checkProperties();e.openStart("section",a);e.class("sapUiFormCLContainer");e.class("sapUiFormCLContainerS"+n.S.Size);e.class("sapUiFormCLContainerM"+n.M.Size);e.class("sapUiFormCLContainerL"+n.L.Size);e.class("sapUiFormCLContainerXL"+n.XL.Size);if(n.M.Break){e.class("sapUiFormCLContainerMBreak")}if(n.L.Break){e.class("sapUiFormCLContainerLBreak")}if(n.XL.Break){e.class("sapUiFormCLContainerXLBreak")}if(n.S.FirstRow){e.class("sapUiFormCLContainerSFirstRow")}if(n.M.FirstRow){e.class("sapUiFormCLContainerMFirstRow")}if(n.L.FirstRow){e.class("sapUiFormCLContainerLFirstRow")}if(n.XL.FirstRow){e.class("sapUiFormCLContainerXLFirstRow")}if(o){e.class("sapUiFormContainerToolbar")}else if(t){e.class("sapUiFormContainerTitle")}if(!a.getExpanded()){e.class("sapUiFormCLContainerColl")}if(a.getTooltip_AsString()){e.attr("title",a.getTooltip_AsString())}this.writeAccessibilityStateContainer(e,a);e.openEnd();this.renderHeader(e,o,t,a._oExpandButton,s,i._sFormSubTitleSize,a.getId());e.openStart("div",a.getId()+"-content").class("sapUiFormCLContainerCont").openEnd();var l=a.getVisibleFormElements();for(var C=0;C<l.length;C++){var p=l[C];this.renderElement(e,i,p);if(r.browser.chrome&&C<n.XL.Size-1&&l.length>1&&l.length<=n.XL.Size){e.openStart("div").class("sapUiFormCLElementDummy").openEnd().close("div")}}e.close("div");e.close("section")};a.renderElement=function(e,r,i){var a=i.getLabelControl();var s;e.openStart("div",i);e.class("sapUiFormCLElement");if(i.getTooltip_AsString()){e.attr("title",i.getTooltip_AsString())}e.openEnd();if(a){s=r._getFieldSize(a);e.openStart("div").class("sapUiFormElementLbl").class("sapUiFormCLCellsS"+s.S.Size).class("sapUiFormCLCellsL"+s.L.Size).openEnd();e.renderControl(a);e.close("div")}var o=i.getFieldsForRendering();if(o&&o.length>0){for(var t=0,n=o.length;t<n;t++){var l=o[t];if(!l.isA("sap.ui.core.IFormContent")){throw new Error(l+" is not a valid Form content! Only use valid content in "+r)}s=r._getFieldSize(l);e.openStart("div");e.class("sapUiFormCLCellsS"+s.S.Size);e.class("sapUiFormCLCellsL"+s.L.Size);if(s.S.Break){e.class("sapUiFormCLCellSBreak")}if(s.L.Break){e.class("sapUiFormCLCellLBreak")}if(s.S.Space){e.class("sapUiFormCLCellSSpace"+s.S.Space)}if(s.L.Space){e.class("sapUiFormCLCellLSpace"+s.L.Space)}e.openEnd();e.renderControl(l);e.close("div")}}e.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/model/TreeAutoExpandMode",[],function(){"use strict";var e={Sequential:"Sequential",Bundled:"Bundled"};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Calendar",["sap/ui/core/CalendarType","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/LocaleData","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/DateTypeRange","./calendar/Header","./calendar/Month","./calendar/MonthPicker","./calendar/YearPicker","./calendar/YearRangePicker","./calendar/CalendarDate","sap/ui/core/date/UniversalDate","./library","sap/ui/Device","sap/ui/core/format/DateFormat","sap/ui/core/ResizeHandler","sap/ui/core/Locale","sap/ui/events/KeyCodes","./CalendarRenderer","sap/ui/dom/containsOrEquals","sap/base/util/deepEqual","sap/base/Log","sap/ui/core/Configuration","sap/ui/core/date/CalendarWeekNumbering"],function(e,t,a,i,r,s,o,n,h,g,l,d,u,c,_,p,f,D,y,m,M,P,v,C,S){"use strict";var T=t.extend("sap.ui.unified.Calendar",{metadata:{library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/Calendar.designtime",properties:{intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},months:{type:"int",group:"Appearance",defaultValue:1},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},minDate:{type:"object",group:"Misc",defaultValue:null},maxDate:{type:"object",group:"Misc",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},showCurrentDateButton:{type:"boolean",group:"Behavior",defaultValue:false},_currentPicker:{type:"string",group:"Appearance",visibility:"hidden"},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"},header:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},secondMonthHeader:{type:"sap.ui.unified.calendar.Header",multiple:false,visibility:"hidden"},month:{type:"sap.ui.unified.calendar.Month",multiple:true,visibility:"hidden"},monthPicker:{type:"sap.ui.unified.calendar.MonthPicker",multiple:false,visibility:"hidden"},yearPicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"},yearRangePicker:{type:"sap.ui.unified.calendar.YearPicker",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},cancel:{},startDateChange:{},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:m});var Y={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};T.prototype.init=function(){this._iBreakPointTablet=_.media._predefinedRangeSets[_.media.RANGESETS.SAP_STANDARD_EXTENDED].points[0];this._iBreakPointDesktop=_.media._predefinedRangeSets[_.media.RANGESETS.SAP_STANDARD_EXTENDED].points[1];this._iBreakPointLargeDesktop=_.media._predefinedRangeSets[_.media.RANGESETS.SAP_STANDARD_EXTENDED].points[2];var e=C.getCalendarType();this.setProperty("primaryCalendarType",e);this.setProperty("secondaryCalendarType",e);this._iColumns=1;this.setProperty("_currentPicker",Y.MONTH_PICKER);this._oYearFormat=p.getDateInstance({format:"y",calendarType:e});this.data("sap-ui-fastnavgroup","true",true);this._oMinDate=r._minDate(this.getPrimaryCalendarType());this._oMaxDate=r._maxDate(this.getPrimaryCalendarType());this._initializeHeader();this._initializeSecondMonthHeader();var t=this._createMonth(this.getId()+"--Month0");t.attachEvent("focus",this._handleFocus,this);t.attachEvent("select",F,this);t.attachEvent("_renderMonth",B,this);t.attachEvent("_bindMousemove",R,this);t.attachEvent("_unbindMousemove",N,this);t._bNoThemeChange=true;this.addAggregation("month",t);this._initializeMonthPicker();this._initializeYearPicker();this._initializeYearRangePicker();this._resizeProxy=b.bind(this);this._oSelectedMonth;this._bSkipCancelButtonRendering=false;this._bActionTriggeredFromSecondHeader=false};T.prototype.exit=function(){if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}if(this._afterHeaderRenderAdjustCSS){this.removeDelegate(this._afterHeaderRenderAdjustCSS);this._afterHeaderRenderAdjustCSS=null}if(this._afterSecondHeaderRenderAdjustCSS){this.removeDelegate(this._afterSecondHeaderRenderAdjustCSS);this._afterSecondHeaderRenderAdjustCSS=null}if(this._sResizeListener){f.deregister(this._sResizeListener);this._sResizeListener=undefined}this._oSelectedMonth=null};T.prototype._initializeHeader=function(){var e=new o(this.getId()+"--Head");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressCurrentDate",this._handleCurrentDate,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);e.attachEvent("pressButton3",this._handleButton1,this);e.attachEvent("pressButton4",this._handleButton2,this);this._afterHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterHeaderRenderAdjustCSS);this.setAggregation("header",e)};T.prototype._createOnAfterRenderingDelegate=function(e){return{onAfterRendering:function(){if(e.getVisible()&&!e.getVisibleButton1()){e.$().find(".sapUiCalHeadB2").addClass("sapUiCalSingleYearButton")}if(e.getVisible()&&!e._getVisibleButton3()){this._isTwoMonthsInTwoColumns()&&e.$().find(".sapUiCalHeadB4").addClass("sapUiCalSingleYearButton")}}.bind(this)}};T.prototype._initializeSecondMonthHeader=function(){var e=new o(this.getId()+"--SecondMonthHead",{visible:false});e.addStyleClass("sapUiCalHeadSecondMonth");e.attachEvent("pressPrevious",this._handlePrevious,this);e.attachEvent("pressNext",this._handleNext,this);e.attachEvent("pressButton1",this._handleButton1,this);e.attachEvent("pressButton2",this._handleButton2,this);this._afterSecondHeaderRenderAdjustCSS=this._createOnAfterRenderingDelegate(e);e.addDelegate(this._afterSecondHeaderRenderAdjustCSS);this.setAggregation("secondMonthHeader",e)};T.prototype._initializeMonthPicker=function(){var e=new h(this.getId()+"--MP");e._bCalendar=true;e.attachEvent("select",this._selectMonth,this);e.attachEvent("pageChange",L,this);e._bNoThemeChange=true;this.setAggregation("monthPicker",e);e._setSelectedDatesControlOrigin(this)};T.prototype._initializeYearPicker=function(){var e=new g(this.getId()+"--YP");e._bCalendar=true;e.attachEvent("select",this._selectYear,this);e.attachEvent("pageChange",E,this);this.setAggregation("yearPicker",e);e._setSelectedDatesControlOrigin(this)};T.prototype._initializeYearRangePicker=function(){var e=new l(this.getId()+"--YRP");e.attachEvent("select",this._selectYearRange,this);e.setPrimaryCalendarType(this.getPrimaryCalendarType());this.setAggregation("yearRangePicker",e)};T.prototype._createMonth=function(e){var t=new n(e,{width:"100%",calendarWeekNumbering:this.getCalendarWeekNumbering()});t._bCalendar=true;t.attachEvent("datehovered",this._handleDateHovered,this);t.attachEvent("weekNumberSelect",this._handleWeekNumberSelect,this);return t};T.prototype._handleWeekNumberSelect=function(e){var t=e.getParameter("weekDays"),a=this.fireWeekNumberSelect({weekNumber:e.getParameter("weekNumber"),weekDays:t});this._focusDate(d.fromLocalJSDate(t.getStartDate(),this.getPrimaryCalendarType()),true,false,false);if(!a){e.preventDefault()}return this};T.prototype._handleDateHovered=function(e){var t=this.getAggregation("month"),a=e.getParameter("date1"),i=e.getParameter("date2"),r;for(r=0;r<t.length;r++){t[r]._markDatesBetweenStartAndHoveredDate(a,i)}};T.prototype.onBeforeRendering=function(){var e=this.getAggregation("month"),t,a=e[0].getDate(),i=this._getFocusedDate();if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){v.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}if(e.length>1&&a){t=d.fromLocalJSDate(a,this.getPrimaryCalendarType())}else if(e.length>1){t=A.call(this,this._getFocusedDate())}else{t=i}for(var r=0;r<e.length;r++){a=new d(t);if(r>0){a.setMonth(a.getMonth()+r,1)}var s=a;if(i.getYear()===a.getYear()&&i.getMonth()===a.getMonth()){s=i}e[r].displayDate(s.toLocalJSDate());e[r].setShowWeekNumbers(this.getShowWeekNumbers())}if(this._getMonthPicker()){this._setDisabledMonths(i.getYear(),this._getMonthPicker())}this._updateHeader(t);this._updateHeadersButtons()};T.prototype.onAfterRendering=function(e){if(!this._getSucessorsPickerPopup()){w.call(this)}if(x.call(this)>1||this._bInitMonth){e.size={width:this.getDomRef().offsetWidth};b.call(this,e,true);if(!this._sResizeListener){this._sResizeListener=f.register(this,this._resizeProxy)}this._bInitMonth=undefined}};T.prototype.removeSelectedDate=function(e){this._bDateRangeChanged=true;return this.removeAggregation("selectedDates",e)};T.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};T.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};T.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};T.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};T.prototype._setSpecialDatesControlOrigin=function(e){this._oSpecialDatesControlOrigin=e};T.prototype.getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin.getSpecialDates()}if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};T.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};T.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};T.prototype.setLocale=function(e){if(this._sLocale!=e){this._sLocale=e;this._oLocaleData=undefined;this.invalidate();this._toggleTwoMonthsInTwoColumnsCSS()}return this};T.prototype.getLocale=function(){if(!this._sLocale){this._sLocale=C.getFormatSettings().getFormatLocale().toString()}return this._sLocale};T.prototype._getFocusedDate=function(){if(!this._oFocusedDate){k.call(this)}return this._oFocusedDate};T.prototype._setFocusedDate=function(e){r._checkCalendarDate(e);this._oFocusedDate=new d(e,this.getPrimaryCalendarType())};T.prototype.focusDate=function(e){H.call(this,e,false);this._addMonthFocusDelegate();return this};T.prototype.displayDate=function(e){H.call(this,e,true);return this};T.prototype.getStartDate=function(){var e;if(this.getDomRef()){var t=this.getAggregation("month");e=d.fromLocalJSDate(t[0].getDate(),this.getPrimaryCalendarType())}else{e=new d(this._getFocusedDate())}e.setDate(1);return e.toLocalJSDate()};T.prototype.setCalendarWeekNumbering=function(e){var t=this.getAggregation("month");this.setProperty("calendarWeekNumbering",e);for(var a=0;a<t.length;a++){t[a].setProperty("calendarWeekNumbering",e)}return this};T.prototype.setMonths=function(e){this._bDateRangeChanged=undefined;this.setProperty("months",e);e=x.call(this);var t=this.getAggregation("month");var a=0;var i;if(t.length<e){for(a=t.length;a<e;a++){i=this._createMonth(this.getId()+"--Month"+a);i.attachEvent("focus",this._handleFocus,this);i.attachEvent("select",F,this);i.attachEvent("_renderMonth",B,this);i.attachEvent("_bindMousemove",R,this);i.attachEvent("_unbindMousemove",N,this);i._bNoThemeChange=true;i._bNotInTabChain=true;i.setCalendarWeekNumbering(this.getCalendarWeekNumbering());i.setSecondaryCalendarType(this._getSecondaryCalendarType());this.addAggregation("month",i)}}else if(t.length>e){for(a=t.length;a>e;a--){i=this.removeAggregation("month",a-1);i.destroy()}if(e==1){this._bInitMonth=true}}if(e>1&&t[0].getDate()){t[0].setProperty("date",null,true)}return this};T.prototype.setPrimaryCalendarType=function(e){var t=this.getAggregation("month"),a,i,r,s,o;this.setProperty("primaryCalendarType",e);this._adjustYearRangeDisplay();this._oYearFormat=p.getDateInstance({format:"y",calendarType:e});if(this._oFocusedDate){this._oFocusedDate=new d(this._oFocusedDate,e)}this._oMinDate=new d(this._oMinDate,e);this._oMaxDate=new d(this._oMaxDate,e);for(o=0;o<t.length;o++){a=t[o];a.setPrimaryCalendarType(e)}if(!this._getSucessorsPickerPopup()){i=this._getMonthPicker();i.setPrimaryCalendarType(e);r=this._getYearPicker();r.setPrimaryCalendarType(e);s=this.getAggregation("yearRangePicker");s.setPrimaryCalendarType(e)}return this};T.prototype.setSecondaryCalendarType=function(e){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",e);this._oYearFormatSecondary=p.getDateInstance({format:"y",calendarType:e});var t=this.getAggregation("month");for(var a=0;a<t.length;a++){var i=t[a];i.setSecondaryCalendarType(e)}this._getMonthPicker().setSecondaryCalendarType(e);this._getYearPicker().setSecondaryCalendarType(e);this._getYearRangePicker().setSecondaryCalendarType(e);return this};T.prototype._getSecondaryCalendarType=function(){var e;if(this._bSecondaryCalendarTypeSet){e=this.getSecondaryCalendarType();var t=this.getPrimaryCalendarType();if(e==t){e=undefined}}return e};T.prototype._getActiveHeaderAggregation=function(){if(this._bActionTriggeredFromSecondHeader&&this._isTwoMonthsInOneColumn()){return this.getAggregation("secondMonthHeader")}else{return this.getAggregation("header")}};T.prototype._saveTriggeredHeader=function(e){if(e.getSource().sParentAggregationName==="secondMonthHeader"||e.sId==="pressButton3"||e.sId==="pressButton4"){this._bActionTriggeredFromSecondHeader=true}else{this._bActionTriggeredFromSecondHeader=false}};T.prototype.setMinDate=function(e){var t=this.getAggregation("month"),a=this.getPrimaryCalendarType(),i;if(P(e,this.getMinDate())){return this}if(!e){this._oMinDate=r._minDate(a)}else{r._checkJSDateObject(e);this._oMinDate=d.fromLocalJSDate(e,a);var s=this._oMinDate.getYear();r._checkYearInValidRange(s);if(this._oMaxDate.isBefore(this._oMinDate)){v.warning("minDate > maxDate -> maxDate set to end of the month",this);this._oMaxDate=d.fromLocalJSDate(e,a);this._oMaxDate.setDate(r._daysInMonth(this._oMaxDate));this.setProperty("maxDate",this._oMaxDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(d.fromLocalJSDate(e,a))}this.setProperty("minDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMinDate.getYear();this._getYearPicker()._oMinDate.setYear(i);this._getYearRangePicker()._oMinDate.setYear(i)}for(var o=0;o<t.length;o++){t[o]._oMinDate=new d(this._oMinDate)}return this};T.prototype.setMaxDate=function(e){var t=this.getAggregation("month"),a,i;if(P(e,this.getMaxDate())){return this}if(!e){this._oMaxDate=r._maxDate(a)}else{r._checkJSDateObject(e);this._oMaxDate=d.fromLocalJSDate(e,a);var s=this._oMaxDate.getYear();r._checkYearInValidRange(s);if(this._oMinDate.isAfter(this._oMaxDate)){v.warning("maxDate < minDate -> minDate set to begin of the month",this);this._oMinDate=d.fromLocalJSDate(e,a);this._oMinDate.setDate(1);this.setProperty("minDate",this._oMinDate.toLocalJSDate(),true)}this._setMinMaxDateExtend(d.fromLocalJSDate(e,a))}this.setProperty("maxDate",e,false);if(!this._getSucessorsPickerPopup()){i=this._oMaxDate.getYear();this._getYearPicker()._oMaxDate.setYear(i);this._getYearRangePicker()._oMaxDate.setYear(i)}for(var o=0;o<t.length;o++){t[o]._oMaxDate=new d(this._oMaxDate)}return this};T.prototype.setShowCurrentDateButton=function(e){this.getAggregation("header").setVisibleCurrentDateButton(e);return this.setProperty("showCurrentDateButton",e)};T.prototype._setMinMaxDateExtend=function(e){if(this._oFocusedDate){if(r._isOutside(this._oFocusedDate,this._oMinDate,this._oMaxDate)){v.warning("focused date is not between [minDate - maxDate] -> refocus to the new max/min date: "+e.toString(),this);this.focusDate(e.toLocalJSDate())}}};T.prototype._getLocaleData=function(){if(!this._oLocaleData){var e=this.getLocale();var t=new D(e);this._oLocaleData=i.getInstance(t)}return this._oLocaleData};T.prototype._getShowMonthHeader=function(){var e=x.call(this);if(e>2){return true}else{return false}};T.prototype._getMonthPicker=function(){return this.getAggregation("monthPicker")};T.prototype._getYearPicker=function(){return this.getAggregation("yearPicker")};T.prototype._getYearRangePicker=function(){return this.getAggregation("yearRangePicker")};T.prototype.onclick=function(e){var t=e.target;if(e.isMarked("delayedMouseEvent")){return}if(t.id==this.getId()+"-cancel"){this.onsapescape(e)}};T.prototype.onmousedown=function(e){if(e.cancelable){e.preventDefault()}e.setMark("cancelAutoClose")};T.prototype.onsapescape=function(e){this.fireCancel();this._closePickers();this._addMonthFocusDelegate();if(!this._getSucessorsPickerPopup()){this._setHeaderText(this._getFocusedDate())}};T.prototype.onsapshow=function(e){var t=e.which||e.keyCode;if(this._bPoupupMode&&t!==y.F4){this._closePickers();this._addMonthFocusDelegate();this.fireCancel();e.preventDefault()}};T.prototype.onkeydown=function(e){var t=e.which||e.keyCode,a=e.shiftKey;if(t!==y.F4){return}e.preventDefault();switch(this._iMode){case 0:if(a){this._showYearPicker()}else{this._showMonthPicker()}break;case 1:if(a){this._showYearPicker()}break;case 2:if(a){this._showYearRangePicker()}break;default:}};T.prototype.onsaphide=T.prototype.onsapshow;T.prototype.getFocusDomRef=function(){var e=this._oSelectedMonth?this._oSelectedMonth:this.getAggregation("month")[0],t=this._getMonthPicker(),a=this._getYearPicker(),i=this._getYearRangePicker();switch(this._iMode){case 0:return e.getFocusDomRef();case 1:return t.getFocusDomRef();case 2:return a.getFocusDomRef();case 3:return i.getFocusDomRef();default:return}};T.prototype.onThemeChanged=function(){var e,t=arguments;if(!this.getDomRef()){return}this._bNamesLengthChecked=undefined;if(!this._getSucessorsPickerPopup()){var a={onAfterRendering:function(){e.onThemeChanged(t);e._bNoThemeChange=true;w.call(this);this._bLongMonth=e._bLongMonth;this._closePickers();e.removeEventDelegate(a)}};e=this._getMonthPicker();this._showMonthPicker(true);e._bNoThemeChange=false;e.addEventDelegate(a,this)}var i=this.getAggregation("month");for(var r=0;r<i.length;r++){var s=i[r];s._bNoThemeChange=false;s.onThemeChanged(arguments);s._bNoThemeChange=true}var o;if(i.length>1){o=d.fromLocalJSDate(i[0].getDate(),this.getPrimaryCalendarType())}else{o=this._getFocusedDate()}this._setHeaderText(o);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()};T.prototype._updateHeader=function(e){this._setHeaderText(e);switch(this._iMode){case 0:this._togglePrevNext(e,true);break;case 1:this._togglePrevNext(e,false);break;case 2:case 3:this._togglePrevNexYearPicker();break}};T.prototype._togglePrevNext=function(e,t){var a=this._oMaxDate.getYear();var i=this._oMinDate.getYear();var s=this._oMaxDate.getMonth();var o=this._oMinDate.getMonth();var n=this.getAggregation("header");var h=x.call(this);var g=new d(e,this.getPrimaryCalendarType());if(this._iMode===1&&h>1){g=A.call(this,e);g.setMonth(g.getMonth()+h-1);g.setDate(r._daysInMonth(g))}else{g.setDate(r._daysInMonth(g))}var l=g.getYear();var u=g.getMonth();if((this._iMode===0||this._iMode===1)&&h>1){u+=h-1}if(l>a||l===a&&(!t||u>=s)||(this._iMode===0||this._iMode===1)&&this._getSucessorsPickerPopup()){n.setEnabledNext(false)}else{n.setEnabledNext(true)}if(this._iMode===1&&h>1){g.setMonth(g.getMonth()-h+1,1)}else{g.setDate(1)}l=g.getYear();u=g.getMonth();if(l<i||l==i&&(!t||u<=o)||this._iMode==1&&this._getSucessorsPickerPopup()){n.setEnabledPrevious(false)}else{n.setEnabledPrevious(true)}};T.prototype._togglePrevNexYearPicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=this.getPrimaryCalendarType(),i=new d(this._oMinDate,a),r=new d(this._oMaxDate,a),s=this.getAggregation("header"),o=1,n,h,g,l;if(this._iMode===3){g=e.getYears();o=e.getRangeSize();n=new d(e.getProperty("_middleDate"));h=new d(n);n.setYear(n.getYear()-o*g/2);h.setYear(h.getYear()+o*g/2-1)}else{g=t.getYears();l=t.getProperty("_middleDate")?t.getProperty("_middleDate"):d.fromLocalJSDate(new Date);n=new d(l);h=new d(l);n.setYear(n.getYear()-g/2);h.setYear(h.getYear()+g/2-1)}s.setEnabledNext(h.getYear()<r.getYear());s.setEnabledPrevious(n.getYear()>i.getYear())};T.prototype._handlePrevious=function(e){var t=this._getFocusedDate(),a=x.call(this),i,r=false;switch(this._iMode){case 0:if(a>1){i=d.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this.getPrimaryCalendarType());i.setDate(1);this._setFocusedDate(i);t=this._getFocusedDate()}else{t.setDate(1)}t.setDate(t.getDate()-1);this._renderMonth(r,false);this._addMonthFocusDelegate();break;case 1:t.setYear(t.getYear()-1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(t.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(t);this._setDisabledMonths(t.getYear());var s=this._getMonthPicker();s._setYear(t.getYear());s._setDate(t);s.invalidate();this.setProperty("_currentPicker",Y.MONTH_PICKER);break;case 2:this._getYearPicker().previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").previousPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};T.prototype._handleNext=function(e){var t=this._getFocusedDate(),a=x.call(this),i;switch(this._iMode){case 0:if(a>1){i=d.fromLocalJSDate(this.getAggregation("month")[0].getDate(),this.getPrimaryCalendarType());i.setMonth(i.getMonth(),1);this._setFocusedDate(i);t=this._getFocusedDate()}t.setMonth(t.getMonth()+1,1);this._renderMonth(false,false);this._addMonthFocusDelegate();break;case 1:t.setYear(t.getYear()+1);this._updateHeadersYearPrimaryText(this._oYearFormat.format(t.toUTCJSDate(),true));this._updateHeadersYearAdditionalTextHelper();this._togglePrevNext(t);this._setDisabledMonths(t.getYear());var r=this._getMonthPicker();r._setYear(t.getYear());r._setDate(t);r.invalidate();this.setProperty("_currentPicker",Y.MONTH_PICKER);break;case 2:this._getYearPicker().nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());this._updateHeadersYearAdditionalTextHelper();break;case 3:this.getAggregation("yearRangePicker").nextPage();this._togglePrevNexYearPicker();this._updateHeadersYearPrimaryText(this._getYearString());break}};T.prototype._updateHeadersYearAdditionalTextHelper=function(){if(!this._getSecondaryCalendarType()){return}var e=this._getDisplayedSecondaryYears();if(e.start.getYear()===e.end.getYear()){this._updateHeadersYearAdditionalText(this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true))}else{var t=this._getLocaleData();var a=t.getIntervalPattern();var i=a.replace(/\{0\}/,this._oYearFormatSecondary.format(e.start.toUTCJSDate(),true)).replace(/\{1\}/,this._oYearFormatSecondary.format(e.end.toUTCJSDate(),true));this._updateHeadersYearAdditionalText(i)}};T.prototype._handleCurrentDate=function(){var e=new Date,t=this.getMaxDate(),a=this.getMinDate();this.setProperty("_currentPicker",Y.MONTH);if(t&&t.getTime()<e.getTime()){this.focusDate(t)}else if(a&&a.getTime()>e.getTime()){this.focusDate(a)}else{this.focusDate(e)}};T.prototype._getYearString=function(){var e=this._getYearPicker(),t=e.getDomRef(),a=this._getFocusedDate();if(e&&t&&t.style.display===""){a=e.getProperty("_middleDate");a.setDate(1)}return this._oYearFormat.format(u.getInstance(a.toUTCJSDate(),a.getCalendarType()),true)};T.prototype._getDisplayedMonths=function(e){var t=[];var a=e.getMonth();var i=x.call(this);if(i>1){for(var r=0;r<i;r++){t.push((a+r)%12)}}else{t.push(a)}return t};T.prototype._getDisplayedSecondaryMonths=function(){var e=this.getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a=this.getAggregation("month"),i=d.fromLocalJSDate(a[0].getDate(),e),s=d.fromLocalJSDate(a[a.length-1].getDate(),e),o,n;i.setDate(1);i=new d(i,t);o=i.getMonth();s=d.fromLocalJSDate(a[a.length-1].getDate(),e);s.setDate(r._daysInMonth(s));s=new d(s,t);n=s.getMonth();return{start:o,end:n}};T.prototype._getDisplayedSecondaryYears=function(){var e=this.getPrimaryCalendarType(),t=this._getSecondaryCalendarType(),a,i,s,o,n,h,g;switch(this._iMode){case 0:n=this.getAggregation("month");a=d.fromLocalJSDate(n[0].getDate(),e);a.setDate(1);a=new d(a,t);i=d.fromLocalJSDate(n[n.length-1].getDate(),e);i.setDate(r._daysInMonth(i));i=new d(i,t);break;case 1:s=this._getFocusedDate();o=new d(s,e);o.setMonth(0,1);a=new d(o,e);a=new d(a,t);o.setYear(o.getYear()+1);o.setDate(o.getDate()-1);i=new d(o,e);i=new d(i,t);break;case 2:h=this._getYearPicker();g=h.getYears()/2-1;s=h.getProperty("_middleDate");a=new d(s,e);a.setYear(s.getYear()-g-1);a.setMonth(0,1);a=new d(a,t);i=new d(s,e);i.setYear(i.getYear()+g+1);a.setMonth(0,1);i.setDate(i.getDate()-1);i=new d(i,t);break;default:}return{start:a,end:i}};T.prototype._closePickers=function(){this.setProperty("_currentPicker",Y.MONTH);this._togglePrevNext(this._getFocusedDate(),true)};T.prototype._setDisabledMonths=function(e,t){var a=0;var i=11;if(e===this._oMinDate.getYear()){a=this._oMinDate.getMonth()}if(e===this._oMaxDate.getYear()){i=this._oMaxDate.getMonth()}if(!t){t=this._getMonthPicker()}t.setMinMax(a,i)};T.prototype._handleFocus=function(e){var t=d.fromLocalJSDate(e.getParameter("date"),this.getPrimaryCalendarType()),a=e.getParameter("otherMonth"),i=e.getParameter("restoreOldDate");if(this.getIntervalSelection()){this.getAggregation("month").forEach(function(e){e.setProperty("_focusedDate",t)})}if(i){if(!P(this._getFocusedDate(),t)){this._renderMonth(false,true)}}else{this._focusDate(t,a,false,true)}};T.prototype._getVisibleDays=function(){var e=this.getAggregation("month")[0];return e._getVisibleDays(e._getDate(),false)};T.prototype._renderMonth=function(e,t){var a=this._getFocusedDate(),i=this.getAggregation("month"),s,o,n=A.call(this,new d(a,this.getPrimaryCalendarType())),h=0,g=i[0].checkDateFocusable(a.toLocalJSDate()),l=!t&&!g;for(h=0;h<i.length;h++){s=i[h];o=new d(n,this.getPrimaryCalendarType());o.setMonth(n.getMonth()+h);if(!e&&r._isSameMonthAndYear(o,a)){s.setDate(a.toLocalJSDate())}else{s.displayDate(o.toLocalJSDate())}}this._updateHeader(n);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS();if(l){this.fireStartDateChange()}};T.prototype._updateMonthButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(false)}return this};T.prototype._showMonthPicker=function(e){var t=this._getFocusedDate(),a=this._getMonthPicker(),i=new d(this._getFocusedDate());this._updateActiveHeaderYearButtonVisibility();this._updateMonthButtonVisibility();this.setProperty("_currentPicker",Y.MONTH_PICKER);if(this._bActionTriggeredFromSecondHeader){i.setDate(1);i.setMonth(i.getMonth()+1);a._setYear(i.getYear());a._setDate(i)}else{a._setYear(t.getYear());a._setDate(t)}if(!e&&this._bActionTriggeredFromSecondHeader){a.setMonth(i.getMonth());this._setDisabledMonths(i.getYear(),a)}else if(!e){a.setMonth(t.getMonth());this._setDisabledMonths(t.getYear(),a)}this._togglePrevNext(t,true);this._setHeaderText(this._getFocusedDate())};T.prototype._showYearPicker=function(){var e=this._getFocusedDate(),t=this._getYearPicker();this.setProperty("_currentPicker",Y.YEAR_PICKER);t.setDate(e.toLocalJSDate());this._togglePrevNexYearPicker();if(this._isTwoMonthsInOneColumn()){this._updateActiveHeaderYearButtonVisibility()}else{this._updateActiveHeaderYearButtonVisibility()}if(this._bActionTriggeredFromSecondHeader&&this.getAggregation("month")[1].getDate().getFullYear()>this._getFocusedDate().getYear()){var a=e.toLocalJSDate();a.setFullYear(a.getFullYear()+1);t.setDate(a);this._updateHeadersYearPrimaryText(this._getYearString())}else{t.setDate(e.toLocalJSDate());this._updateHeadersYearPrimaryText(this._getYearString())}};T.prototype._focusDate=function(e,t,a,i){var r,s=false,o=false,n=this.getAggregation("month"),h;if(e.isBefore(this._oMinDate)){r=this._oMinDate;s=true}else if(e.isAfter(this._oMaxDate)){r=this._oMaxDate;s=true}else{r=e}if(this._focusDateExtend){o=this._focusDateExtend(e,t,a)}this._setFocusedDate(r);if(i&&!this._focusDateExtend){for(h=0;h<n.length;++h){if(n[h].checkDateFocusable(r.toLocalJSDate())){n[h].setDate(r.toLocalJSDate());n[h]._focusDate(r);return}}}if(s||t){this._renderMonth(false,a);this._addMonthFocusDelegate()}if(o){this.fireStartDateChange()}};T.prototype._setHeaderText=function(e){var t=this.getAggregation("header");var a=this.getAggregation("secondMonthHeader");var i=this._getLocaleData();var r=[];var s=[];var o=[];var n=[];var h;var g=false;var l;var u;var c;var _;var p;var f=this.getPrimaryCalendarType();var D=this._getSecondaryCalendarType();var y="";if(this._bLongMonth||!this._bNamesLengthChecked){r=i.getMonthsStandAlone("wide",f)}else{g=true;r=i.getMonthsStandAlone("abbreviated",f);s=i.getMonthsStandAlone("wide",f)}if(D){o=i.getMonthsStandAlone("abbreviated",D);n=i.getMonthsStandAlone("wide",D);var m=this._getDisplayedSecondaryMonths();if(m.start===m.end){c=o[m.start];y=n[m.start]}else{p=i.getIntervalPattern();c=p.replace(/\{0\}/,o[m.start]).replace(/\{1\}/,o[m.end]);y=p.replace(/\{0\}/,n[m.start]).replace(/\{1\}/,n[m.end])}}t.setAdditionalTextButton1(c);t._setAdditionalTextButton3(c);a.setAdditionalTextButton1(c);var M=this._getDisplayedMonths(e);this._sFirstMonthName=l=r[M[0]];u=r[M[M.length-1]];if(M.length>1&&!this._bShowOneMonth){if(!p){p=i.getIntervalPattern()}c=p.replace(/\{0\}/,l).replace(/\{1\}/,u);h=s.length?p.replace(/\{0\}/,s[M[0]]).replace(/\{1\}/,s[M[M.length-1]]):c;if(this._isTwoMonthsInTwoColumns()||this._isTwoMonthsInOneColumn()){c=l}}else{c=l;h=s[M[0]]||c}if(!this._getSucessorsPickerPopup()&&y){h+=", "+y}t.setTextButton1(c);t.setAriaLabelButton1(h);t._setTextButton3(u);t._setAriaLabelButton3(u);a.setTextButton1(u);a.setAriaLabelButton1(u);var P=new d(e,f);P.setDate(1);_=this._oYearFormat.format(P.toUTCJSDate(),true);if(P.getMonth()===11){this._updateHeadersYearPrimaryText(_,(parseInt(_)+1).toString())}else{this._updateHeadersYearPrimaryText(_,_)}if(D&&this._iMode!==3){this._updateHeadersYearAdditionalTextHelper()}else{this._updateHeadersYearAdditionalText()}return{sMonth:c,sYear:_,sAriaLabel:h,bShort:g}};T.prototype._handleButton1=function(e){if(this._iMode!=1){this._saveTriggeredHeader(e);this._showMonthPicker()}else{this.setProperty("_currentPicker",Y.MONTH);this._addMonthFocusDelegate()}};T.prototype._addMonthFocusDelegate=function(){var e=this.getAggregation("month"),t=e[0].getDate(),a=this._getFocusedDate(),i={onAfterRendering:function(){this._oItemNavigation.focusItem(this._oItemNavigation.getFocusedIndex());this.removeDelegate(i)}},r,s;if(e.length>1&&r){t=d.fromLocalJSDate(r,this.getPrimaryCalendarType())}else if(e.length>1){t=A.call(this,this._getFocusedDate())}else{t=a}for(var o=0;o<e.length;o++){r=new d(t);if(o>0){r.setMonth(r.getMonth()+o,1)}if(a.getYear()===r.getYear()&&a.getMonth()===r.getMonth()){s=this.getAggregation("month")[o];s.addDelegate(i,s)}}};T.prototype._handleButton2=function(e){if(this._iMode<=1){this._saveTriggeredHeader(e);this._showYearPicker()}else{this._showYearRangePicker()}};T.prototype._selectMonth=function(){var e=new d(this._getFocusedDate(),this.getPrimaryCalendarType()),t=this._getMonthPicker(),a=t.getProperty("_focusedMonth"),i=a||a===0?a:t.getMonth(),s=t._iYear?new d(t._iYear,i-1,1):new d(this._getFocusedDate().getYear(),i-1,1);if(x.call(this)>1){if(this._bActionTriggeredFromSecondHeader&&s.getYear()>=r._minDate().getYear()){e.setYear(s.getYear());i=s.getMonth()}else if(e.getYear()===r._maxDate().getYear()&&i===11){i-=1}}e.setMonth(i);if(i!=e.getMonth()){e.setDate(0)}this._focusDate(e,true,false,false);this._closePickers();this._addMonthFocusDelegate()};T.prototype._getSucessorsPickerPopup=function(){return this.getPickerPopup&&this.getPickerPopup()};T.prototype._selectYear=function(){var e=new d(this._getFocusedDate(),this.getPrimaryCalendarType()),t=e.getMonth(),a=this._getYearPicker(),i=d.fromLocalJSDate(a.getDate(),this.getPrimaryCalendarType());if(!this._bActionTriggeredFromSecondHeader){i.setMonth(t,e.getDate())}else{i.setYear(t===11?i.getYear()-1:i.getYear());i.setMonth(t,e.getDate())}e=i;this._focusDate(e,true,false,false);this._togglePrevNext(this._getFocusedDate(),true);this.setProperty("_currentPicker",Y.MONTH);this._addMonthFocusDelegate();this._setHeaderText(this._getFocusedDate())};T.prototype.setProperty=function(){var e=arguments[0],a=arguments[1];t.prototype.setProperty.apply(this,arguments);if(e==="_currentPicker"){switch(a){case"month":this._iMode=0;break;case"monthPicker":this._iMode=1;break;case"yearPicker":this._iMode=2;break;case"yearRangePicker":this._iMode=3;break;default:return}}return this};T.prototype._selectYearRange=function(){var e=this.getAggregation("yearRangePicker"),t=this.getAggregation("header"),a=e.getRangeSize(),i=this.getPrimaryCalendarType(),r=d.fromLocalJSDate(e.getDate(),i),s=new d(r.getYear()+a-1,0,1,i),o=this._getFocusedDate(),n,h;o.setYear(r.getYear()+a/2);r.setMonth(0,1);if(o.isBefore(this._oMinDate)){o=new d(this._oMinDate,this.getPrimaryCalendarType())}else if(o.isAfter(this._oMaxDate)){o=new d(this._oMaxDate,this.getPrimaryCalendarType())}this._setFocusedDate(o);this._showYearPicker();n=this._oYearFormat.format(u.getInstance(r.toUTCJSDate(),r.getCalendarType()),true);h=this._oYearFormat.format(u.getInstance(s.toUTCJSDate(),s.getCalendarType()),true);t.setTextButton2(n+" - "+h);t._setTextButton4(n+" - "+h)};T.prototype._showYearRangePicker=function(){var e=this.getAggregation("yearRangePicker"),t=this._getYearPicker(),a=d.fromLocalJSDate(t.getFirstRenderedDate(),this.getPrimaryCalendarType());this.setProperty("_currentPicker",Y.YEAR_RANGE_PICKER);a.setYear(a.getYear()+Math.floor(e.getRangeSize()/2));e.setDate(a.toLocalJSDate());this._togglePrevNexYearPicker()};T.prototype._setColumns=function(e){this._iColumns=e;return this};T.prototype._getColumns=function(){return this._iColumns};T.prototype._updateActiveHeaderYearButtonVisibility=function(){var e=this._getActiveHeaderAggregation();if(this._bActionTriggeredFromSecondHeader){this._isTwoMonthsInOneColumn()?e.setVisibleButton1(!e.getVisibleButton1()):e._setVisibleButton3(!e._getVisibleButton3())}else{e.setVisibleButton1(!e.getVisibleButton1())}return this};T.prototype._updateHeadersButtonsHelper=function(e,t,a,i){var r=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader");r.setVisibleButton1(e);r.setVisibleButton2(t);r._setVisibleButton3(a);r._setVisibleButton4(i);if(s.getVisible()){s.setVisibleButton1(e);s.setVisibleButton2(t);s._setVisibleButton3(a);s._setVisibleButton4(i)}};T.prototype._updateHeadersButtons=function(){var e=this.getAggregation("secondMonthHeader");if(this._isTwoMonthsInOneColumn()){e.setVisible(true);if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}else if(this._isTwoMonthsInTwoColumns()){e.setVisible(false);if(this._iMode===2){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else if(this._iMode===1){this._bActionTriggeredFromSecondHeader?this._updateHeadersButtonsHelper(true,true,false,true):this._updateHeadersButtonsHelper(false,true,true,true)}else{this._updateHeadersButtonsHelper(true,true,true,true)}}else{e.setVisible(false);if(this._iMode===1){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===2){this._updateHeadersButtonsHelper(false,true,false,false)}else if(this._iMode===3){this._updateHeadersButtonsHelper(false,false,false,false)}else{this._updateHeadersButtonsHelper(true,true,false,false)}}if(this._getSucessorsPickerPopup()){this.getAggregation("header").setVisibleButton2(false)}};T.prototype._setPrimaryHeaderMonthButtonText=function(){var e=this.getAggregation("header");if(this._isTwoMonthsInOneColumn()||this._isTwoMonthsInTwoColumns()){e.setTextButton1(this._sFirstMonthName)}};T.prototype._toggleTwoMonthsInTwoColumnsCSS=function(){if(this._isTwoMonthsInTwoColumns()){if(a.getConfiguration().getLocale().getLanguage().toLowerCase()==="ja"||a.getConfiguration().getLocale().getLanguage().toLowerCase()==="zh"){this.addStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}else{this.addStyleClass("sapUiCalTwoMonthsTwoColumns");this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh")}}else{this.removeStyleClass("sapUiCalTwoMonthsTwoColumnsJaZh");this.removeStyleClass("sapUiCalTwoMonthsTwoColumns")}};T.prototype._isTwoMonthsInOneColumn=function(){var e=x.call(this);return this._getColumns()===1&&e===2};T.prototype._isTwoMonthsInTwoColumns=function(){var e=x.call(this);return this._getColumns()===2&&e===2};T.prototype._updateHeadersYearPrimaryText=function(e,t){var a=this._getYearPicker(),i=this.getAggregation("header"),s=this.getAggregation("secondMonthHeader"),o=e,n=t||e,h=this.getPrimaryCalendarType();if(this._iMode===2&&a){var g=a.getProperty("_middleDate")?a.getProperty("_middleDate"):a._getDate(),l=new d(g,h),c=r._minDate(this.getPrimaryCalendarType()).getYear(),_=r._maxDate(this.getPrimaryCalendarType()).getYear(),p,f,D;l.setDate(1);l.setYear(l.getYear()-Math.floor(a.getYears()/2));if(l.getYear()<c){l.setYear(c)}else if(l.getYear()+a.getYears()>_){l.setYear(_-a.getYears()+1)}p=new d(l,h);p.setYear(p.getYear()+a.getYears()-1);f=this._oYearFormat.format(u.getInstance(l.toUTCJSDate(),l.getCalendarType()),true);D=this._oYearFormat.format(u.getInstance(p.toUTCJSDate(),p.getCalendarType()),true);if(this._bActionTriggeredFromSecondHeader){n=f+" - "+D}else{o=f+" - "+D}}i._setTextButton4(n);i._setAriaLabelButton4(n);s.setTextButton2(n);i.setTextButton2(o)};T.prototype._updateHeadersYearAdditionalText=function(e){var t=this.getAggregation("header"),a=this.getAggregation("secondMonthHeader");t.setAdditionalTextButton2(e);t._setAdditionalTextButton4(e);a.setAdditionalTextButton2(e)};T.prototype._adjustYearRangeDisplay=function(){var t=this.getAggregation("yearRangePicker");if(!this._getSucessorsPickerPopup()){switch(this.getPrimaryCalendarType()){case e.Japanese:t.setColumns(1);t.setYears(4);break;case e.Gregorian:t.setColumns(3);t.setYears(9);break;default:t.setColumns(2);t.setYears(8)}}};T.prototype._getSpecialDates=function(){var e=this.getParent();if(this._oSpecialDatesControlOrigin){return this._oSpecialDatesControlOrigin._getSpecialDates()}if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===c.CalendarDayType.NonWorking&&t[a].getType()!==c.CalendarDayType.NonWorking;if(i){var r=new s;r.setType(t[a].getSecondaryType());r.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){r.setEndDate(t[a].getEndDate())}t.push(r)}}return t}};function k(){var e=this.getSelectedDates();var t=this.getPrimaryCalendarType();if(e&&e[0]&&e[0].getStartDate()){this._oFocusedDate=d.fromLocalJSDate(e[0].getStartDate(),t)}else{this._oFocusedDate=d.fromLocalJSDate(new Date,t)}if(this._oFocusedDate.isBefore(this._oMinDate)){this._oFocusedDate=new d(this._oMinDate,t)}else if(this._oFocusedDate.isAfter(this._oMaxDate)){this._oFocusedDate=new d(this._oMaxDate,t)}}function b(e){var t=e.size.width;if(t<=0){return}if(t===this._iPrevWidth){return}this._iPrevWidth=t;var a=this._iSize;if(t<this._iBreakPointTablet){this._iSize=0}else if(t<this._iBreakPointDesktop){this._iSize=1}else if(t<this._iBreakPointLargeDesktop){this._iSize=2}else{this._iSize=3}var i=x.call(this);if(a!=this._iSize||this._bInitMonth){switch(this._iSize){case 1:this._setColumns(2);break;case 2:this._setColumns(3);break;case 3:this._setColumns(4);break;default:this._setColumns(1);break}if(i<this._getColumns()){this._setColumns(i)}if(this._getColumns()>2&&i>this._getColumns()){var r=this._getColumns();var s=0;var o=this._getColumns();while(r>=2){var n=i%r;if(n==0){o=r;break}else{var h=n/r;if(h>s){s=h;o=r}}r--}this._setColumns(o)}var g;var l=this.getAggregation("month");if(this._getColumns()>1){g=100/this._getColumns()+"%";this.$("content").removeClass("sapUiCalContentSingle")}else{g="100%";this.$("content").addClass("sapUiCalContentSingle")}for(var d=0;d<l.length;d++){var u=l[d];u.setWidth(g)}this.invalidate()}this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()}function A(e){var t=new d(e,this.getPrimaryCalendarType());t.setDate(1);var a=x.call(this);if(a<=12){var i=e.getMonth();if(12%a>0&&i+a>11){i=12-a}t.setMonth(i)}return t}function w(){var e,t,a;if(!this._bNamesLengthChecked){e=this._getMonthPicker();this._bLongMonth=e._bLongMonth;this._bNamesLengthChecked=true;this.setProperty("_currentPicker",Y.MONTH);if(!this._bLongMonth){t=this.getAggregation("month");a;if(t.length>1){a=d.fromLocalJSDate(t[0].getDate(),this.getPrimaryCalendarType())}else{a=this._getFocusedDate()}this._setHeaderText(a);this._setPrimaryHeaderMonthButtonText();this._toggleTwoMonthsInTwoColumnsCSS()}}}function H(e,t){var a,i;if(!e){return}a=d.fromLocalJSDate(e,this.getPrimaryCalendarType());i=a.getYear();r._checkYearInValidRange(i);if(r._isOutside(a,this._oMinDate,this._oMaxDate)){throw new Error("Date must not be in valid range (minDate and maxDate); "+this)}this._setFocusedDate(a);if(this.getDomRef()&&this._iMode==0){this._renderMonth(t,true)}}function x(){if(_.system.phone){return 1}else{return this.getMonths()}}function B(e){this.fireEvent("_renderMonth",{days:e.getParameter("days")})}function F(e){this._oSelectedMonth=e.oSource;this.fireSelect()}function R(e){var t,a,i;if(x.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._bindMousemove()}}}}function N(e){var t,a,i;if(x.call(this)>1){t=this.getAggregation("month");for(i=0;i<t.length;i++){a=t[i];if(a.getId()!=e.oSource.getId()){a._unbindMousemove()}}}}function L(e){var t=e.getParameter("offset");if(t>0){this._handleNext(e)}if(t<0){this._handlePrevious(e)}}function E(){this._updateHeadersYearPrimaryText(this._getYearString())}return T});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegend",["sap/ui/core/Control","./library","./CalendarLegendRenderer","sap/base/Log","sap/ui/thirdparty/jquery","sap/ui/unified/CalendarLegendItem"],function(e,t,r,n,a,i){"use strict";var d=t.CalendarDayType;var s=t.StandardCalendarLegendItem;var o=e.extend("sap.ui.unified.CalendarLegend",{metadata:{library:"sap.ui.unified",properties:{standardItems:{type:"string[]",group:"Misc",defaultValue:["Today","Selected","WorkingDay","NonWorkingDay"]},columnWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:"120px"}},aggregations:{items:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,singularName:"item"},_standardItems:{type:"sap.ui.unified.CalendarLegendItem",multiple:true,visibility:"hidden"}},designtime:"sap/ui/unified/designtime/CalendarLegend.designtime"},constructor:function(t,r){e.prototype.constructor.apply(this,arguments);if(typeof t!=="string"){r=t}if(!r||r&&!r.standardItems){this._addStandardItems(this.getStandardItems())}this._bShouldRenderStandardItems=true},renderer:r});o.prototype.setStandardItems=function(e){var t;if(e&&e.length===1&&e[0]===""){e=[]}if(e&&e.length){e=this.validateProperty("standardItems",e);for(t=0;t<e.length;t++){if(!s[e[t]]){throw new Error("Invalid value '"+e[t]+"'. Property standardItems must contain values from sap.ui.unified.StandardCalendarLegendItem.")}}}this.setProperty("standardItems",e);this._addStandardItems(this.getStandardItems(),true);return this};o.prototype._addStandardItems=function(e,t){var r,n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),a=this.getId();if(t){this.destroyAggregation("_standardItems")}for(r=0;r<e.length;r++){var d=new i(a+"-"+e[r],{text:n.getText(o._Standard_Items_TextKeys[e[r]])});this.addAggregation("_standardItems",d)}};o._Standard_Items_TextKeys={Today:"LEGEND_TODAY",Selected:"LEGEND_SELECTED",WorkingDay:"LEGEND_NORMAL_DAY",NonWorkingDay:"LEGEND_NON_WORKING_DAY"};o.prototype._getItemType=function(e,t){var r=e.getType(),a,i;if(r&&r!==d.None){return r}i=this._getUnusedItemTypes(t);a=t.filter(function(e){return!e.getType()||e.getType()===d.None}).indexOf(e);if(a<0){n.error("Legend item is not in the legend",this);return r}if(i[a]){r=i[a]}else{r="Type"+(Object.keys(d).length+a-i.length-1)}return r};o.prototype._getItemByType=function(e){var t,r=this.getItems(),n;for(n=0;n<r.length;n++){if(this._getItemType(r[n],r)===e){t=r[n];break}}return t};o.prototype._getUnusedItemTypes=function(e){var t=a.extend({},d),r,n;delete t[d.None];delete t[d.NonWorking];for(n=0;n<e.length;n++){r=e[n].getType();if(t[r]){delete t[r]}}return Object.keys(t)};return o});
/*
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarLegendRenderer",["sap/ui/core/InvisibleText"],function(e){"use strict";var t={apiVersion:2};t.render=function(e,t){var i=t.getAggregation("_standardItems"),n=t.getItems(),d=this.defineItemsLength(t,n.length),r,s,a;e.openStart("div",t);e.class("sapUiUnifiedLegend");e.openEnd();this.renderItemsHeader(e,t);if(i||n){e.openStart("div");e.class("sapUiUnifiedLegendItems");a=t.getColumnWidth();e.style("column-width",a);e.style("-moz-column-width",a);e.style("-webkit-column-width",a);e.openEnd();if(i){s=t.getId().length+1;for(r=0;r<i.length;++r){var o="sapUiUnifiedLegend"+i[r].getId().slice(s);this.renderLegendItem(e,o,i[r],["sapUiUnifiedLegendSquareColor"])}}if(n){for(r=0;r<d;r++){this.renderLegendItem(e,"sapUiCalLegDayType"+t._getItemType(n[r],n).slice(4),n[r],["sapUiUnifiedLegendSquareColor"])}}this.renderAdditionalItems(e,t);e.close("div")}this.renderAdditionalContent(e,t);e.close("div")};t.renderLegendItem=function(e,t,i,n){var d=i.getText();var r=i.getTooltip_AsString();e.openStart("div",i);if(r){e.attr("title",r)}e.class("sapUiUnifiedLegendItem");e.class(t);e.openEnd();e.openStart("div");e.class("sapUiUnifiedLegendSquare");e.openEnd();this.renderColor(e,i.getColor(),n);e.close("div");e.openStart("div",i.getId()+"-Text");e.class("sapUiUnifiedLegendDescription");e.openEnd();e.text(d);e.close("div");e.close("div")};t.renderItemsHeader=function(e,t){};t.renderAdditionalContent=function(e,t){};t.defineItemsLength=function(e,t){return t};t.renderAdditionalItems=function(e,t){};t.renderColor=function(e,t,i){e.openStart("div");for(var n=0;n<i.length;n++){e.class(i[n])}if(t){e.style("background-color",t)}e.openEnd();e.close("div")};t.addCalendarTypeAccInfo=function(e,i,n){var d,r;if(n){var s=n._getItemByType(i);if(s){d=s.getText()}}if(d){e["label"]=e["label"]?e["label"]+"; "+d:d}else{r=t.getTypeAriaText(i);if(r){e["describedby"]=e["describedby"]?e["describedby"]+" "+r.getId():r.getId()}}};t.typeARIATexts={};t.getTypeAriaText=function(i){var n,d;if(i.indexOf("Type")!==0){return}if(!t.typeARIATexts[i]){n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");d=n.getText("LEGEND_UNNAMED_TYPE",parseInt(i.slice(4)).toString());t.typeARIATexts[i]=new e({text:d});t.typeARIATexts[i].toStatic()}return t.typeARIATexts[i]};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/CalendarRenderer",[],function(){"use strict";var e={apiVersion:2};var t={MONTH:"month",MONTH_PICKER:"monthPicker",YEAR_PICKER:"yearPicker",YEAR_RANGE_PICKER:"yearRangePicker"};e.render=function(e,n){var r=n.getId(),a=n.getTooltip_AsString(),i=n.getAggregation("month"),o=n.getProperty("_currentPicker"),s=n.getWidth(),l=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),d={labelledby:{value:"",append:false}};e.openStart("div",n);e.class("sapUiCal");if(i.length>1){e.class("sapUiCalMulti")}e.accessibilityState(n,d);if(a){e.attr("title",a)}if(s){e.class("sapUiCalWidth");e.style("width",s)}if(n._getSecondaryCalendarType()){e.class("sapUiCalSecType")}if(this.addAttributes){this.addAttributes(e,n)}e.openEnd();e.openStart("div",r+"-content");e.class("sapUiCalContent");e.openEnd();if(n.getMonths()>1){switch(o){case t.MONTH_PICKER:case t.YEAR_PICKER:case t.YEAR_RANGE_PICKER:this.renderMonths(e,n,i);this.renderCalContentOverlay(e,n,r);break}}switch(o){case t.MONTH:this.renderMonths(e,n,i);break;case t.MONTH_PICKER:e.renderControl(n._getMonthPicker());break;case t.YEAR_PICKER:e.renderControl(n._getYearPicker());break;case t.YEAR_RANGE_PICKER:e.renderControl(n._getYearRangePicker());break}e.close("div");var c=n.getAggregation("header");e.renderControl(c);if(!n._bSkipCancelButtonRendering){e.openStart("button",r+"-cancel");e.class("sapUiCalCancel");e.attr("tabindex","-1");e.openEnd();e.text(l.getText("CALENDAR_CANCEL"));e.close("button")}this.renderCalContentAndArrowsOverlay(e,n,r);e.close("div")};e.renderMonths=function(e,t,n){n.forEach(function(r,a){e.renderControl(r);if(n.length===2&&a===0){e.renderControl(t.getAggregation("secondMonthHeader"))}})};e.renderCalContentOverlay=function(e,t,n){e.openStart("div",n+"-contentOver");e.class("sapUiCalContentOver");e.openEnd();e.close("div")};e.renderCalContentAndArrowsOverlay=function(e,t,n){};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/DateRange",["sap/ui/core/Element","./library","sap/ui/unified/calendar/CalendarUtils"],function(e,t,a){"use strict";var r=e.extend("sap.ui.unified.DateRange",{metadata:{library:"sap.ui.unified",properties:{startDate:{type:"object",group:"Misc",defaultValue:null},endDate:{type:"object",group:"Misc",defaultValue:null}}}});r.prototype.setStartDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("startDate",e,t);return this};r.prototype.setEndDate=function(e,t){if(e){a._checkJSDateObject(e);var r=e.getFullYear();a._checkYearInValidRange(r)}this.setProperty("endDate",e,t);return this};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploader",["sap/ui/core/Control","./library","sap/ui/core/LabelEnablement","sap/ui/core/InvisibleText","sap/ui/core/library","sap/ui/Device","./FileUploaderRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/base/Log","sap/base/security/encodeXML","sap/ui/thirdparty/jquery","sap/ui/core/Configuration","sap/ui/dom/jquery/Aria"],function(e,t,i,s,o,r,a,l,n,p,h,u,d){var f=o.ValueState;var g=t.FileUploaderHttpRequestMethod;var c=e.extend("sap.ui.unified.FileUploader",{metadata:{interfaces:["sap.ui.core.IFormContent","sap.ui.unified.IProcessableBlobs"],library:"sap.ui.unified",designtime:"sap/ui/unified/designtime/FileUploader.designtime",properties:{value:{type:"string",group:"Data",defaultValue:""},enabled:{type:"boolean",group:"Behavior",defaultValue:true},uploadUrl:{type:"sap.ui.core.URI",group:"Data",defaultValue:""},name:{type:"string",group:"Data",defaultValue:null},width:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:""},uploadOnChange:{type:"boolean",group:"Behavior",defaultValue:false},additionalData:{type:"string",group:"Data",defaultValue:null},sameFilenameAllowed:{type:"boolean",group:"Behavior",defaultValue:false},buttonText:{type:"string",group:"Misc",defaultValue:null},fileType:{type:"string[]",group:"Data",defaultValue:null},multiple:{type:"boolean",group:"Behavior",defaultValue:false},maximumFileSize:{type:"float",group:"Data",defaultValue:null},mimeType:{type:"string[]",group:"Data",defaultValue:null},sendXHR:{type:"boolean",group:"Behavior",defaultValue:false},httpRequestMethod:{type:"sap.ui.unified.FileUploaderHttpRequestMethod",group:"Behavior",defaultValue:g.Post},placeholder:{type:"string",group:"Appearance",defaultValue:null},style:{type:"string",group:"Appearance",defaultValue:null},buttonOnly:{type:"boolean",group:"Appearance",defaultValue:false},useMultipart:{type:"boolean",group:"Behavior",defaultValue:true},maximumFilenameLength:{type:"int",group:"Data",defaultValue:null},valueState:{type:"sap.ui.core.ValueState",group:"Data",defaultValue:f.None},valueStateText:{type:"string",group:"Misc",defaultValue:null},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconHovered:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconSelected:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""},iconFirst:{type:"boolean",group:"Appearance",defaultValue:true},iconOnly:{type:"boolean",group:"Appearance",defaultValue:false},directory:{type:"boolean",group:"Behavior",defaultValue:false}},aggregations:{parameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"parameter"},headerParameters:{type:"sap.ui.unified.FileUploaderParameter",multiple:true,singularName:"headerParameter"},xhrSettings:{type:"sap.ui.unified.FileUploaderXHRSettings",multiple:false}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{change:{parameters:{newValue:{type:"string"},files:{type:"object[]"}}},uploadComplete:{parameters:{fileName:{type:"string"},response:{type:"string"},readyStateXHR:{type:"string"},status:{type:"string"},responseRaw:{type:"string"},headers:{type:"object"},requestHeaders:{type:"object[]"}}},typeMissmatch:{parameters:{fileName:{type:"string"},fileType:{type:"string"},mimeType:{type:"string"}}},fileSizeExceed:{parameters:{fileName:{type:"string"},fileSize:{type:"string"}}},fileEmpty:{parameters:{fileName:{type:"string"}}},fileAllowed:{},uploadProgress:{parameters:{lengthComputable:{type:"boolean"},loaded:{type:"float"},total:{type:"float"},fileName:{type:"string"},requestHeaders:{type:"object[]"}}},uploadAborted:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},filenameLengthExceed:{parameters:{fileName:{type:"string"}}},uploadStart:{parameters:{fileName:{type:"string"},requestHeaders:{type:"object[]"}}},beforeDialogOpen:{},afterDialogClose:{}}},renderer:a});c.prototype.init=function(){var e=this;this.oFilePath=t.FileUploaderHelper.createTextField(this.getId()+"-fu_input").addEventDelegate({onAfterRendering:function(){if(e.getWidth()){e._resizeDomElements()}}});this.oBrowse=t.FileUploaderHelper.createButton(this.getId()+"-fu_button");this.oFilePath.setParent(this);this.oBrowse.setParent(this);this.oFileUpload=null;this.bMobileLib=this.oBrowse.getMetadata().getName()=="sap.m.Button";if(d.getAccessibility()){if(!c.prototype._sAccText){var i=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");c.prototype._sAccText=i.getText("FILEUPLOAD_ACC")}if(this.oBrowse.addAriaDescribedBy){this.oBrowse.addAriaDescribedBy(this.getId()+"-AccDescr")}if(this.oFilePath){this.oFilePath.addAriaLabelledBy(s.getStaticId("sap.ui.unified","FILEUPLOAD_FILENAME"))}}this._submitAfterRendering=false};c.prototype.setIcon=function(e){this.oBrowse.setIcon(e);this.setProperty("icon",e,false);return this};c.prototype.setIconHovered=function(e){this.setProperty("iconHovered",e,false);if(this.oBrowse.setIconHovered){this.oBrowse.setIconHovered(e)}return this};c.prototype.setIconSelected=function(e){this.setProperty("iconSelected",e,false);if(this.oBrowse.setIconSelected){this.oBrowse.setIconSelected(e)}else{this.oBrowse.setActiveIcon(e)}return this};c.prototype.setIconFirst=function(e){this.oBrowse.setIconFirst(e);this.setProperty("iconFirst",e,false);return this};c.prototype.getIdForLabel=function(){return this.oBrowse.getId()};c.prototype._ensureBackwardsReference=function(){var e=this.oBrowse,t=e.getAriaLabelledBy(),s=i.getReferencingLabels(this);if(t){s.forEach(function(i){if(t.indexOf(i)===-1){e.addAriaLabelledBy(i)}})}return this};c.prototype.setFileType=function(e){var t=this._convertTypesToArray(e);this.setProperty("fileType",t,false);this._rerenderInputField();return this};c.prototype.setMimeType=function(e){var t=this._convertTypesToArray(e);this.setProperty("mimeType",t,false);this._rerenderInputField();return this};c.prototype.setMultiple=function(e){this.setProperty("multiple",e,false);this._rerenderInputField();return this};c.prototype.setDirectory=function(e){this.setProperty("directory",e,false);this._rerenderInputField();return this};c.prototype._rerenderInputField=function(){if(this.oFileUpload){var e=this.oFileUpload.files;this._clearInputField();this._prepareFileUpload();u(this.oFileUpload).on("change",this.handlechange.bind(this));this.oFileUpload.files=e;this._cacheDOMEls()}};c.prototype.setTooltip=function(t){var i;e.prototype.setTooltip.call(this,t);if(this.oFileUpload){i=this.getTooltip_AsString();if(i){this.oFileUpload.setAttribute("title",i)}else{this.oFileUpload.setAttribute("title",this.getValue()?this.getValue():this._getNoFileChosenText())}}return this};c.prototype.addAriaLabelledBy=function(e){this.addAssociation("ariaLabelledBy",e);this.oBrowse.addAriaLabelledBy(e);return this};c.prototype.removeAriaLabelledBy=function(e){var t=this.removeAssociation("ariaLabelledBy",e);this.oBrowse.removeAriaLabelledBy(t);return t};c.prototype.removeAllAriaLabelledBy=function(){var e=this.removeAllAssociation("ariaLabelledBy"),t=this.oBrowse.getAriaLabelledBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaLabelledBy(e)}}.bind(this));return e};c.prototype.addAriaDescribedBy=function(e){this.addAssociation("ariaDescribedBy",e);this.oBrowse.addAriaDescribedBy(e);return this};c.prototype.removeAriaDescribedBy=function(e){var t=this.removeAssociation("ariaDescribedBy",e);this.oBrowse.removeAriaDescribedBy(t);return t};c.prototype.removeAllAriaDescribedBy=function(){var e=this.removeAllAssociation("ariaDescribedBy"),t=this.oBrowse.getAriaDescribedBy();e.forEach(function(e){if(t.indexOf(e)>=0){this.oBrowse.removeAriaDescribedBy(e)}}.bind(this));return e};c.prototype._generateAccDescriptionText=function(){var e=this.getTooltip_AsString(),t=this.getPlaceholder(),s=this.getValue(),o=i.isRequired(this),r="";if(o){r+=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("FILEUPLOAD_REQUIRED")+" "}if(e){r+=e+" "}if(s){r+=s+" "}else if(t){r+=t+" "}r+=this._sAccText;return r};c.prototype._convertTypesToArray=function(e){if(typeof e==="string"){if(e===""){return[]}else{return e.split(",").map(function(e){return e.trim()})}}return e};c.prototype.exit=function(){this.oFilePath.destroy();this.oBrowse.destroy();if(this.oIFrameRef){u(this.oIFrameRef).off();sap.ui.getCore().getStaticAreaRef().removeChild(this.oIFrameRef);this.oIFrameRef=null}if(this.oFileUpload){this._clearInputField()}if(this.FUEl){this.FUEl=null}if(this.FUDataEl){this.FUDataEl=null}};c.prototype._clearInputField=function(){u(this.oFileUpload).off();this.oFileUpload.parentElement.removeChild(this.oFileUpload);this.oFileUpload=null};c.prototype.onBeforeRendering=function(){var e=sap.ui.getCore().getStaticAreaRef();u(this.oFileUpload).appendTo(e);if(!this.getName()){p.warning("Name property is not set. Id would be used instead to identify the control on the server.",this)}u(this.oFileUpload).off();if(this.getIconOnly()&&this.getButtonOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getTooltip_AsString()||this.getBrowseText())}else if(this.getIconOnly()){this.oBrowse.setText("");this.oBrowse.setTooltip(this.getBrowseText())}else{this.oBrowse.setText(this.getButtonText()||this.getBrowseText());this.oBrowse.setTooltip("")}this.oFilePath.setPlaceholder(this.getPlaceholder())};c.prototype.onAfterRendering=function(){this.prepareFileUploadAndIFrame();this._cacheDOMEls();this._addLabelFeaturesToBrowse();u(this.oFileUpload).on("change",this.handlechange.bind(this));if(!this.bMobileLib){this.oFilePath.$().attr("tabindex","-1")}else{this.oFilePath.$().find("input").attr("tabindex","-1")}setTimeout(this._recalculateWidth.bind(this),0);this.oFilePath.$().find("input").removeAttr("role").attr("aria-live","polite");if(this._submitAfterRendering){this._submitAndResetValue();this._submitAfterRendering=false}};c.prototype._cacheDOMEls=function(){this.FUEl=this.getDomRef("fu");this.FUDataEl=this.getDomRef("fu_data")};c.prototype.onfocusin=function(e){if(!this.oFilePath.shouldValueStateMessageBeOpened||this.oFilePath.shouldValueStateMessageBeOpened()){this.openValueStateMessage()}};c.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!l(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){this.closeValueStateMessage()}};c.prototype._recalculateWidth=function(){if(this.getWidth()){if(this.getButtonOnly()&&this.oBrowse.getDomRef()){this.oBrowse.getDomRef().style.width=this.getWidth()}this._resizeDomElements()}};c.prototype.getFocusDomRef=function(){return this.oBrowse.getDomRef()};c.prototype._resizeDomElements=function(){var e=this.getId();this._oBrowseDomRef=this.oBrowse.getDomRef();var t=u(this._oBrowseDomRef);var i=t.parent().outerWidth(true);this._oFilePathDomRef=this.oFilePath.getDomRef();var s=this._oFilePathDomRef;var o=this.getWidth();if(o.substr(-1)=="%"&&s){while(s.id!=e){s.style.width="100%";s=s.parentNode}s.style.width=o}else{if(s){s.style.width=o;var r=u(this._oFilePathDomRef);var a=r.outerWidth()-i;if(a<0){this.oFilePath.getDomRef().style.width="0px";if(this.oFileUpload){this.oFileUpload.style.width=t.outerWidth(true)}}else{this.oFilePath.getDomRef().style.width=a+"px"}}}};c.prototype.onresize=function(){this._recalculateWidth()};c.prototype.onThemeChanged=function(){this._recalculateWidth()};c.prototype.setEnabled=function(e){var t=u(this.oFileUpload);this.setProperty("enabled",e,false);this.oFilePath.setEnabled(e);this.oBrowse.setEnabled(e);if(this.getEnabled()){t.removeAttr("disabled")}else{t.attr("disabled","disabled")}return this};c.prototype.setValueState=function(e){this.setProperty("valueState",e,false);if(this.oFilePath.setValueState){this.oFilePath.setValueState(e)}else{p.warning("Setting the valueState property with the combination of libraries used is not supported.",this)}var t=l(this.getDomRef(),document.activeElement);switch(e){case f.Error:case f.Warning:case f.Success:this.oBrowse.addAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.openValueStateMessage()}break;default:this.oBrowse.removeAssociation("ariaDescribedBy",this.oFilePath.getId()+"-message-sr");if(t){this.closeValueStateMessage()}}return this};c.prototype.setValueStateText=function(e){if(this.oFilePath.setValueStateText){this.oFilePath.setValueStateText(e)}else{p.warning("Setting the valueStateText property with the combination of libraries used is not supported.",this)}return this.setProperty("valueStateText",e,false)};c.prototype.setStyle=function(e){this.setProperty("style",e,true);if(e){if(e=="Transparent"){if(this.oBrowse.setLite){this.oBrowse.setLite(true)}else{this.oBrowse.setType("Transparent")}}else{if(this.oBrowse.setType){this.oBrowse.setType(e)}else{if(e=="Emphasized"){e="Emph"}this.oBrowse.setStyle(e)}}}return this};c.prototype.setValue=function(e,t,i){var s=this.getValue();var o;if(s!=e||this.getSameFilenameAllowed()){var r=this.getUploadOnChange()&&e;this.setProperty("value",e,r);if(this.oFileUpload&&!this.getTooltip_AsString()){this.oFileUpload.setAttribute("title",e?e:this._getNoFileChosenText())}if(this.oFilePath){this.oFilePath.setValue(e);if(this.oBrowse.getDomRef()&&!i&&l(this.getDomRef(),document.activeElement)){this.oBrowse.focus()}}var a=this.getDomRef("fu_form"),n=this.getDomRef("fu_input-inner");if(this.oFileUpload&&a&&!e){a.reset();this.getDomRef("fu_input").value="";if(n){n.value=""}u(this.FUDataEl).val(this.getAdditionalData())}if(t){if(window.File){o=this.FUEl.files}if(!this.getSameFilenameAllowed()||e){this.fireChange({id:this.getId(),newValue:e,files:o})}}if(r){this.upload()}}return this};c.prototype.clear=function(){var e=this.getDomRef("fu_form");if(e){e.reset()}return this.setValue("",false,true)};c.prototype.onmousedown=function(e){if(!this.bMobileLib){this.oBrowse.onmousedown(e)}};c.prototype.onmouseup=function(e){if(!this.bMobileLib){this.oBrowse.onmouseup(e)}};c.prototype.onmouseover=function(e){if(!this.bMobileLib){u(this.oBrowse.getDomRef()).addClass("sapUiBtnStdHover");this.oBrowse.onmouseover(e)}};c.prototype.onmouseout=function(e){if(!this.bMobileLib){u(this.oBrowse.getDomRef()).removeClass("sapUiBtnStdHover");this.oBrowse.onmouseout(e)}};c.prototype.setAdditionalData=function(e){this.setProperty("additionalData",e,true);var t=this.FUDataEl;if(t){e=this.getAdditionalData()||"";t.value=e}return this};c.prototype.sendFiles=function(e,t){var i=this;var s=true;for(var o=0;o<e.length;o++){if(!e[o].bPosted){s=false;break}}if(s){if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){i.setValue("",true)}return}var r=e[t];var a=r.file.name?r.file.name:"MultipartFile";var l=r.requestHeaders;var n=function(e){var t={lengthComputable:!!e.lengthComputable,loaded:e.loaded,total:e.total};i.fireUploadProgress({lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total,fileName:a,requestHeaders:l})};r.xhr.upload.addEventListener("progress",n);r.xhr.onreadystatechange=function(){var e;var t;var s={};var o;var n;var p;var h;h=r.xhr.readyState;var u=r.xhr.status;if(r.xhr.readyState==4){if(r.xhr.responseXML){e=r.xhr.responseXML.documentElement.textContent}t=r.xhr.response;o=r.xhr.getAllResponseHeaders();if(o){n=o.split("\r\n");for(var d=0;d<n.length;d++){if(n[d]){p=n[d].indexOf(": ");s[n[d].substring(0,p)]=n[d].substring(p+2)}}}i.fireUploadComplete({fileName:a,headers:s,response:e,responseRaw:t,readyStateXHR:h,status:u,requestHeaders:l})}i._bUploading=false};if(r.xhr.readyState===0||r.bPosted){t++;i.sendFiles(e,t)}else{r.xhr.send(r.file);r.bPosted=true;t++;i.sendFiles(e,t)}};c.prototype.upload=function(e){var t,i;if(!this.getEnabled()){return}t=this.getDomRef("fu_form");try{this._bUploading=true;if(this.getSendXHR()&&window.File){var s=this.FUEl.files;if(e){this._sendProcessedFilesWithXHR(s)}else{this._sendFilesWithXHR(s)}}else if(t){i=t.getAttribute("action");if(i!==this.getUploadUrl()){this._submitAfterRendering=true}else{this._submitAndResetValue()}}}catch(e){p.error("File upload failed:\n"+e.message)}};c.prototype._submitAndResetValue=function(){var e=this.getDomRef("fu_form");e.submit();this.fireUploadStart();this._resetValueAfterUploadStart()};c.prototype.abort=function(e,t){if(!this.getUseMultipart()){var i=this._aXhr.length-1;for(var s=i;s>-1;s--){if(e&&t){for(var o=0;o<this._aXhr[s].requestHeaders.length;o++){var r=this._aXhr[s].requestHeaders[o].name;var a=this._aXhr[s].requestHeaders[o].value;if(r==e&&a==t){this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);p.info("File upload aborted.");break}}}else{this._aXhr[s].xhr.abort();this.fireUploadAborted({fileName:this._aXhr[s].fileName,requestHeaders:this._aXhr[s].requestHeaders});this._aXhr.splice(s,1);p.info("File upload aborted.")}}}else if(this._uploadXHR&&this._uploadXHR.abort){this._uploadXHR.abort();this.fireUploadAborted({fileName:null,requestHeaders:null});p.info("File upload aborted.")}};c.prototype.onclick=function(e){if(this.getSameFilenameAllowed()&&this.getEnabled()){this.setValue("",true)}if(this.oBrowse.getDomRef()&&(r.browser.safari||l(this.getDomRef(),document.activeElement))){this.oBrowse.focus()}if(e.target.getAttribute("type")==="file"){this.fireBeforeDialogOpen();document.body.onfocus=function(){this.fireAfterDialogClose();document.body.onfocus=null}.bind(this)}};c.prototype.onkeydown=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode;if(t===n.ENTER){if(this.oFileUpload){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}}this.oBrowse._bPressedSpace=false};c.prototype.onkeyup=function(e){if(!this.getEnabled()){return}if(this.getSameFilenameAllowed()&&this.getUploadOnChange()){this.setValue("",true)}var t=e.keyCode,i=n;if(t===i.DELETE||t===i.BACKSPACE){if(this.oFileUpload){this.setValue("",true)}}else if(t===i.SPACE){this.oFileUpload.click();e.preventDefault();e.stopPropagation()}else if(t!==i.TAB&&t!==i.SHIFT&&t!==i.F6&&t!==i.PAGE_UP&&t!==i.PAGE_DOWN&&t!==i.ESCAPE&&t!==i.END&&t!==i.HOME&&t!==i.ARROW_LEFT&&t!==i.ARROW_UP&&t!==i.ARROW_RIGHT&&t!==i.ARROW_DOWN){e.preventDefault();e.stopPropagation()}this.oBrowse._bPressedSpace=false};c.prototype._isFilenameTooLong=function(e){var t=this.getMaximumFilenameLength();if(t!==0&&e.length>t){p.info("The filename of "+e+" ("+e.length+" characters)  is longer than the maximum of "+t+" characters.");return true}return false};c.prototype.handlechange=function(e){if(this.oFileUpload&&this.getEnabled()){var t=this.getFileType();var i="";var s,o,a,l;var n=this.getDomRef("fu_form");if(window.File){var h=e.target.files;if(this._areFilesAllowed(h)){this.fireFileAllowed();i=this._generateInputValue(h)}else{n.reset();this.setValue("",true,true);return}}else if(t&&t.length>0){s=true;o=this.oFileUpload.value||"";a=o.lastIndexOf(".");l=a===-1?"":o.substring(a+1);for(var u=0;u<t.length;u++){if(l==t[u]){s=false}}if(s){p.info("File: "+o+" is of type "+l+". Allowed types are: "+t+".");this.fireTypeMissmatch({fileName:o,fileType:l});n.reset();this.setValue("",true,true);return}if(this._isFilenameTooLong(o)){this.fireFilenameLengthExceed({fileName:o});n.reset();this.setValue("",true,true);return}if(o){this.fireFileAllowed()}}var d=this.oFileUpload.value||"";var f=d.lastIndexOf("\\");if(f>=0){d=d.substring(f+1)}if(this.getMultiple()||this.getDirectory()){d=i}if(d||r.browser.chrome){this.setValue(d,true)}}};c.prototype._sendFilesWithXHR=function(e){var t,i,s,o,r=this.getXhrSettings();if(e.length>0){if(this.getUseMultipart()){t=1}else{t=e.length}this._aXhr=this._aXhr||[];for(var a=0;a<t;a++){this._uploadXHR=new window.XMLHttpRequest;o={xhr:this._uploadXHR,requestHeaders:[]};this._aXhr.push(o);o.xhr.open(this.getHttpRequestMethod(),this.getUploadUrl(),true);if(r){o.xhr.withCredentials=r.getWithCredentials()}if(this.getHeaderParameters()){var l=this.getHeaderParameters();for(var n=0;n<l.length;n++){i=l[n].getName();s=l[n].getValue();o.requestHeaders.push({name:i,value:s})}}var p=e[a].name;var h=o.requestHeaders;o.fileName=p;o.file=e[a];this.fireUploadStart({fileName:p,requestHeaders:h});for(var u=0;u<h.length;u++){if(o.xhr.readyState===0){break}i=h[u].name;s=h[u].value;o.xhr.setRequestHeader(i,s)}}if(this.getUseMultipart()){var d=new window.FormData;var f=this.FUEl.name;for(var g=0;g<e.length;g++){this._appendFileToFormData(d,f,e[g])}d.append("_charset_","UTF-8");var c=this.FUDataEl.name;if(this.getAdditionalData()){var y=this.getAdditionalData();d.append(c,y)}else{d.append(c,"")}if(this.getParameters()){var m=this.getParameters();for(var F=0;F<m.length;F++){var b=m[F].getName();s=m[F].getValue();d.append(b,s)}}o.file=d;this.sendFiles(this._aXhr,0)}else{this.sendFiles(this._aXhr,0)}this._bUploading=false;this._resetValueAfterUploadStart()}return this};c.prototype._appendFileToFormData=function(e,t,i){if(i instanceof window.Blob&&i.name){e.append(t,i,i.name)}else{e.append(t,i)}};c.prototype._sendProcessedFilesWithXHR=function(e){this.getProcessedBlobsFromArray(e).then(function(e){this._sendFilesWithXHR(e)}.bind(this)).catch(function(e){p.error("File upload failed: "+e&&e.message?e.message:"no details available")});return this};c.prototype._areFilesAllowed=function(e){var t,i,s,o,r,a=this.getMaximumFileSize(),l=this.getMimeType(),n=this.getFileType();for(var h=0;h<e.length;h++){t=e[h].name;r=e[h].type||"unknown";var u=e[h].size/1024/1024;if(a&&u>a){p.info("File: "+t+" is of size "+u+" MB which exceeds the file size limit of "+a+" MB.");this.fireFileSizeExceed({fileName:t,fileSize:u});return false}if(u===0){p.info("File: "+t+" is empty!");this.fireFileEmpty({fileName:t})}if(this._isFilenameTooLong(t)){this.fireFilenameLengthExceed({fileName:t});return false}if(l&&l.length>0){var d=true;for(var f=0;f<l.length;f++){if(r==l[f]||l[f]=="*/*"||r.match(l[f])){d=false}}if(d&&r!=="unknown"){p.info("File: "+t+" is of type "+r+". Allowed types are: "+l+".");this.fireTypeMissmatch({fileName:t,mimeType:r});return false}}if(n&&n.length>0){i=true;s=t.lastIndexOf(".");o=s===-1?"":t.substring(s+1);for(var g=0;g<n.length;g++){if(o.toLowerCase()==n[g].toLowerCase()){i=false}}if(i){p.info("File: "+t+" is of type "+o+". Allowed types are: "+n+".");this.fireTypeMissmatch({fileName:t,fileType:o});return false}}}return true};c.prototype._sendFilesFromDragAndDrop=function(e){if(this._areFilesAllowed(e)){this._sendFilesWithXHR(e)}return this};c.prototype._generateInputValue=function(e){var t="";for(var i=0;i<e.length;i++){t=t+'"'+e[i].name+'" '}return t};c.prototype.getBrowseText=function(){if(!c.prototype._sBrowseText){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");c.prototype._sBrowseText=e.getText("FILEUPLOAD_BROWSE")}return c.prototype._sBrowseText?c.prototype._sBrowseText:"Browse..."};c.prototype._getNoFileChosenText=function(){if(!c.prototype._sNoFileChosenText){var e=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");c.prototype._sNoFileChosenText=e.getText("FILEUPLOAD_NO_FILE_CHOSEN")}return c.prototype._sNoFileChosenText?c.prototype._sNoFileChosenText:"No file chosen"};c.prototype.getShortenValue=function(){return this.getValue()};c.prototype.prepareFileUploadAndIFrame=function(){this._prepareFileUpload();if(!this.oIFrameRef){var e=document.createElement("iframe");e.style.display="none";e.id=this.getId()+"-frame";sap.ui.getCore().getStaticAreaRef().appendChild(e);e.contentWindow.name=this.getId()+"-frame";this._bUploading=false;u(e).on("load",function(e){if(this._bUploading){p.info("File uploaded to "+this.getUploadUrl());var t;try{t=this.oIFrameRef.contentWindow.document.body.innerHTML}catch(e){}this.fireUploadComplete({response:t});this._bUploading=false}}.bind(this));this.oIFrameRef=e}};c.prototype._prepareFileUpload=function(){if(!this.oFileUpload){var e=[];e.push("<input ");e.push('type="file" ');e.push('aria-hidden="true" ');if(this.getName()){if(this.getMultiple()||this.getDirectory()){e.push('name="'+h(this.getName())+'[]" ')}else{e.push('name="'+h(this.getName())+'" ')}}else{if(this.getMultiple()||this.getDirectory()){e.push('name="'+this.getId()+'[]" ')}else{e.push('name="'+this.getId()+'" ')}}e.push('id="'+this.getId()+'-fu" ');e.push('tabindex="-1" ');e.push('size="1" ');if(this.getTooltip_AsString()){e.push('title="'+h(this.getTooltip_AsString())+'" ')}else{e.push('title="'+h(this.getValue()?this.getValue():this._getNoFileChosenText())+'" ')}if(!this.getEnabled()){e.push('disabled="disabled" ')}if(this.getDirectory()){e.push("webkitdirectory ")}if(this.getMultiple()){e.push("multiple ")}if((this.getMimeType()||this.getFileType())&&window.File){var t=this._getAcceptedTypes();e.push('accept="'+h(t)+'" ')}e.push(">");this.oFileUpload=u(e.join("")).prependTo(this.$().find(".sapUiFupInputMask")).get(0)}else{u(this.oFileUpload).prependTo(this.$().find(".sapUiFupInputMask"))}};c.prototype.openValueStateMessage=function(){if(this.oFilePath.openValueStateMessage){this.oFilePath.openValueStateMessage()}};c.prototype.closeValueStateMessage=function(){if(this.oFilePath.closeValueStateMessage){this.oFilePath.closeValueStateMessage()}};c.prototype._getAcceptedTypes=function(){var e=this.getMimeType()||[],t=this.getFileType()||[];t=t.map(function(e){return e.indexOf(".")===0?e:"."+e});return t.concat(e).join(",")};c.prototype._resetValueAfterUploadStart=function(){p.info("File uploading to "+this.getUploadUrl());if(this.getSameFilenameAllowed()&&this.getUploadOnChange()&&this.getUseMultipart()){this.setValue("",true)}};c.prototype._addLabelFeaturesToBrowse=function(){var e;if(this.oBrowse&&this.oBrowse.$().length){e=this.oBrowse.$();e.attr("type', 'button");e.off("click").on("click",function(e){e.preventDefault();e.stopPropagation();this.FUEl.click()}.bind(this))}};c.prototype.getProcessedBlobsFromArray=function(e){return new Promise(function(t){t(e)})};c.prototype.checkFileReadable=function(){return new Promise(function(e,t){var i;if(window.File&&this.FUEl&&this.FUEl.files.length){var i=new FileReader;i.readAsArrayBuffer(this.FUEl.files[0].slice(0,1));i.onload=function(){e()};i.onerror=function(){t(i.error)}}else{e()}}.bind(this))};return c});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderParameter",["sap/ui/core/Element","./library"],function(e,a){"use strict";var r=e.extend("sap.ui.unified.FileUploaderParameter",{metadata:{library:"sap.ui.unified",properties:{name:{type:"string",group:"Data",defaultValue:null},value:{type:"string",group:"Data",defaultValue:null}}}});return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/FileUploaderRenderer",["sap/ui/unified/library","sap/ui/thirdparty/jquery"],function(e,t){"use strict";var a={};a.apiVersion=2;a.render=function(a,r){var n=r.getEnabled();a.openStart("div",r);a.class("sapUiFup");if(r.getButtonOnly()){a.class("sapUiFupButtonOnly")}var i=e.FileUploaderHelper.addFormClass();if(i){a.class(i)}if(!n){a.class("sapUiFupDisabled")}a.openEnd();a.openStart("form",r.getId()+"-fu_form");a.style("display","inline-block");a.attr("enctype","multipart/form-data");a.attr("method",r.getHttpRequestMethod().toLowerCase());a.attr("action",r.getUploadUrl());a.attr("target",r.getId()+"-frame");a.openEnd();a.openStart("div");if(!r.bMobileLib){a.class("sapUiFupInp")}a.openEnd();a.openStart("div");a.class("sapUiFupGroup");a.style("border","0");a.style("cellPadding","0");a.style("cellSpacing","0");a.openEnd();a.openStart("div");a.openEnd();a.openStart("div");if(r.getButtonOnly()){a.style("display","none")}a.openEnd();a.renderControl(r.oFilePath);a.close("div");a.openStart("div");a.openEnd();r._ensureBackwardsReference();a.renderControl(r.oBrowse);a.openStart("span",r.getId()+"-AccDescr");a.class("sapUiInvisibleText");a.attr("aria-hidden","true");a.openEnd();a.text(r._generateAccDescriptionText());a.close("span");a.close("div");a.close("div");a.close("div");var d=r.getName()||r.getId();a.openStart("div");a.class("sapUiFupInputMask");a.openEnd();a.voidStart("input");a.attr("type","hidden");a.attr("name","_charset_");a.attr("aria-hidden","true");a.voidEnd();a.voidStart("input",r.getId()+"-fu_data");a.attr("type","hidden");a.attr("aria-hidden","true");a.attr("name",d+"-data");a.attr("value",r.getAdditionalData()||"");a.voidEnd();t.each(r.getParameters(),function(e,t){a.voidStart("input");a.attr("type","hidden");a.attr("aria-hidden","true");a.attr("name",t.getName()||"");a.attr("value",t.getValue()||"");a.voidEnd()});a.close("div");a.close("div");a.close("form");a.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/Menu",["sap/ui/core/Element","sap/ui/core/Control","sap/ui/Device","sap/ui/core/Popup","./MenuItemBase","./library","sap/ui/core/library","sap/ui/unified/MenuRenderer","sap/ui/dom/containsOrEquals","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/base/Log","sap/ui/events/ControlEvents","sap/ui/events/PseudoEvents","sap/ui/events/checkMouseEnterOrLeave","sap/ui/core/Configuration"],function(e,t,i,n,o,s,r,u,a,p,h,f,l,d,c,g){"use strict";var m=n.Dock;var y=r.OpenState;var b=t.extend("sap.ui.unified.Menu",{metadata:{interfaces:["sap.ui.core.IContextMenu"],library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},ariaDescription:{type:"string",group:"Accessibility",defaultValue:null,deprecated:true},maxVisibleItems:{type:"int",group:"Behavior",defaultValue:0},pageSize:{type:"int",group:"Behavior",defaultValue:5}},defaultAggregation:"items",aggregations:{items:{type:"sap.ui.unified.MenuItemBase",multiple:true,singularName:"item"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{itemSelect:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}},renderer:u});(function(s){b.prototype.bCozySupported=true;b._DELAY_SUBMENU_TIMER=300;b._DELAY_SUBMENU_TIMER_EXT=400;b.prototype.init=function(){var e=this;this.bOpen=false;this.oOpenedSubMenu=null;this.oHoveredItem=null;this.oPopup=null;this._bOpenedAsContextMenu=false;this.fAnyEventHandlerProxy=p.proxy(function(e){var t=this.getRootMenu();if(t!=this||!this.bOpen||!this.getDomRef()||e.type!="mousedown"&&e.type!="touchstart"){return}t.handleOuterEvent(this.getId(),e)},this);this.fOrientationChangeHandler=function(){e.close()};this.bUseTopStyle=false};b.prototype._setCustomEnhanceAccStateFunction=function(e){this._fnCustomEnhanceAccStateFunction=e};b.prototype.enhanceAccessibilityState=function(e,t){var i=typeof this._fnCustomEnhanceAccStateFunction==="function";if(i){this._fnCustomEnhanceAccStateFunction(e,t)}};b.prototype.exit=function(){if(this.oPopup){this.oPopup.detachClosed(this._menuClosed,this);this.oPopup.destroy();delete this.oPopup}l.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){p(s).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this._resetDelayedRerenderItems();this._detachResizeHandler()};b.prototype.invalidate=function(e){if(e instanceof o&&this.getDomRef()){this._delayedRerenderItems()}else{t.prototype.invalidate.apply(this,arguments)}};b.prototype.onBeforeRendering=function(){this._resetDelayedRerenderItems();this.$().off("mousemove")};b.prototype.onAfterRendering=function(){if(this.$().parent().attr("id")!="sap-ui-static"){f.error("sap.ui.unified.Menu: The Menu is popup based and must not be rendered directly as content of the page.");this.close();this.$().remove()}var e=this.getItems();for(var t=0;t<e.length;t++){if(e[t].onAfterRendering&&e[t].getDomRef()){e[t].onAfterRendering()}}if(this.oHoveredItem){this.oHoveredItem.hover(true,this)}I(this);this.$().on("mousemove",this._focusMenuItem.bind(this))};b.prototype._focusMenuItem=function(e){if(!i.system.desktop){return}var t=this.getItemByDomRef(e.target);if(!this.bOpen||!t){return}if(this.oOpenedSubMenu&&a(this.oOpenedSubMenu.getDomRef(),e.target)){return}this.setHoveredItem(t);t&&t.focus(this);this._openSubMenuDelayed(t)};b.prototype.onThemeChanged=function(){if(this.getDomRef()&&this.getPopup().getOpenState()===y.OPEN){I(this);this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}};b.prototype.addItem=function(e){this.addAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};b.prototype.insertItem=function(e,t){this.insertAggregation("items",e,t,!!this.getDomRef());this._delayedRerenderItems();return this};b.prototype.removeItem=function(e){this.removeAggregation("items",e,!!this.getDomRef());this._delayedRerenderItems();return this};b.prototype.removeAllItems=function(){var e=this.removeAllAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return e};b.prototype.destroyItems=function(){this.destroyAggregation("items",!!this.getDomRef());this._delayedRerenderItems();return this};b.prototype._delayedRerenderItems=function(){if(!this.getDomRef()){return}this._resetDelayedRerenderItems();this._discardOpenSubMenuDelayed();this._itemRerenderTimer=setTimeout(function(){var e=this.getDomRef();if(e){var t=sap.ui.getCore().createRenderManager();u.renderItems(t,this);t.flush(e);t.destroy();this.onAfterRendering();this.getPopup()._applyPosition(this.getPopup()._oLastPosition)}}.bind(this),0)};b.prototype._resetDelayedRerenderItems=function(){if(this._itemRerenderTimer){clearTimeout(this._itemRerenderTimer);delete this._itemRerenderTimer}};b.prototype._detachResizeHandler=function(){if(this._hasResizeListener){i.resize.detachHandler(this._handleResizeChange,this);this._hasResizeListener=false}};b.prototype.open=function(e,t,n,o,r,u,a){var h;if(this.bOpen){return}v(this,true);this.oOpenerRef=t;this.bIgnoreOpenerDOMRef=false;this.getPopup().open(0,n,o,r,u||"0 0",a||"flipfit flipfit",function(e){var t=this.getPopup()._getOfDom(r);if(!t||!p(t).is(":visible")||!S(t)){this.close()}else{this.getPopup()._applyPosition(e.lastPosition)}}.bind(this));this.bOpen=true;i.resize.attachHandler(this._handleResizeChange,this);this._hasResizeListener=true;if(e||this.getRootMenu().getId()===this.getId()){h=this.getNextSelectableItem(-1);this.setHoveredItem(h);h&&h.focus(this)}l.bindAnyEvent(this.fAnyEventHandlerProxy);if(i.support.orientation&&this.getRootMenu()===this){p(s).on("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=true}};b.prototype._handleResizeChange=function(){this.getPopup()._applyPosition(this.getPopup()._oLastPosition)};b.prototype.openAsContextMenu=function(t,i){var n,o,s,r,u;i=i instanceof e?i.getDomRef():i;if(t instanceof p.Event){u=p(i).offset();n=t.pageX-u.left;o=t.pageY-u.top;this._iX=t.clientX;this._iY=t.clientY}else{n=t.offsetX||0;o=t.offsetY||0;this._iX=t.left||0;this._iY=t.top||0}s=g.getRTL();r=m;if(s){n=i.clientWidth-n}this._bOpenedAsContextMenu=true;this.open(true,i,r.BeginTop,r.BeginTop,i,n+" "+o,"fit")};b.prototype._handleOpened=function(){var e,t,i,n,o,r,u,a,h,f;if(!this._bOpenedAsContextMenu){return}e=this.$();t=p(s);i=this._iX;n=this._iY;o=t.scrollLeft()+t.width();r=t.scrollTop()+t.height();u=g.getRTL();a=false;h=e.width();f=e.height();if(n+f>r){n=n-f;a=true}if(u){if(o-i+h>o){i=o-(i+h);a=true}else{i=o-i;a=true}}else{if(i+h>o){i=i-h;a=true}}this._bOpenedAsContextMenu=false;a&&this.oPopup.setPosition("begin top","begin top",t,i+" "+n,"flipfit")};b.prototype.close=function(e){if(!this.bOpen||b._dbg){return}this._discardOpenSubMenuDelayed();v(this,false);delete this._bFixed;l.unbindAnyEvent(this.fAnyEventHandlerProxy);if(this._bOrientationChangeBound){p(s).off("orientationchange",this.fOrientationChangeHandler);this._bOrientationChangeBound=false}this.bOpen=false;this.closeSubmenu();this.setHoveredItem();if(!e){this.bIgnoreOpenerDOMRef=true}this.getPopup().close(0);this._detachResizeHandler();this._resetDelayedRerenderItems();this.$().remove();this.bOutput=false;if(this.isSubMenu()){this.getParent().getParent().oOpenedSubMenu=null}};b.prototype._menuClosed=function(){if(this.oOpenerRef){if(!this.bIgnoreOpenerDOMRef){try{this.oOpenerRef.focus()}catch(e){f.warning("Menu.close cannot restore the focus on opener "+this.oOpenerRef+", "+e)}}this.oOpenerRef=undefined}};b.prototype.onclick=function(e){this.selectItem(this.getItemByDomRef(e.target),false,!!(e.metaKey||e.ctrlKey));e.preventDefault();e.stopPropagation()};b.prototype.onsapnext=function(e){var t,i,n=this.oHoveredItem?this.oHoveredItem.getSubmenu():undefined;if(e.keyCode!==h.ARROW_DOWN&&!e.metaKey&&!e.altKey){if(n&&this.checkEnabled(this.oHoveredItem)){if(n.bOpen){i=n.getNextSelectableItem(-1);n.setHoveredItem(i);i&&i.focus(this)}else{this.openSubmenu(this.oHoveredItem,true)}}return}if(n&&n.bOpen){this.closeSubmenu(false,true)}t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1;i=this.getNextSelectableItem(t);this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};b.prototype.onsapnextmodifiers=b.prototype.onsapnext;b.prototype.onsapprevious=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i=this.getPreviousSelectableItem(t),n=this.oHoveredItem?this.oHoveredItem.getSubmenu():null;if(e.keyCode!==h.ARROW_UP&&!e.metaKey&&!e.altKey){if(this.isSubMenu()){this.close(true)}e.preventDefault();e.stopPropagation();return}if(n&&n.bOpen){this.closeSubmenu(false,true)}this.setHoveredItem(i);i&&i.focus(this);if(!e.metaKey&&!e.altKey){e.preventDefault();e.stopPropagation()}};b.prototype.onsappreviousmodifiers=b.prototype.onsapprevious;b.prototype.onsaphome=function(e){var t=this.getNextSelectableItem(-1);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};b.prototype.onsapend=function(e){var t=this.getPreviousSelectableItem(this.getItems().length);this.setHoveredItem(t);t&&t.focus(this);e.preventDefault();e.stopPropagation()};b.prototype.onsappagedown=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsapend(e);return}t+=this.getPageSize();if(t>=this.getItems().length){this.onsapend(e);return}i=this.getNextSelectableItem(t-1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};b.prototype.onsappageup=function(e){var t=this.oHoveredItem?this.indexOfAggregation("items",this.oHoveredItem):-1,i;if(this.getPageSize()<1){this.onsaphome(e);return}t-=this.getPageSize();if(t<0){this.onsaphome(e);return}i=this.getPreviousSelectableItem(t+1);this.setHoveredItem(i);i&&i.focus(this);e.preventDefault();e.stopPropagation()};b.prototype.onsapselect=function(e){this._sapSelectOnKeyDown=true;e.preventDefault();e.stopPropagation()};b.prototype.onkeyup=function(e){if(this.oHoveredItem&&p(e.target).prop("tagName")!="INPUT"){var t=this.oHoveredItem.getDomRef();p(t).trigger("focus")}if(!this._sapSelectOnKeyDown&&(e.key!==h.Space||!i.os.macintosh&&s.navigator.maxTouchPoints<=1)){return}else{this._sapSelectOnKeyDown=false}if(!d.events.sapselect.fnCheck(e)&&e.key!=="Enter"){return}this.selectItem(this.oHoveredItem,true,false);e.preventDefault();e.stopPropagation()};b.prototype.onsapbackspace=function(e){if(p(e.target).prop("tagName")!="INPUT"){e.preventDefault()}};b.prototype.onsapbackspacemodifiers=b.prototype.onsapbackspace;b.prototype.onsapescape=function(e){this.close(true);e.preventDefault();e.stopPropagation()};b.prototype.onsaptabnext=function(e){if(this.isSubMenu()){e.preventDefault()}this.close(true);e.stopPropagation()};b.prototype.onsaptabprevious=b.prototype.onsaptabnext;b.prototype._openSubMenuDelayed=function(e){if(!e){return}this._discardOpenSubMenuDelayed();this._delayedSubMenuTimer=setTimeout(function(){this.checkEnabled(e)&&this.closeSubmenu(false,true);if(this.checkEnabled(e)&&e.getSubmenu()){this.setHoveredItem(e);e&&e.focus(this);this.openSubmenu(e,false,true)}}.bind(this),e.getSubmenu()&&this.checkEnabled(e)?b._DELAY_SUBMENU_TIMER:b._DELAY_SUBMENU_TIMER_EXT)};b.prototype._discardOpenSubMenuDelayed=function(e){if(this._delayedSubMenuTimer){clearTimeout(this._delayedSubMenuTimer);this._delayedSubMenuTimer=null}};b.prototype.onmouseout=function(e){if(!i.system.desktop){return}if(c(e,this.getDomRef())){this.setHoveredItem(null);if(!this.oOpenedSubMenu||!(this.oOpenedSubMenu.getParent()===this.oHoveredItem)){this.setHoveredItem(this.oHoveredItem)}this._discardOpenSubMenuDelayed()}};b.prototype.onsapfocusleave=function(e){if(this.oOpenedSubMenu||!this.bOpen){return}this.getRootMenu().handleOuterEvent(this.getId(),e)};b.prototype.handleOuterEvent=function(e,t){var n=false,o=i.support.touch||i.system.combi;this.bIgnoreOpenerDOMRef=false;if(t.type=="mousedown"||t.type=="touchstart"){if(o&&(t.isMarked("delayedMouseEvent")||t.isMarked("cancelAutoClose"))){return}var s=this;while(s&&!n){if(a(s.getDomRef(),t.target)){n=true}s=s.oOpenedSubMenu}}else if(t.type=="sapfocusleave"){if(o){return}if(t.relatedControlId){var s=this;while(s&&!n){if(s.oOpenedSubMenu&&s.oOpenedSubMenu.getId()==t.relatedControlId||a(s.getDomRef(),p(document.getElementById(t.relatedControlId)).get(0))){n=true}s=s.oOpenedSubMenu}}if(!n){this.bIgnoreOpenerDOMRef=true}}if(!n){this.close()}};b.prototype.getItemByDomRef=function(e){var t=this.getItems(),i=t.length;for(var n=0;n<i;n++){var o=t[n],s=o.getDomRef();if(a(s,e)){return o}}return null};b.prototype.selectItem=function(e,t,n){if(!e||!(e instanceof o&&this.checkEnabled(e))){return}var s=e.getSubmenu();if(!s){this.getRootMenu().close(true)}else{if(!i.system.desktop&&this.oOpenedSubMenu===s){this.closeSubmenu()}else{this.openSubmenu(e,t)}}e.fireSelect({item:e,ctrlKey:n});this.getRootMenu().fireItemSelect({item:e})};b.prototype.isSubMenu=function(){return this.getParent()&&this.getParent().getParent&&this.getParent().getParent()instanceof b};b.prototype.getRootMenu=function(){var e=this;while(e.isSubMenu()){e=e.getParent().getParent()}return e};b.prototype.getMenuLevel=function(){var e=1;var t=this;while(t.isSubMenu()){t=t.getParent().getParent();e++}return e};b.prototype.getPopup=function(){if(!this.oPopup){this.oPopup=new n(this,false,true,false);this.oPopup.setDurations(0,0);this.oPopup.attachClosed(this._menuClosed,this);this.oPopup.attachOpened(this._handleOpened,this)}return this.oPopup};b.prototype.setHoveredItem=function(e){if(this.oHoveredItem){this.oHoveredItem.hover(false,this)}if(!e){this.oHoveredItem=null;return}this.oHoveredItem=e;e.hover(true,this);this.scrollToItem(this.oHoveredItem)};b.prototype.openSubmenu=function(e,t,i){var o=e.getSubmenu();if(!o){return}if(this.oOpenedSubMenu&&this.oOpenedSubMenu!==o){this.closeSubmenu()}if(this.oOpenedSubMenu){this.oOpenedSubMenu._bFixed=i&&this.oOpenedSubMenu._bFixed||!i&&!this.oOpenedSubMenu._bFixed;this.oOpenedSubMenu._bringToFront()}else{this.oOpenedSubMenu=o;var s=n.Dock;o.open(t,e,s.BeginTop,s.EndTop,e,"-4 4")}};b.prototype.closeSubmenu=function(e,t){if(this.oOpenedSubMenu){if(e&&this.oOpenedSubMenu._bFixed){return}if(t){this.oOpenedSubMenu.bIgnoreOpenerDOMRef=true}this.oOpenedSubMenu.close();this.oOpenedSubMenu=null}};b.prototype.scrollToItem=function(e){var t=this.getDomRef(),i=e?e.getDomRef():null;if(!i||!t){return}var n=t.scrollTop,o=i.offsetTop,s=p(t).height(),r=p(i).height();if(n>o){t.scrollTop=o}else if(o+r>n+s){t.scrollTop=Math.ceil(o+r-s)}};b.prototype._bringToFront=function(){p(document.getElementById(this.getPopup().getId())).mousedown()};b.prototype.checkEnabled=function(e){return e&&e.getEnabled()&&this.getEnabled()};b.prototype.getNextSelectableItem=function(e){var t=null;var i=this.getItems();for(var n=e+1;n<i.length;n++){if(i[n].getVisible()&&this.checkEnabled(i[n])){t=i[n];break}}if(!t){for(var n=0;n<=e;n++){if(i[n].getVisible()&&this.checkEnabled(i[n])){t=i[n];break}}}return t};b.prototype.getPreviousSelectableItem=function(e){var t=null;var i=this.getItems();for(var n=e-1;n>=0;n--){if(i[n].getVisible()&&this.checkEnabled(i[n])){t=i[n];break}}if(!t){for(var n=i.length-1;n>=e;n--){if(i[n].getVisible()&&this.checkEnabled(i[n])){t=i[n];break}}}return t};b.prototype.setRootMenuTopStyle=function(e){this.getRootMenu().bUseTopStyle=e;b.rerenderMenu(this.getRootMenu())};b.rerenderMenu=function(e){var t=e.getItems();for(var i=0;i<t.length;i++){var n=t[i].getSubmenu();if(n){b.rerenderMenu(n)}}e.invalidate();e.rerender()};b.prototype.focus=function(){if(this.bOpen){t.prototype.focus.apply(this,arguments)}};b.prototype.isCozy=function(){if(!this.bCozySupported){return false}if(this.hasStyleClass("sapUiSizeCozy")){return true}if(r(this.oOpenerRef)){return true}if(r(this.getParent())){return true}return false};function r(e){if(!e){return false}e=e.$?e.$():p(e);return e.closest(".sapUiSizeCompact,.sapUiSizeCondensed,.sapUiSizeCozy").hasClass("sapUiSizeCozy")}function v(e,t){var i=e.getParent();if(i&&i instanceof o){i.onSubmenuToggle(t)}}function I(e){var t=e.getMaxVisibleItems(),i=document.documentElement.clientHeight-10,n=e.$();if(t>0){var o=e.getItems();for(var s=0;s<o.length;s++){if(o[s].getDomRef()){i=Math.min(i,o[s].$().outerHeight(true)*t);break}}}if(n.outerHeight(true)>i){n.css("max-height",i+"px").toggleClass("sapUiMnuScroll",true)}else{n.css("max-height","").toggleClass("sapUiMnuScroll",false)}}function S(e){var t;if(!e){return false}if(e instanceof p){e=e.get(0)}t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(s.innerHeight||document.documentElement.clientHeight)&&t.right<=(s.innerWidth||document.documentElement.clientWidth)}})(window);return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItem",["sap/ui/core/IconPool","./MenuItemBase","./library","sap/ui/core/library"],function(e,t,i,s){"use strict";var a=t.extend("sap.ui.unified.MenuItem",{metadata:{library:"sap.ui.unified",properties:{text:{type:"string",group:"Appearance",defaultValue:""},icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}}}});e.insertFontFaceStyle();a.prototype.render=function(e,t,i,a){var n=e,o=t.getSubmenu(),l=t.getEnabled();n.openStart("li",t);if(t.getVisible()&&l){n.attr("tabindex","0")}n.class("sapUiMnuItm");if(a.iItemNo==1){n.class("sapUiMnuItmFirst")}else if(a.iItemNo==a.iTotalItems){n.class("sapUiMnuItmLast")}if(!i.checkEnabled(t)){n.class("sapUiMnuItmDsbl")}if(t.getStartsSection()){n.class("sapUiMnuItmSepBefore")}if(!l){n.attr("disabled","disabled")}if(t.getTooltip_AsString()){n.attr("title",t.getTooltip_AsString())}if(a.bAccessible){n.accessibilityState(t,{role:"menuitem",disabled:null,posinset:a.iItemNo,setsize:a.iTotalItems,labelledby:{value:this.getId()+"-txt",append:true}});if(o){n.attr("aria-haspopup",s.aria.HasPopup.Menu.toLowerCase());n.attr("aria-owns",o.getId())}}n.openEnd();n.openStart("div");n.class("sapUiMnuItmL");n.openEnd();n.close("div");if(t.getIcon()){n.openStart("div");n.class("sapUiMnuItmIco");n.openEnd();n.icon(t.getIcon(),null,{title:null});n.close("div")}n.openStart("div",this.getId()+"-txt");n.class("sapUiMnuItmTxt");n.openEnd();n.text(t.getText());n.close("div");n.openStart("div",this.getId()+"-scuttxt");n.class("sapUiMnuItmSCut");n.openEnd();n.close("div");n.openStart("div");n.class("sapUiMnuItmSbMnu");n.openEnd();if(o){n.openStart("div");n.class("sapUiIconMirrorInRTL");n.openEnd();n.close("div")}n.close("div");n.openStart("div");n.class("sapUiMnuItmR");n.openEnd();n.close("div");n.close("li")};a.prototype.hover=function(e,t){this.$().toggleClass("sapUiMnuItmHov",e)};a.prototype.focus=function(e){if(this.getEnabled()&&this.getVisible()){this.$().trigger("focus")}else{e.focus()}};return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuItemBase",["sap/ui/core/Element","./library"],function(e,t){"use strict";var n=e.extend("sap.ui.unified.MenuItemBase",{metadata:{library:"sap.ui.unified",properties:{enabled:{type:"boolean",group:"Behavior",defaultValue:true},visible:{type:"boolean",group:"Behavior",defaultValue:true},startsSection:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"submenu",aggregations:{submenu:{type:"sap.ui.unified.Menu",multiple:false}},events:{select:{parameters:{item:{type:"sap.ui.unified.MenuItemBase"}}}}}});n.prototype.init=function(){};n.prototype.render=function(e,t,n){var o=e;o.openStart("li",t);o.openEnd();o.openStart("div",this.getId()+"-txt");o.style("white-space","nowrap");o.style("display","inline-block");o.style("padding","1px");o.style("color","black");o.openEnd();o.text(t.getId());if(this.getSubmenu()){o.text("&nbsp;&nbsp;->")}o.close("div");o.close("li")};n.prototype.hover=function(e,t){this.$("txt").attr("style",e?"white-space:nowrap;display:inline-block;padding:1px;color:red;":"white-space:nowrap;display:inline-block;padding:1px;color:black;")};n.prototype.focus=function(){};n.prototype.onSubmenuToggle=function(e){this.$().toggleClass("sapUiMnuItmSubMnuOpen",e)};n.prototype.onAfterRendering=function(){};n.prototype.onsapshow=function(e){if(this.getParent()&&this.getParent().close){this.getParent().close(true)}e.preventDefault()};n.prototype.onsaphide=n.prototype.onsapshow;return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/MenuRenderer",["sap/ui/core/Configuration"],function(e){"use strict";var i={apiVersion:2};i.render=function(t,s){var n=e.getAccessibility(),o=s.getRootMenu();if(s.oHoveredItem&&s.indexOfItem(s.oHoveredItem)<0){s.oHoveredItem=null}t.openStart("div",s);t.attr("tabindex",-1);t.attr("hideFocus",true);if(s.getTooltip_AsString()){t.attr("title",s.getTooltip_AsString())}if(n){t.accessibilityState(s,{disabled:null})}t.class("sapUiMnu");if(s.isSubMenu()){t.class("sapUiSubmenu")}if(o.bUseTopStyle){t.class("sapUiMnuTop")}if(o.isCozy()){t.class("sapUiSizeCozy")}if(s.bCozySupported){t.class("sapUiMnuCozySupport")}t.openEnd();i.renderItems(t,s);t.close("div")};i.renderItems=function(i,t){var s=t.getItems(),n=e.getAccessibility(),o=false,r=false,a=0,l=0,u,p;i.openStart("ul");i.attr("role","menu");i.class("sapUiMnuLst");for(u=0;u<s.length;u++){if(s[u].getIcon&&s[u].getIcon()){o=true}if(s[u].getSubmenu()){r=true}}if(!o){i.class("sapUiMnuNoIco")}if(!r){i.class("sapUiMnuNoSbMnu")}i.openEnd();a=0;for(u=0;u<s.length;u++){if(s[u].getVisible()&&s[u].render){a++}}for(u=0;u<s.length;u++){p=s[u];if(p.getVisible()&&p.render){l++;if(p.getStartsSection()){i.openStart("li");if(n){i.attr("role","separator")}i.class("sapUiMnuDiv");i.openEnd();i.openStart("div");i.class("sapUiMnuDivL");i.openEnd();i.close("div");i.voidStart("hr").voidEnd();i.openStart("div");i.class("sapUiMnuDivR");i.openEnd();i.close("div");i.close("li")}p.render(i,p,t,{bAccessible:n,iItemNo:l,iTotalItems:a})}}i.close("ul")};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarDate",["sap/ui/base/Object","sap/ui/core/date/UniversalDate"],function(t,e){"use strict";var a=t.extend("sap.ui.unified.calendar.CalendarDate",{constructor:function(){var t=arguments,e,r,o;switch(t.length){case 0:r=new Date;return a.call(this,r.getFullYear(),r.getMonth(),r.getDate());case 1:case 2:if(!(t[0]instanceof a)){throw"Invalid arguments: the first argument must be of type sap.ui.unified.calendar.CalendarDate."}o=t[1]?t[1]:t[0]._oUDate.sCalendarType;e=new Date(t[0].valueOf());e.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());e.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());this._oUDate=n(e,o);break;case 3:case 4:i(t[0],"Invalid year: "+t[0]);i(t[1],"Invalid month: "+t[1]);i(t[2],"Invalid date: "+t[2]);e=new Date(0,0,1);e.setFullYear(t[0],t[1],t[2]);if(t[3]){o=t[3]}this._oUDate=n(e,o);break;default:throw"Invalid arguments. Accepted arguments are: 1) oCalendarDate, (optional)calendarType"+"or 2) year, month, date, (optional) calendarType"+t}}});a.prototype.getYear=function(){return this._oUDate.getUTCFullYear()};a.prototype.setYear=function(t){i(t,"Invalid year: "+t);this._oUDate.setUTCFullYear(t);return this};a.prototype.getMonth=function(){return this._oUDate.getUTCMonth()};a.prototype.setMonth=function(t,e){i(t,"Invalid month: "+t);if(e||e===0){i(e,"Invalid date: "+e);this._oUDate.setUTCMonth(t,e)}else{this._oUDate.setUTCMonth(t)}return this};a.prototype.getDate=function(){return this._oUDate.getUTCDate()};a.prototype.setDate=function(t){i(t,"Invalid date: "+t);this._oUDate.setUTCDate(t);return this};a.prototype.getDay=function(){return this._oUDate.getUTCDay()};a.prototype.getCalendarType=function(){return this._oUDate.sCalendarType};a.prototype.getEra=function(){return this._oUDate.getUTCEra()};a.prototype.isBefore=function(t){o(t);return this.valueOf()<t.valueOf()};a.prototype.isAfter=function(t){o(t);return this.valueOf()>t.valueOf()};a.prototype.isSameOrBefore=function(t){o(t);return this.valueOf()<=t.valueOf()};a.prototype.isSameOrAfter=function(t){o(t);return this.valueOf()>=t.valueOf()};a.prototype.isSame=function(t){o(t);return this.valueOf()===t.valueOf()};a.prototype.toLocalJSDate=function(){var t=new Date(this._oUDate.getTime());t.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());t.setHours(0,0,0,0);return t};a.prototype.toUTCJSDate=function(){var t=new Date(this._oUDate.getTime());t.setUTCHours(0,0,0,0);return t};a.prototype.toString=function(){return this._oUDate.sCalendarType+": "+this.getYear()+"/"+(this.getMonth()+1)+"/"+this.getDate()};a.prototype.valueOf=function(){return this._oUDate.getTime()};a.fromLocalJSDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript Date object: ["+t+"].")}return new a(t.getFullYear(),t.getMonth(),t.getDate(),e)};a.fromUTCDate=function(t,e){if(!t||Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t)){throw new Error("Date parameter must be a JavaScript Date object: ["+t+"].")}return new a(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),e)};function n(t,a){if(a){return e.getInstance(r(t),a)}else{return new e(r(t).getTime())}}function r(t){var e=new Date(Date.UTC(0,0,1));e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate());return e}function o(t){if(!(t instanceof a)){throw"Invalid calendar date: ["+t+"]. Expected: sap.ui.unified.calendar.CalendarDate"}}function i(t,e){if(t==undefined||t===Infinity||isNaN(t)){throw e}}return a});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/CalendarUtils",["sap/ui/core/date/UniversalDate","./CalendarDate","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/core/format/TimezoneUtil","sap/ui/core/Configuration"],function(e,t,a,n,r,i){"use strict";var s={};s.MAX_MILLISECONDS=864e13;s.HOURS24=1e3*3600*24;s._createLocalDate=function(t,a){var n;if(t){var r;if(t instanceof e){r=t.getJSDate()}else{r=t}n=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate());if(r.getFullYear()<1e3){n.setFullYear(r.getFullYear())}if(a){n.setHours(r.getUTCHours());n.setMinutes(r.getUTCMinutes());n.setSeconds(r.getUTCSeconds());n.setMilliseconds(r.getUTCMilliseconds())}}return n};s._createUTCDate=function(t,a){var n;if(t){var r;if(t instanceof e){r=t.getJSDate()}else{r=t}n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()));if(r.getFullYear()<1e3){n.setUTCFullYear(r.getFullYear())}if(a){n.setUTCHours(r.getHours());n.setUTCMinutes(r.getMinutes());n.setUTCSeconds(r.getSeconds());n.setUTCMilliseconds(r.getMilliseconds())}}return n};s._createUniversalUTCDate=function(t,a,n){var r;if(a){r=e.getInstance(this._createUTCDate(t,n),a)}else{r=new e(this._createUTCDate(t,n).getTime())}return r};s.calculateWeekNumber=function(t,a,n,r){var i=0;var s=0;var u=r.getFirstDayOfWeek();var g=r.firstDayStartsFirstWeek();if(g){var l=new e(t.getTime());l.setUTCFullYear(a,0,1);s=l.getUTCDay();var o=new e(t.getTime());o.setUTCDate(o.getUTCDate()-o.getUTCDay()+s);i=Math.round((o.getTime()-l.getTime())/864e5/7)+1}else{var T=new e(t.getTime());T.setUTCDate(T.getUTCDate()-u);s=T.getUTCDay();T.setUTCDate(T.getUTCDate()-s+4);var C=new e(T.getTime());C.setUTCMonth(0,1);s=C.getUTCDay();var D=0;if(s>4){D=7}var c=new e(C.getTime());c.setUTCDate(1-s+4+D);i=Math.round((T.getTime()-c.getTime())/864e5/7)+1}return i};s.getFirstDateOfWeek=function(t,a){var r=new e(t.getTime()),s,u,g=n.getInstance(i.getFormatSettings().getFormatLocale()),l=i.getLocale(),o=g.getFirstDayOfWeek(),T;if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:g.getFirstDayOfWeek(),minimalDaysInFirstWeek:g.getMinimalDaysInFirstWeek()}}T=e.getWeekByDate(r.getCalendarType(),r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),l,a);s=e.getFirstDateOfWeek(r.getCalendarType(),T.year,T.week,l,a);u=new e(e.UTC(s.year,s.month,s.day));if(a&&(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){while(u.getUTCDay()!==o){u.setUTCDate(u.getUTCDate()-1)}}return new e(e.UTC(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())).getJSDate()};s.getFirstDateOfMonth=function(t){var a=new e(t.getTime());a.setUTCDate(1);return a};s._getNumberOfWeeksForYear=function(e){var t=i.getFormatLocale(),r=n.getInstance(new a(t)),s=new Date(Date.UTC(e,0,1)),u=s.getUTCDay(),g=52;if(r.getFirstDayOfWeek()===0){if(u===5||u===6){g=53}}else{if(u===3||u===4){g=53}}return g};s.monthsDiffer=function(e,t){return e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()};s.isDateLastInMonth=function(e){var t=new Date(e.getTime()+24*60*60*1e3);return t.getUTCDate()<e.getUTCDate()};s._updateUTCDate=function(e,t,a,n,r,i,s,u){if(t!=null){e.setUTCFullYear(t)}if(a!=null){e.setUTCMonth(a)}if(n!=null){e.setUTCDate(n)}if(r!=null){e.setUTCHours(r)}if(i!=null){e.setUTCMinutes(i)}if(s!=null){e.setUTCSeconds(s)}if(u!=null){e.setUTCMilliseconds(u)}};s._checkJSDateObject=function(e){if(!e||Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e)){throw new Error("Date must be a JavaScript date object.")}};s._checkYearInValidRange=function(e){if(typeof e!=="number"||e<1||e>9999){throw new Error("Year must be in valid range (between year 0001 and year 9999).")}};s._isNextMonth=function(e,t){return e.getMonth()>t.getMonth()&&e.getFullYear()===t.getFullYear()||e.getFullYear()>t.getFullYear()};s._minutesBetween=function(e,t){var a=(t.getTime()-e.getTime())/1e3;a=a/60;return Math.abs(Math.round(a))};s._areCurrentMinutesLessThan=function(e){var t=(new Date).getMinutes();return e>=t};s._areCurrentMinutesMoreThan=function(e){var t=(new Date).getMinutes();return e<=t};s._monthsBetween=function(e,t,a){var n=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),r=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),i;n.setUTCFullYear(e.getUTCFullYear());r.setUTCFullYear(t.getUTCFullYear());i=r.getUTCFullYear()*12+r.getUTCMonth()-(n.getUTCFullYear()*12+n.getUTCMonth());if(!a){i=Math.abs(i)}return i};s._hoursBetween=function(e,t){var a=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()));var n=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()));a.setUTCFullYear(e.getUTCFullYear());n.setUTCFullYear(t.getUTCFullYear());return Math.abs((a.getTime()-n.getTime())/(1e3*60*60))};s._isMidnight=function(e){return e.getHours()===0&&e.getMinutes()===0&&e.getSeconds()===0&&e.getMilliseconds()===0};s._daysInMonth=function(e){this._checkCalendarDate(e);e=new t(e);e.setDate(1);e.setMonth(e.getMonth()+1);e.setDate(0);return e.getDate()};s._isLastDateInMonth=function(e){return e.getDate()===s._daysInMonth(e)};s._getFirstDateOfWeek=function(e,a){var r=n.getInstance(i.getFormatSettings().getFormatLocale());this._checkCalendarDate(e);if(!a||(a.firstDayOfWeek===-1||a.firstDayOfWeek===undefined)){a={firstDayOfWeek:r.getFirstDayOfWeek(),minimalDaysInFirstWeek:r.getMinimalDaysInFirstWeek()}}if(e.getDay()!==a.firstDayOfWeek){var u=s.getFirstDateOfWeek(e.toUTCJSDate(),a);u.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate());return t.fromLocalJSDate(u,e.getCalendarType())}return e};s._getFirstDateOfMonth=function(e){this._checkCalendarDate(e);var a=new t(e,e.getCalendarType());a.setDate(1);return a};s._minDate=function(e){var a=new t(1,0,1,e);a.setYear(1);a.setMonth(0);a.setDate(1);return a};s._maxDate=function(e){var a=new t(9999,11,1,e);a.setYear(9999);a.setMonth(11);a.setDate(this._daysInMonth(a));return new t(a)};s._isBetween=function(e,t,a,n){this._checkCalendarDate(e);this._checkCalendarDate(t);this._checkCalendarDate(a);if(n){return e.isSameOrAfter(t)&&e.isSameOrBefore(a)}else{return e.isAfter(t)&&e.isBefore(a)}};s._daysBetween=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return Math.ceil((e.valueOf()-t.valueOf())/this.HOURS24)};s._isOutside=function(e,t,a){return!this._isBetween(e,t,a,true)};s._isSameMonthAndYear=function(e,t){this._checkCalendarDate(e);this._checkCalendarDate(t);return e.getEra()===t.getEra()&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()};s._checkCalendarDate=function(e){if(!e||!(e instanceof t)){throw"Invalid calendar date: ["+e+"]. Expected: sap.ui.unified.calendar.CalendarDate"}};s._getWeek=function(t){this._checkCalendarDate(t);return e.getWeekByDate(t.getCalendarType(),t.getYear(),t.getMonth(),t.getDate())};s._isWeekend=function(e,t){var a=e.getDay();return a===t.getWeekendStart()||a===t.getWeekendEnd()};s._convertToTimezone=function(e,t){var a=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());a.setUTCFullYear(e.getUTCFullYear());a=r.convertToTimezone(a,t);return a};return s},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Header",["sap/ui/core/Control","sap/ui/unified/library","./HeaderRenderer","sap/ui/dom/containsOrEquals"],function(t,e,i,n){"use strict";var r=t.extend("sap.ui.unified.calendar.Header",{metadata:{library:"sap.ui.unified",properties:{textButton0:{type:"string",group:"Appearance"},additionalTextButton0:{type:"string",group:"Appearance"},ariaLabelButton0:{type:"string",group:"Misc"},visibleButton0:{type:"boolean",group:"Appearance",defaultValue:false},textButton1:{type:"string",group:"Appearance"},additionalTextButton1:{type:"string",group:"Appearance"},ariaLabelButton1:{type:"string",group:"Misc"},visibleButton1:{type:"boolean",group:"Appearance",defaultValue:true},textButton2:{type:"string",group:"Appearance"},additionalTextButton2:{type:"string",group:"Appearance"},ariaLabelButton2:{type:"string",group:"Misc"},visibleButton2:{type:"boolean",group:"Appearance",defaultValue:true},enabledPrevious:{type:"boolean",group:"Behavior",defaultValue:true},enabledNext:{type:"boolean",group:"Behavior",defaultValue:true},visibleCurrentDateButton:{type:"boolean",group:"Appearance",defaultValue:false}},events:{pressPrevious:{},pressNext:{},pressCurrentDate:{},pressButton0:{},pressButton1:{},pressButton2:{}}},renderer:i});r.prototype._setVisibleButton3=function(t){this._visibleButton3=t;this.invalidate();return this};r.prototype._getVisibleButton3=function(){return this._visibleButton3};r.prototype._setTextButton3=function(t){o.call(this,3,t);return this};r.prototype._getTextButton3=function(){return this._textButton3};r.prototype._setAdditionalTextButton3=function(t){s.call(this,3,t);return this};r.prototype._getAdditionalTextButton3=function(){return this._additionalTextButton3};r.prototype._setAriaLabelButton3=function(t){u.call(this,3,t);return this};r.prototype._getAriaLabelButton3=function(){return this._ariaLabelButton3};r.prototype._setVisibleButton4=function(t){this._visibleButton4=t;this.invalidate();return this};r.prototype._getVisibleButton4=function(){return this._visibleButton4};r.prototype._setTextButton4=function(t){o.call(this,4,t);return this};r.prototype._getTextButton4=function(){return this._textButton4};r.prototype._setAdditionalTextButton4=function(t){s.call(this,4,t);return this};r.prototype._getAdditionalTextButton4=function(){return this._additionalTextButton4};r.prototype._setAriaLabelButton4=function(t){u.call(this,4,t);return this};r.prototype._getAriaLabelButton4=function(){return this._ariaLabelButton4};r.prototype.onclick=function(t){if(t.isMarked("delayedMouseEvent")){return}if(n(this.getDomRef("prev"),t.target)&&this.getEnabledPrevious()){this.firePressPrevious()}else if(n(this.getDomRef("next"),t.target)&&this.getEnabledNext()){this.firePressNext()}else if(n(this.getDomRef("today"),t.target)&&this.getVisibleCurrentDateButton()){this.firePressCurrentDate()}else if(n(this.getDomRef("B0"),t.target)){this.firePressButton0()}else if(n(this.getDomRef("B1"),t.target)){this.firePressButton1()}else if(n(this.getDomRef("B2"),t.target)){this.firePressButton2()}else if(n(this.getDomRef("B3"),t.target)){this.fireEvent("pressButton3")}else if(n(this.getDomRef("B4"),t.target)){this.fireEvent("pressButton4")}};r.prototype.onsapnext=function(t){t.preventDefault()};function o(t,e){this["_textButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(this.$("B"+t+"-Text").get(0)){this.$("B"+t+"-Text").text(e)}else{this.$("B"+t).text(e)}}}function s(t,e){var i=false;var n=this["_getAdditionalTextButton"+t]();if(n==e){return}if(!n&&e||n&&!e){i=true}this["_additionalTextButton"+t]=e;if(!i&&this.isActive()&&this["_getVisibleButton"+t]()){this.$("B"+t+"-AddText").text(e)}if(i){this.invalidate()}}function u(t,e){this["_ariaLabelButton"+t]=e;if(this.isActive()&&this["_getVisibleButton"+t]()){if(e){this.$("B"+t).attr("aria-label",e)}else{this.$("B"+t).removeAttr("aria-label")}}}return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/HeaderRenderer",["sap/ui/core/Configuration"],function(t){"use strict";var e=5;var a={apiVersion:2};a.render=function(a,i){var n=t.getLocale().getLanguage();var s=i.getTooltip_AsString();var l=i.getId();var o=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified");var r=o.getText("CALENDAR_BTN_NEXT");var u=o.getText("CALENDAR_BTN_PREV");var d=o.getText("CALENDAR_BTN_TODAY");a.openStart("div",i);a.class("sapUiCalHead");if(i.getVisibleCurrentDateButton()){a.class("sapUiCalHeaderWithTodayButton")}if(s){a.attr("title",s)}a.accessibilityState(i);a.openEnd();a.openStart("button",l+"-prev");a.attr("title",u);a.accessibilityState(null,{label:u});a.class("sapUiCalHeadPrev");if(!i.getEnabledPrevious()){a.class("sapUiCalDsbl");a.attr("disabled","disabled")}a.attr("tabindex","-1");a.openEnd();a.icon("sap-icon://slim-arrow-left",null,{title:null});a.close("button");var c=-1;var b=-1;var g=0;var B;for(g=0;g<e;g++){if(this.getVisibleButton(i,g)){if(c<0){c=g}b=g}}for(g=0;g<e;g++){if(n.toLowerCase()==="ja"||n.toLowerCase()==="zh"){B=e-1-g;if(this._isTwoMonthsCalendar(i)){switch(g){case 0:B=2;break;case 2:B=4;break;case 1:B=1;break;case 3:B=3;break}}}else{B=g}if(this._isTwoMonthsCalendar(i)){c=2;b=3}this.renderCalendarButtons(a,i,l,c,b,B)}if(!i.getVisibleButton0()&&!i.getVisibleButton1()&&!i.getVisibleButton2()&&!i._getVisibleButton3()&&!i._getVisibleButton4()){a.openStart("div",l+"-B"+"-Placeholder");a.class("sapUiCalHeadBPlaceholder");a.openEnd();a.close("span")}a.openStart("button",l+"-next");a.attr("title",r);a.accessibilityState(null,{label:r});a.class("sapUiCalHeadNext");if(!i.getEnabledNext()){a.class("sapUiCalDsbl");a.attr("disabled","disabled")}a.attr("tabindex","-1");a.openEnd();a.icon("sap-icon://slim-arrow-right",null,{title:null});a.close("button");if(i.getVisibleCurrentDateButton()){a.openStart("button",l+"-today");a.attr("title",d);a.accessibilityState(null,{label:d});a.class("sapUiCalHeadB");a.class("sapUiCalHeadToday");a.openEnd();a.icon("sap-icon://appointment",null,{title:null});a.close("button")}a.close("div")};a.renderCalendarButtons=function(t,e,a,i,n,s){var l={};if(this.getVisibleButton(e,s)){t.openStart("button",a+"-B"+s);t.class("sapUiCalHeadB");t.class("sapUiCalHeadB"+s);if(i===s){t.class("sapUiCalHeadBFirst")}if(n===s){t.class("sapUiCalHeadBLast")}if(s===3||s==4){t.attr("tabindex","-1")}if(this.getAriaLabelButton(e,s)){l["label"]=this.getAriaLabelButton(e,s)}t.accessibilityState(null,l);l={};t.openEnd();var o=this.getTextButton(e,s)||"";var r=this.getAdditionalTextButton(e,s)||"";if(r){t.openStart("span",a+"-B"+s+"-Text");t.class("sapUiCalHeadBText");t.openEnd();t.text(o);t.close("span");t.openStart("span",a+"-B"+s+"-AddText");t.class("sapUiCalHeadBAddText");t.openEnd();t.text(r);t.close("span")}else{t.text(o)}t.close("button")}};a.getVisibleButton=function(t,e){var a=false;if(t["getVisibleButton"+e]){a=t["getVisibleButton"+e]()}else if(t["_getVisibleButton"+e]){a=t["_getVisibleButton"+e]()}return a};a.getAriaLabelButton=function(t,e){var a;if(t["getAriaLabelButton"+e]){a=t["getAriaLabelButton"+e]()}else if(t["_getAriaLabelButton"+e]){a=t["_getAriaLabelButton"+e]()}return a};a.getTextButton=function(t,e){var a;if(t["getTextButton"+e]){a=t["getTextButton"+e]()}else if(t["_getTextButton"+e]){a=t["_getTextButton"+e]()}return a};a.getAdditionalTextButton=function(t,e){var a;if(t["getAdditionalTextButton"+e]){a=t["getAdditionalTextButton"+e]()}else if(t["_getAdditionalTextButton"+e]){a=t["_getAdditionalTextButton"+e]()}return a};a._isTwoMonthsCalendar=function(t){return t.getParent()instanceof sap.ui.unified.Calendar&&t.getParent().getMonths()>=2};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/Month",["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/DateTypeRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","./MonthRenderer","sap/ui/dom/containsOrEquals","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/InvisibleMessage","sap/ui/core/Configuration","sap/ui/core/date/CalendarWeekNumbering","sap/ui/core/date/CalendarUtils","sap/base/Log"],function(e,t,a,i,s,r,o,n,l,h,g,d,u,c,p,f,y,D,m,_,v){"use strict";var S=g.InvisibleMessageMode;var C=g.CalendarType;var b=l.CalendarDayType;var T=e.extend("sap.ui.unified.calendar.Month",{metadata:{library:"sap.ui.unified",properties:{date:{type:"object",group:"Data"},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},singleSelection:{type:"boolean",group:"Behavior",defaultValue:true},showHeader:{type:"boolean",group:"Appearance",defaultValue:false},firstDayOfWeek:{type:"int",group:"Appearance",defaultValue:-1},nonWorkingDays:{type:"int[]",group:"Appearance",defaultValue:null},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},showWeekNumbers:{type:"boolean",group:"Appearance",defaultValue:true},_focusedDate:{type:"object",group:"Data",visibility:"hidden",defaultValue:null},calendarWeekNumbering:{type:"sap.ui.core.date.CalendarWeekNumbering",group:"Appearance",defaultValue:null}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"},specialDates:{type:"sap.ui.unified.DateTypeRange",multiple:true,singularName:"specialDate"},disabledDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"disabledDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},legend:{type:"sap.ui.unified.CalendarLegend",multiple:false}},events:{select:{},focus:{parameters:{date:{type:"object"},otherMonth:{type:"boolean"},restoreOldDate:{type:"boolean"}}},weekNumberSelect:{allowPreventDefault:true,parameters:{weekNumber:{type:"int"},weekDays:{type:"sap.ui.unified.DateRange"}}}}},renderer:u});T.prototype.init=function(){var e=D.getCalendarType();this.setProperty("primaryCalendarType",e);this.setProperty("secondaryCalendarType",e);this._oFormatYyyymmdd=h.getInstance({pattern:"yyyyMMdd",calendarType:C.Gregorian});this._oFormatLong=h.getInstance({style:"long",calendarType:e});this._mouseMoveProxy=this._handleMouseMove.bind(this);this._iColumns=7;this._oMinDate=s._minDate(this.getPrimaryCalendarType());this._oMaxDate=s._maxDate(this.getPrimaryCalendarType());this._aVisibleDays=[];this._bAlwaysShowSpecialDates=false;this._oUnifiedRB=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified")};T.prototype._getAriaRole=function(){return"gridcell"};T.prototype.exit=function(){if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();delete this._oItemNavigation}if(this._sInvalidateMonth){clearTimeout(this._sInvalidateMonth)}this._aVisibleDays=null;this._bAlwaysShowSpecialDates=null};T.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};T.prototype.onBeforeRendering=function(){if(this.getFirstDayOfWeek()!==-1&&this.getCalendarWeekNumbering()!=="Default"){v.warning("Both properties firstDayOfWeek and calendarWeekNumbering should not be used at the same time!")}};T.prototype.onAfterRendering=function(){this.bSpaceButtonPressed=false;M.call(this);P.call(this);this._oInvisibleMessage=y.getInstance()};T.prototype.onmouseover=function(e){var t=f(e.target),a=this.getSelectedDates()[0],i,s;if(!this._isMarkingUnfinishedRangeAllowed()){return}if(!t.hasClass("sapUiCalItemText")&&!t.hasClass("sapUiCalItem")){return}if(t.hasClass("sapUiCalItemText")){t=t.parent()}i=parseInt(this._oFormatYyyymmdd.format(a.getStartDate()));s=t.data("sapDay");if(this.hasListeners("datehovered")){this.fireEvent("datehovered",{date1:i,date2:s})}else{this._markDatesBetweenStartAndHoveredDate(i,s)}};T.prototype._markDatesBetweenStartAndHoveredDate=function(e,t){var a,i,s,r;a=this.$().find(".sapUiCalItem");if(e>t){e=e+t;t=e-t;e=e-t}for(r=0;r<a.length;r++){i=f(a[r]);s=i.data("sapDay");if(s>e&&s<t&&this._isInAllowedRange(s)){i.addClass("sapUiCalItemSelBetween")}else{i.removeClass("sapUiCalItemSelBetween");if(s!=e&&s!=t){i.removeClass("sapUiCalItemSel")}}}};T.prototype._isInAllowedRange=function(e){return this._oFormatYyyymmdd.parse(e).getTime()>this._oMinDate.toLocalJSDate().getTime()&&this._oFormatYyyymmdd.parse(e).getTime()<this._oMaxDate.toLocalJSDate().getTime()};T.prototype.onsapfocusleave=function(e){if(!e.relatedControlId||!c(this.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(this._bMouseMove){this._unbindMousemove(true);var t=this._selectDay(this._getDate());if(!t&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;L.call(this)}if(this._bMousedownChange){this._bMousedownChange=false;L.call(this)}}};T.prototype.removeAllSelectedDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("selectedDates");return e};T.prototype.destroySelectedDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("selectedDates");return e};T.prototype.removeAllSpecialDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("specialDates");return e};T.prototype.destroySpecialDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("specialDates");return e};T.prototype.removeAllDisabledDates=function(){this._bDateRangeChanged=true;var e=this.removeAllAggregation("disabledDates");return e};T.prototype.destroyDisabledDates=function(){this._bDateRangeChanged=true;var e=this.destroyAggregation("disabledDates");return e};T.prototype.setDate=function(e){if(e){var t=r.fromLocalJSDate(e,this.getPrimaryCalendarType());w.call(this,t)}return this.setProperty("date",e)};T.prototype._getDate=function(){if(!this._oDate){this._oDate=r.fromLocalJSDate(new Date,this.getPrimaryCalendarType())}return this._oDate};T.prototype.displayDate=function(e){var t=r.fromLocalJSDate(e,this.getPrimaryCalendarType());w.call(this,t);return this};T.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oFormatLong=h.getInstance({style:"long",calendarType:e});if(this._oDate){this._oDate=new r(this._oDate,e)}return this};T.prototype.setSecondaryCalendarType=function(e){this._bSecondaryCalendarTypeSet=true;this.setProperty("secondaryCalendarType",e);this._oFormatSecondaryLong=h.getInstance({style:"long",calendarType:e});return this};T.prototype._getSecondaryCalendarType=function(){var e;if(this._bSecondaryCalendarTypeSet){e=this.getSecondaryCalendarType();var t=this.getPrimaryCalendarType();if(e===t){e=undefined}}return e};T.prototype._getLocale=function(){var e=this.getParent();if(e&&e.getLocale){return e.getLocale()}else if(!this._sLocale){this._sLocale=D.getFormatSettings().getFormatLocale().toString()}return this._sLocale};T.prototype._getLocaleData=function(){var e=this.getParent();if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var i=new d(t);this._oLocaleData=a.getInstance(i)}return this._oLocaleData};T.prototype._getFormatLong=function(){var e=this._getLocale();if(this._oFormatLong.oLocale.toString()!==e){var t=new d(e);this._oFormatLong=h.getInstance({style:"long",calendarType:this.getPrimaryCalendarType()},t);if(this._oFormatSecondaryLong){this._oFormatSecondaryLong=h.getInstance({style:"long",calendarType:this._getSecondaryCalendarType()},t)}}return this._oFormatLong};T.prototype.getIntervalSelection=function(){var e=this.getParent();if(e&&e.getIntervalSelection){return e.getIntervalSelection()}else{return this.getProperty("intervalSelection")}};T.prototype.getSingleSelection=function(){var e=this.getParent();if(e&&e.getSingleSelection){return e.getSingleSelection()}else{return this.getProperty("singleSelection")}};T.prototype.getSelectedDates=function(){var e=this.getParent();if(e&&e.getSelectedDates){return e.getSelectedDates()}else{return this.getAggregation("selectedDates",[])}};T.prototype.getSpecialDates=function(){var e=this.getParent();if(e&&e.getSpecialDates){return e.getSpecialDates()}else{return this.getAggregation("specialDates",[])}};T.prototype.getDisabledDates=function(){var e=this.getParent();if(e&&e.getDisabledDates){return e.getDisabledDates()}else{return this.getAggregation("disabledDates",[])}};T.prototype.getPrimaryCalendarType=function(){var e=this.getParent();if(e&&e.getPrimaryCalendarType){return e.getPrimaryCalendarType()}return this.getProperty("primaryCalendarType")};T.prototype._getShowHeader=function(){var e=this.getParent();if(e&&e._getShowMonthHeader){return e._getShowMonthHeader()}else{return this.getProperty("showHeader")}};T.prototype.getAriaLabelledBy=function(){var e=this.getParent();if(e&&e.getAriaLabelledBy){return e.getAriaLabelledBy()}else{return this.getAssociation("ariaLabelledBy",[])}};T.prototype.getLegend=function(){var e=this.getParent();if(e&&e.getLegend){return e.getLegend()}else{return this.getAssociation("legend",[])}};T.prototype._getFirstDayOfWeek=function(){var e=this.getParent();var t=0;if(e&&e.getFirstDayOfWeek){t=e.getFirstDayOfWeek()}else{t=this.getProperty("firstDayOfWeek")}if(t<0||t>6){var a=_.getWeekConfigurationValues(this.getCalendarWeekNumbering(),new d(this._getLocale()));if(a){t=a.firstDayOfWeek}else{var i=this._getLocaleData();t=i.getFirstDayOfWeek()}}return t};T.prototype._getNonWorkingDays=function(){var e=this.getParent();var t;if(e&&e.getNonWorkingDays){t=e.getNonWorkingDays()}else{t=this.getProperty("nonWorkingDays")}if(t&&!Array.isArray(t)){t=[]}return t};T.prototype._isSpecialDateMarkerEnabled=function(e){var t;if(this.getStartDate){t=this.getStartDate()}else if(this.getDate()){t=this.getDate()}else{t=new Date}return this._bAlwaysShowSpecialDates||s._isSameMonthAndYear(e,r.fromLocalJSDate(t))};T.prototype._checkDateSelected=function(e){s._checkCalendarDate(e);var t=0,a=this.getSelectedDates(),i=this.getPrimaryCalendarType(),o=0,n=this.getProperty("_focusedDate"),l=false,h;for(o=0;o<a.length;o++){var g=a[o],d=g.getStartDate()?r.fromLocalJSDate(g.getStartDate(),i):undefined,u=g.getEndDate()?r.fromLocalJSDate(g.getEndDate(),i):undefined;if(d&&u){h=this._arrangeStartAndEndDates(d,u);d=h.startDate;u=h.endDate}l=this._isMarkingUnfinishedRangeAllowed()&&n&&(s._isBetween(e,d,n,true)||s._isBetween(e,n,d,true));if(d&&!u&&e.isSame(d)){t=1;break}else if(u&&e.isSame(d)){t=2;if(e.isSame(u)){t=5}break}else if(u&&e.isSame(u)){t=3;break}else if(u&&e.isAfter(d)&&e.isBefore(u)||l){t=4;break}if(this.getSingleSelection()){break}}return t};T.prototype._getDateTypes=function(e){s._checkCalendarDate(e);var t,a,i,r=[];var o=this._getSpecialDates();var n=e.toUTCJSDate().getTime();var l=new Date(Date.UTC(0,0,1));for(var h=0;h<o.length;h++){var g=o[h];var d=g.getStartDate();var u=s.MAX_MILLISECONDS;if(d){l.setUTCFullYear(d.getFullYear(),d.getMonth(),d.getDate());u=l.getTime()}var c=g.getEndDate();var p=-s.MAX_MILLISECONDS;if(c){l.setUTCFullYear(c.getFullYear(),c.getMonth(),c.getDate());p=l.getTime()}i=g.getType()===b.NonWorking;if(n===u&&!c||n>=u&&n<=p){if(!i&&!t){t={type:g.getType(),tooltip:g.getTooltip_AsString(),color:g.getColor()};r.push(t)}else if(i&&!a){a={type:g.getType(),tooltip:g.getTooltip_AsString()};r.push(a)}if(t&&a){break}}}return r};T.prototype._checkDateEnabled=function(e){s._checkCalendarDate(e);var t=true;var a=this.getDisabledDates();var i=e.toUTCJSDate().getTime();var o=this.getPrimaryCalendarType();var n=this.getParent();if(n&&n._oMinDate&&n._oMaxDate){if(i<n._oMinDate.valueOf()||i>n._oMaxDate.valueOf()){return false}}for(var l=0;l<a.length;l++){var h=a[l];var g=h.getStartDate();var d=0;if(g){g=r.fromLocalJSDate(g,o);d=g.toUTCJSDate().getTime()}var u=h.getEndDate();var c=0;if(u){u=r.fromLocalJSDate(u,o);c=u.toUTCJSDate().getTime()}if(u){if(i>d&&i<c){t=false;break}}else if(i===d){t=false;break}}return t};T.prototype._handleMouseMove=function(e){if(!this.$().is(":visible")){this._unbindMousemove(true)}var t=f(e.target);if(t.hasClass("sapUiCalItemText")){t=t.parent()}if(this._sLastTargetId&&this._sLastTargetId===t.attr("id")){return}this._sLastTargetId=t.attr("id");if(t.hasClass("sapUiCalItem")){var a=this._getDate();if(c(this.getDomRef(),e.target)){var i=r.fromUTCDate(this._oFormatYyyymmdd.parse(t.attr("data-sap-day"),true),this.getPrimaryCalendarType());if(!i.isSame(a)){this._oDate=i;var s=this._selectDay(i,true);if(s){this._oMoveSelectedDate=new r(i,this.getPrimaryCalendarType())}this._bMoveChange=true}}}};T.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY};if(e.button||t.support.touch||!this._isWeekSelectionAllowed()||!e.target.classList.contains("sapUiCalWeekNum")){return}var a=f(e.target),i=a.siblings().eq(0).attr("data-sap-day"),s=this._oFormatYyyymmdd.parse(i,true),o=r.fromUTCDate(s,this.getPrimaryCalendarType());this._handleWeekSelection(o,true)};T.prototype.onmouseup=function(e){var a=e.button!==2;if(this._bMouseMove){this._unbindMousemove(true);var i=this._getDate();var s=this._oItemNavigation.getItemDomRefs();for(var r=0;r<s.length;r++){var o=f(s[r]);if(!o.hasClass("sapUiCalItemOtherMonth")){if(o.attr("data-sap-day")===this._oFormatYyyymmdd.format(i.toUTCJSDate(),true)){o.trigger("focus");break}}}if(this._bMoveChange){var n=this._selectDay(i);if(!n&&this._oMoveSelectedDate){this._selectDay(this._oMoveSelectedDate)}this._bMoveChange=false;this._bMousedownChange=false;this._oMoveSelectedDate=undefined;L.call(this)}}if(this._bMousedownChange){this._bMousedownChange=false;L.call(this)}else if(t.support.touch&&a&&this._areMouseEventCoordinatesInThreshold(e.clientX,e.clientY,10)){var l=e.target.classList,h=l.contains("sapUiCalItemText")||l.contains("sapUiCalDayName"),g=l.contains("sapUiCalWeekNum"),d=this._getSelectedDateFromEvent(e);if(g&&this._isWeekSelectionAllowed()){this._handleWeekSelection(d,true)}else if(h&&e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(d)}else if(h){this._selectDay(d,false,false);L.call(this)}}};T.prototype.onsapselect=function(e){if(this.bSpaceButtonPressed){return}var t=this._selectDay(this._getSelectedDateFromEvent(e));if(t){L.call(this)}e.stopPropagation();e.preventDefault()};T.prototype.onkeydown=function(e){if(e.which===p.SPACE){this.bSpaceButtonPressed=true}};T.prototype.onkeyup=function(e){if(e.which===p.SPACE){this.bSpaceButtonPressed=false}};T.prototype.onsapselectmodifiers=function(e){var t=this._getSelectedDateFromEvent(e),a;if(this._isWeekSelectionAllowed()&&e.shiftKey&&e.keyCode===p.SPACE){a=s._getFirstDateOfWeek(t);this._handleWeekSelection(a,false)}else if(this._isConsecutiveDaysSelectionAllowed()&&e.shiftKey&&e.keyCode===p.ENTER){this._handleConsecutiveDaysSelection(t)}e.preventDefault()};T.prototype.onsappageupmodifiers=function(e){var t=new r(this._getDate(),this.getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a-10)}else{t.setYear(a-1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};T.prototype.onsappagedownmodifiers=function(e){var t=new r(this._getDate(),this.getPrimaryCalendarType());var a=t.getYear();if(e.metaKey||e.ctrlKey){t.setYear(a+10)}else{t.setYear(a+1)}this.fireFocus({date:t.toLocalJSDate(),otherMonth:true});e.preventDefault()};T.prototype._isValueInThreshold=function(e,t,a){var i=e-a,s=e+a;return t>=i&&t<=s};T.prototype._areMouseEventCoordinatesInThreshold=function(e,t,a){return this._oMousedownPosition&&this._isValueInThreshold(this._oMousedownPosition.clientX,e,a)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t,a)?true:false};T.prototype._bindMousemove=function(e){f(window.document).on("mousemove",this._mouseMoveProxy);this._bMouseMove=true;if(e){this.fireEvent("_bindMousemove")}};T.prototype._unbindMousemove=function(e){f(window.document).off("mousemove",this._mouseMoveProxy);this._bMouseMove=undefined;this._sLastTargetId=undefined;if(e){this.fireEvent("_unbindMousemove")}};T.prototype.onThemeChanged=function(){if(this._bNoThemeChange||!this.getDomRef()){return}var e=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),t=this._getLocaleData(),a=this._getFirstWeekDay(),i=t.getDaysStandAlone("abbreviated",this.getPrimaryCalendarType()),s,r;this._bNamesLengthChecked=undefined;this._bLongWeekDays=undefined;for(r=0;r<e.length;r++){s=e[r];s.textContent=i[(r+a)%7]}P.call(this)};T.prototype._handleBorderReached=function(e){var t=e.getParameter("event");var a=0;var i=this._getDate();var s=new r(i,this.getPrimaryCalendarType());if(t.type){switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===p.ARROW_DOWN){s.setDate(s.getDate()+7)}else{s.setDate(s.getDate()+1)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===p.ARROW_UP){s.setDate(s.getDate()-7)}else{s.setDate(s.getDate()-1)}break;case"sappagedown":a=s.getMonth()+1;s.setMonth(a);if(a%12!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;case"sappageup":a=s.getMonth()-1;s.setMonth(a);if(a<0){a=11}if(a!==s.getMonth()){while(a!==s.getMonth()){s.setDate(s.getDate()-1)}}break;default:break}this.fireFocus({date:s.toLocalJSDate(),otherMonth:true})}};T.prototype.checkDateFocusable=function(e){s._checkJSDateObject(e);var t=this._getDate();var a=r.fromLocalJSDate(e,this.getPrimaryCalendarType());return s._isSameMonthAndYear(a,t)};T.prototype.applyFocusInfo=function(e){return this};T.prototype._getFirstWeekDay=function(){return this._getFirstDayOfWeek()};T.prototype._isMonthNameLong=function(e){var t;var a;for(t=0;t<e.length;t++){a=e[t];if(Math.abs(a.clientWidth-a.scrollWidth)>1){return true}}return false};T.prototype._getVisibleDays=function(e,t){var a,i,s,o,n,l,h;if(!e){return this._aVisibleDays}this._aVisibleDays=[];l=this._getFirstDayOfWeek();n=new r(e,this.getPrimaryCalendarType());n.setDate(1);o=n.getDay()-l;if(o<0){o=7+o}if(o>0){n.setDate(1-o)}i=new r(n);a=(e.getMonth()+1)%12;do{h=i.getYear();s=new r(i,this.getPrimaryCalendarType());if(t&&h<1){s._bBeforeFirstYear=true;this._aVisibleDays.push(s)}else if(h>0&&h<1e4){this._aVisibleDays.push(s)}i.setDate(i.getDate()+1)}while(i.getMonth()!==a||i.getDay()!==l);return this._aVisibleDays};T.prototype._handleMousedown=function(e,a){var i=e.target.classList.contains("sapUiCalWeekNum"),s=!e.button,o=this._getSelectedDateFromEvent(e);if(!s||t.support.touch){return this}if(i){this._isWeekSelectionAllowed()&&this._handleWeekSelection(o,true);return this}else if(e.shiftKey&&this._isConsecutiveDaysSelectionAllowed()){this._handleConsecutiveDaysSelection(o);return this}var n=this._selectDay(a);if(n){this._bMousedownChange=true}if(this._bMouseMove){this._unbindMousemove(true);this._bMoveChange=false;this._oMoveSelectedDate=undefined}else if(n&&this.getIntervalSelection()&&this.$().is(":visible")){this._bindMousemove(true);this._oMoveSelectedDate=new r(a,this.getPrimaryCalendarType())}e.preventDefault();e.setMark("cancelAutoClose")};T.prototype._getSelectedDateFromEvent=function(e){var t=e.target,a,i;if(t.classList.contains("sapUiCalWeekNum")){a=t.nextSibling.getAttribute("data-sap-day")}else{a=t.getAttribute("data-sap-day")||t.parentNode.getAttribute("data-sap-day")}i=this._oFormatYyyymmdd.parse(a,true);return i?r.fromUTCDate(i,this.getPrimaryCalendarType()):null};T.prototype._handleWeekSelection=function(e,t){var a=this._calculateWeekNumber(e),i=this._getLastWeekDate(e),s=this.getSingleSelection(),o=this.getIntervalSelection(),n=this._checkDateEnabled(e)?e:new r(this._oMinDate),l=this._checkDateEnabled(i)?i:new r(this._oMaxDate);if(!s&&!o){this._handleWeekSelectionByMultipleDays(a,n,l)}else if(s&&o){this._handleWeekSelectionBySingleInterval(a,n,l)}t&&this._focusDate(n);return this};T.prototype._handleConsecutiveDaysSelection=function(e){var t=this.getSelectedDates(),a=t.length&&t[t.length-1].getStartDate(),i=a?r.fromLocalJSDate(a):e,s;s=this._areAllDaysBetweenSelected(i,e);this._toggleDaysBetween(i,e,!s);return this};T.prototype._calculateWeekNumber=function(e){var t=new d(this._getLocale());var a=this._getLastWeekDate(e);var i=this._getLocaleData();var s;var r;s=h.getInstance({pattern:"w",calendarType:this.getPrimaryCalendarType(),calendarWeekNumbering:this.getCalendarWeekNumbering()},t);var o=i.firstDayStartsFirstWeek();if(a.getMonth()===0&&this._oDate.getMonth()===0&&o){r=s.format(a.toUTCJSDate(),true)}else{r=s.format(e.toUTCJSDate(),true)}return r};T.prototype._isWeekSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection(),a=this.getPrimaryCalendarType(),i=this.getFirstDayOfWeek()!==-1,s=!e&&!t,r=e&&t,o=r||s;return a===C.Gregorian&&!i&&o};T.prototype._isConsecutiveDaysSelectionAllowed=function(){var e=this.getSingleSelection(),t=this.getIntervalSelection();return!e&&!t};T.prototype._isMarkingUnfinishedRangeAllowed=function(){var e=this.getSelectedDates()[0],t=!!(e&&e.getStartDate()&&!e.getEndDate());return this.getIntervalSelection()&&t};T.prototype._handleWeekSelectionByMultipleDays=function(e,t,a){var i,s,r;i=this._areAllDaysBetweenSelected(t,a)?new o({startDate:t.toLocalJSDate()}):new o({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()});s=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});r=i.getEndDate()?true:false;if(s){this._toggleDaysBetween(t,a,r)}return this};T.prototype._handleWeekSelectionBySingleInterval=function(e,t,a){var i=new o({startDate:t.toLocalJSDate(),endDate:a.toLocalJSDate()}),s=this.getParent(),r=this,n;if(s&&s.getSelectedDates){r=s}if(this._isIntervalSelected(i)){i=null}n=this.fireWeekNumberSelect({weekNumber:e,weekDays:i});if(n){r.removeAllSelectedDates();r.addSelectedDate(i)}return this};T.prototype._isIntervalSelected=function(e){var t=this.getSelectedDates(),a=t.length&&t[0],i=a&&a.getEndDate();return a&&a.getStartDate()&&a.getStartDate().getTime()===e.getStartDate().getTime()&&i&&a.getEndDate()&&a.getEndDate().getTime()===e.getEndDate().getTime()};T.prototype._getLastWeekDate=function(e){return new r(e).setDate(e.getDate()+6)};T.prototype._toggleDaysBetween=function(e,t,a){var i=this._arrangeStartAndEndDates(e,t),s=new r(i.startDate),o;do{o=this._checkDateSelected(s);if(!o&&a||o&&!a){this._selectDay(s);L.call(this)}s.setDate(s.getDate()+1)}while(s.isSameOrBefore(i.endDate));return this};T.prototype._areAllDaysBetweenSelected=function(e,t){var a=this._arrangeStartAndEndDates(e,t),i=new r(a.startDate),s=true;do{if(!this._checkDateSelected(i)){s=false;break}i.setDate(i.getDate()+1)}while(i.isSameOrBefore(a.endDate));return s};T.prototype._arrangeStartAndEndDates=function(e,t){var a=e.isSameOrBefore(t);return{startDate:a?e:t,endDate:a?t:e}};T.prototype._selectDay=function(e,t){if(!this._checkDateEnabled(e)){return false}var a=this.getSelectedDates();var i;var s=this._oItemNavigation.getItemDomRefs();var n;var l;var h=0;var g=this.getParent();var d=this;var u;var c=this.getPrimaryCalendarType();if(g&&g.getSelectedDates){d=g}if(this.getSingleSelection()){if(a.length>0){i=a[0];u=i.getStartDate();if(u){u=r.fromLocalJSDate(u,c)}}else{i=new o;d.addAggregation("selectedDates",i,true)}if(this.getIntervalSelection()&&(!i.getEndDate()||t)&&u){var p;if(e.isBefore(u)){p=u;u=e;if(!t){i.setProperty("startDate",u.toLocalJSDate());i.setProperty("endDate",p.toLocalJSDate())}}else if(e.isSameOrAfter(u)){p=e;if(!t){i.setProperty("endDate",p.toLocalJSDate())}}}else{i.setProperty("startDate",e.toLocalJSDate());i.setProperty("endDate",undefined)}this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),S.Assertive)}else{if(this.getIntervalSelection()){throw new Error("Calender don't support multiple interval selection")}else{var y=this._checkDateSelected(e);if(y>0){for(h=0;h<a.length;h++){u=a[h].getStartDate();if(u&&e.isSame(r.fromLocalJSDate(u,c))){d.removeAggregation("selectedDates",h,true);break}}}else{this._oInvisibleMessage.announce(this._oUnifiedRB.getText("APPOINTMENT_SELECTED"),S.Assertive);i=new o({startDate:e.toLocalJSDate()});d.addAggregation("selectedDates",i,true)}l=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true);for(h=0;h<s.length;h++){n=f(s[h]);if(n.attr("data-sap-day")===l){if(y>0){n.removeClass("sapUiCalItemSel");n.attr("aria-selected","false")}else{n.addClass("sapUiCalItemSel");n.attr("aria-selected","true")}}}}}return true};T.prototype._getSpecialDates=function(){var e=this.getParent();if(e&&e._getSpecialDates){return e._getSpecialDates()}else{var t=this.getSpecialDates();for(var a=0;a<t.length;a++){var i=t[a].getSecondaryType()===l.CalendarDayType.NonWorking&&t[a].getType()!==l.CalendarDayType.NonWorking;if(i){var s=new n;s.setType(l.CalendarDayType.NonWorking);s.setStartDate(t[a].getStartDate());if(t[a].getEndDate()){s.setEndDate(t[a].getEndDate())}t.push(s)}}return t}};function M(){var e=this._oFormatYyyymmdd.format(this._getDate().toUTCJSDate(),true),t=0,a=this.getDomRef(),s=a.querySelectorAll(".sapUiCalItem");for(var r=0;r<s.length;r++){if(s[r].getAttribute("data-sap-day")===e){t=r;break}}if(!this._oItemNavigation){this._oItemNavigation=new i(undefined,undefined,this._bNotInTabChain);this._oItemNavigation.attachEvent(i.Events.AfterFocus,k,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,I,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,this._handleBorderReached,this);this.addDelegate(this._oItemNavigation);if(this._iColumns>1){this._oItemNavigation.setHomeEndColumnMode(true,true)}this._oItemNavigation.setDisabledModifiers({sapnext:["alt"],sapprevious:["alt"],saphome:["alt"],sapend:["alt"]});this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this._iColumns,true)}this._oItemNavigation.setRootDomRef(a);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setFocusedIndex(t);this._oItemNavigation.setPageSize(s.length)}function k(e){var t=e.getParameter("index"),a=e.getParameter("event"),i=this._getDate(),s=new r(i,this.getPrimaryCalendarType()),o=false,n=true,l=this._oItemNavigation.getItemDomRefs(),h=l[t],g=h.getAttribute("data-sap-day"),d;if(!a){return}if(h.classList.contains("sapUiCalItemOtherMonth")||h.classList.contains("sapUiCalItemDsbl")){if(a.type==="saphomemodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=0;u<l.length;++u){d=l[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=r.fromUTCDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day"),true),this.getPrimaryCalendarType());break}}this._focusDate(s)}else if(a.type==="sapendmodifiers"&&(a.metaKey||a.ctrlKey)){for(var u=l.length-1;u>0;--u){d=l[u];if(!(d.classList.contains("sapUiCalItemOtherMonth")||d.classList.contains("sapUiCalItemDsbl"))){s=r.fromUTCDate(this._oFormatYyyymmdd.parse(d.getAttribute("data-sap-day"),true),this.getPrimaryCalendarType());break}}this._focusDate(s)}else{o=true;s=r.fromUTCDate(this._oFormatYyyymmdd.parse(g,true),this.getPrimaryCalendarType());if(!s){s=new r(i)}this._focusDate(i);if(a.type==="mousedown"||this._sTouchstartYyyyMMdd&&a.type==="focusin"&&this._sTouchstartYyyyMMdd===g||h.classList.contains("sapUiCalItemDsbl")){n=false;this.fireFocus({date:i.toLocalJSDate(),otherMonth:false,restoreOldDate:true})}this._sTouchstartYyyyMMdd=a.originalEvent&&a.originalEvent.type==="touchstart"?g:undefined}}else{if(a.target.classList.contains("sapUiCalWeekNum")){this._focusDate(s)}else{s=r.fromUTCDate(this._oFormatYyyymmdd.parse(g,true),this.getPrimaryCalendarType());this._oDate=s}this._sTouchstartYyyyMMdd=undefined}if(a.type==="mousedown"&&this.getIntervalSelection()){this._sLastTargetId=h.id}if(n){this.fireFocus({date:s.toLocalJSDate(),otherMonth:o})}if(a.type==="mousedown"){this._handleMousedown(a,s,t)}}function I(e){var t=e.getParameter("index");var a=e.getParameter("event");if(!a){return}if(a.type==="mousedown"){var i=this._getDate();if(this.getIntervalSelection()){var s=this._oItemNavigation.getItemDomRefs();this._sLastTargetId=s[t].id}this._handleMousedown(a,i,t)}}function w(e){s._checkCalendarDate(e);var t=e.getYear();s._checkYearInValidRange(t);if(!this.getDate()||!e.isSame(r.fromLocalJSDate(this.getDate(),e.getCalendarType()))){var a=new r(e);this.setProperty("date",e.toLocalJSDate());this._oDate=a}else{this.invalidate()}}T.prototype._focusDate=function(e,a,i){if(!a){this.setDate(e.toLocalJSDate())}var s=this._oFormatYyyymmdd.format(e.toUTCJSDate(),true),r=this._oItemNavigation.getItemDomRefs(),o;for(var n=0;n<r.length;n++){o=r[n];if(o.getAttribute("data-sap-day")===s){if(document.activeElement!==r[n]){if(i||t.system.phone){this._oItemNavigation.setFocusedIndex(n)}else{this._oItemNavigation.focusItem(n)}}break}}};function L(){if(this._bMouseMove){this._unbindMousemove(true)}this.fireSelect()}function P(){if(!this._bNamesLengthChecked){var e,t=this.getDomRef().querySelectorAll(".sapUiCalWH:not(.sapUiCalDummy)"),a=this._isMonthNameLong(t),i,s,r,o;if(a){this._bLongWeekDays=false;i=this._getLocaleData();s=this._getFirstWeekDay();r=i.getDaysStandAlone("narrow",this.getPrimaryCalendarType());for(o=0;o<t.length;o++){e=t[o];e.textContent=r[(o+s)%7]}}else{this._bLongWeekDays=true}this._bNamesLengthChecked=true}}return T});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPicker",["sap/ui/core/Control","sap/ui/Device","sap/ui/core/LocaleData","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/library","sap/ui/core/Locale","./MonthPickerRenderer","sap/ui/thirdparty/jquery","sap/ui/events/KeyCodes","sap/ui/unified/DateRange","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/core/Configuration"],function(t,e,a,i,s,o,n,r,h,l,g,f,c){"use strict";var d=12,u=2,p={OneYearBackward:-1,OneYearForward:1};var _=t.extend("sap.ui.unified.calendar.MonthPicker",{metadata:{library:"sap.ui.unified",properties:{month:{type:"int",group:"Data",defaultValue:0},months:{type:"int",group:"Appearance",defaultValue:12},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},columns:{type:"int",group:"Appearance",defaultValue:3},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},_firstMonth:{type:"int",group:"Data",visibility:"hidden",defaultValue:0},_focusedMonth:{type:"int",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{select:{},pageChange:{}}},renderer:n});_.prototype.init=function(){var t=c.getCalendarType();this.setProperty("primaryCalendarType",t);this._iMinMonth=0;this._iMaxMonth=11};_.prototype.onAfterRendering=function(){var t,e=this.getMonth(),a=this.getMonths(),i=this.getProperty("_firstMonth"),s=this.getProperty("_focusedMonth"),o=this._oItemNavigation?this._oItemNavigation.getFocusedIndex():0;m.call(this);y.call(this);if(this.getColumns()>0){t=s%a;var n=parseInt(d/a),r=n*a;if(s>=r){t=12-r+1+t}}else if(e<i||e>i+a-1){t=o}else{t=e-i}this._oItemNavigation.focusItem(t)};_.prototype.setMonth=function(t){var e=Math.floor(t/this.getMonths())*this.getMonths();if(e+this.getMonths()>12){e=12-this.getMonths()}this.setProperty("month",t);this.setProperty("_focusedMonth",t);this.setProperty("_firstMonth",e);t=this.getProperty("month");if(t<0||t>11){throw new Error("Property month must be between 0 and 11; "+this)}if(this.getIntervalSelection()){this._oItemNavigation&&this._oItemNavigation.focusItem(t);return this}if(this.getDomRef()){if(this.getMonths()<12){var a=this.getStartMonth();if(t>=a&&t<=a+this.getMonths()-1){this._selectMonth(t,true);this._oItemNavigation.focusItem(t-a)}else{S.call(this,t)}}else{this._selectMonth(t,true);this._oItemNavigation.focusItem(t)}}return this};_.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};_.prototype._getSelectedDates=function(){var t=this.getSelectedDates(),e;if(t){return t}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new l];e=f.fromLocalJSDate(new Date,this.getPrimaryCalendarType());e.setMonth(this.getMonth(),1);this._iYear&&e.setYear(this._iYear);this._aMPSelectedDates[0].setStartDate(e.toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};_.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(t){t.destroy()});this._aMPSelectedDates=undefined}};_.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._oItemNavigation.getFocusedIndex()]};_.prototype._setSelectedDatesControlOrigin=function(t){this._oSelectedDatesControlOrigin=t};_.prototype._setYear=function(t){this._iYear=t};_.prototype._setDate=function(t){this._oDate=t};_.prototype._getLocale=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocale){return t._getLocale()}else if(!this._sLocale){this._sLocale=c.getFormatSettings().getFormatLocale().toString()}return this._sLocale};_.prototype._getLocaleData=function(){var t=this._oSelectedDatesControlOrigin;if(t&&t._getLocaleData){return t._getLocaleData()}else if(!this._oLocaleData){var e=this._getLocale();var i=new o(e);this._oLocaleData=a.getInstance(i)}return this._oLocaleData};_.prototype.onsapspace=function(t){t.preventDefault()};_.prototype.onsapselect=function(t){var e=this._oItemNavigation.getFocusedIndex();var a=e+this.getStartMonth();if(a>=this._iMinMonth&&a<=this._iMaxMonth){this._selectMonth(a);this.fireSelect()}};_.prototype.onmousedown=function(t){this._oMousedownPosition={clientX:t.clientX,clientY:t.clientY}};_.prototype.onmouseup=function(t){var a=t.target,i=this._getSelectedDates()[0],s,o,n;if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&a.classList.contains("sapUiCalItem")&&i){s=f.fromLocalJSDate(i.getStartDate(),this.getPrimaryCalendarType());o=i.getEndDate();n=this._extractMonth(a);if(n!==s.getMonth()&&!o&&n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this._oItemNavigation.focusItem(n)}}this.fireSelect()}else if(e.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,t.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,t.clientY,10)){n=this._oItemNavigation.getFocusedIndex()+this.getStartMonth();if(n>=this._iMinMonth&&n<=this._iMaxMonth){this._selectMonth(n);this.fireSelect()}}};_.prototype.onmouseover=function(t){var e=t.target,a=this._getSelectedDates()[0],i,s;if(!a){return}if(a.getStartDate()){i=f.fromLocalJSDate(a.getStartDate(),this.getPrimaryCalendarType());i.setDate(1)}if(e.classList.contains("sapUiCalItem")){s=f.fromLocalJSDate(new Date,this.getPrimaryCalendarType());s.setMonth(this._extractMonth(e),1);this._iYear&&s.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(i,s)}}};_.prototype.onThemeChanged=function(){if(this._bNoThemeChange){return}if(!this.getDomRef()){return}var t=this._oItemNavigation.getItemDomRefs(),e=this._getLocaleData(),a=e.getMonthsStandAlone("wide",this.getPrimaryCalendarType()),i,s;this._bNamesLengthChecked=undefined;this._bLongMonth=false;for(i=0;i<t.length;i++){s=r(t[i]);s.text(a[i])}y.call(this)};_.prototype.nextPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a+i;if(a>d-1){a=d-1}S.call(this,a);var s=Math.floor(this.getStartMonth()+this.getMonths())%d;if(s+this.getMonths()>12){s=12-this.getMonths()}this.setProperty("_firstMonth",s);return this};_.prototype.previousPage=function(){var t=this.getStartMonth(),e=this._oItemNavigation.getFocusedIndex(),a=e+t,i=this.getMonths();a=a-i;if(a<0){a=0}S.call(this,a);var s=Math.floor(this.getStartMonth()-this.getMonths())%d;if(s<0){s=0}this.setProperty("_firstMonth",s);return this};_.prototype.setMinMax=function(t,e){var a,i,s,o;if(t==this._iMinMonth&&e==this._iMaxMonth){return this}t=parseInt(t);if(isNaN(t)||t<0||t>11){t=0}e=parseInt(e);if(isNaN(e)||e<0||e>11){e=11}if(t<=e){this._iMinMonth=t;this._iMaxMonth=e}else{this._iMaxMonth=t;this._iMinMonth=e}if(this.getDomRef()){a=this._oItemNavigation.getItemDomRefs();for(o=0;o<a.length;o++){i=r(a[o]);s=this._extractMonth(a[o]);if(s<this._iMinMonth||s>this._iMaxMonth){i.addClass("sapUiCalItemDsbl");i.attr("aria-disabled",true)}else{i.removeClass("sapUiCalItemDsbl");i.removeAttr("aria-disabled")}}}return this};_.prototype.getStartMonth=function(){return this.getProperty("_firstMonth")};_.prototype._isValueInThreshold=function(t,e,a){var i=t-a,s=t+a;return e>=i&&e<=s};_.prototype._getSecondaryCalendarType=function(){return this.getSecondaryCalendarType()===this.getPrimaryCalendarType()?undefined:this.getSecondaryCalendarType()};_.prototype._getDisplayedSecondaryDates=function(t){var e=this.getSecondaryCalendarType(),a=new f(this._oDate?this._oDate:f.fromLocalJSDate(new Date),this.getPrimaryCalendarType()),i,s;a.setMonth(t);a.setDate(1);i=new f(a,e);a.setDate(g._daysInMonth(a));s=new f(a,e);return{start:i,end:s}};function m(){var t=this.getDomRef(),e=this.$().find(".sapUiCalItem"),a=this.getColumns();if(!this._oItemNavigation){this._oItemNavigation=new i;this._oItemNavigation.attachEvent(i.Events.AfterFocus,this._handleAfterFocus,this);this._oItemNavigation.attachEvent(i.Events.FocusAgain,M,this);this._oItemNavigation.attachEvent(i.Events.BorderReached,D,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(e);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(a,true);var s=this.getMonth()-this.getStartMonth();this._oItemNavigation.setFocusedIndex(s);this._oItemNavigation.setPageSize(e.length)}_.prototype._handleAfterFocus=function(t){var e=t.getParameter("index"),a=t.getParameter("event"),i=this._oItemNavigation.aItemDomRefs[e],s=this._getSelectedDates()[0],o,n;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,e)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=f.fromLocalJSDate(s.getStartDate(),this.getPrimaryCalendarType());o.setDate(1)}n=f.fromLocalJSDate(new Date,this.getPrimaryCalendarType());n.setMonth(this._extractMonth(i),1);this._iYear&&n.setYear(this._iYear);if(this._isSelectionInProgress()){this._markInterval(o,n)}}};function M(t){this._handleAfterFocus(t)}_.prototype._isSelectionInProgress=function(){var t=this._getSelectedDates()[0];if(!t){return false}return this.getIntervalSelection()&&t.getStartDate()&&!t.getEndDate()};_.prototype._extractMonth=function(t){var e=this.getId().length+u;return parseInt(t.id.slice(e))};_.prototype._markInterval=function(t,e){var a=this._oItemNavigation.getItemDomRefs(),i=f.fromLocalJSDate(new Date,this.getPrimaryCalendarType()),s;if(t.isAfter(e)){e=[t,t=e][0]}if(this._bMousedownChange){if(e.getMonth()>this._iMinMonth&&e.getMonth()<this._iMaxMonth){r(a[e.getMonth()]).addClass("sapUiCalItemSel")}if(t.getMonth()>this._iMinMonth&&t.getMonth()<this._iMaxMonth){r(a[t.getMonth()]).addClass("sapUiCalItemSel")}}for(s=0;s<a.length;++s){i.setMonth(this._extractMonth(a[s]),1);this._iYear&&i.setYear(this._iYear);if(g._isBetween(i,t,e)&&i.getMonth()>this._iMinMonth&&i.getMonth()<this._iMaxMonth){r(a[s]).addClass("sapUiCalItemSelBetween")}else{r(a[s]).removeClass("sapUiCalItemSelBetween")}if(this._bMousedownChange&&!i.isSame(t)&&!i.isSame(e)){r(a[s]).removeClass("sapUiCalItemSel")}}};_.prototype._handleMousedown=function(t,a){if(t.button||e.support.touch&&!e.system.combi){return}var i=a+this.getStartMonth();if(i>=this._iMinMonth&&i<=this._iMaxMonth){this._selectMonth(i);this._bMousedownChange=true}t.preventDefault();t.setMark("cancelAutoClose")};function D(t){var e=t.getParameter("event"),a=this._oItemNavigation.getFocusedIndex()+this.getStartMonth(),i=this.getMonths(),s=this.getColumns(),o=this._getSelectedDates()[0],n,r=f.fromLocalJSDate(new Date,this.getPrimaryCalendarType()),l=s===0&&i<d;this._iYear&&r.setYear(this._iYear);if(o&&o.getStartDate()){n=f.fromLocalJSDate(o.getStartDate(),this.getPrimaryCalendarType());n.setDate(1)}if(e.type){switch(e.type){case"sapnext":case"sapnextmodifiers":if(l){this._oneRowChangePage(a,true)}else if(e.keyCode===h.ARROW_DOWN&&s<=i){if(a<d-i){S.call(this,a+s,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward});this._oItemNavigation.focusItem(a%s);r.setMonth(a%s,1);this.setProperty("_focusedMonth",a%s);this._isSelectionInProgress()&&this._markInterval(n,r)}else{if(s===0){s=i}S.call(this,a%s,true,p.OneYearForward)}}else{if(a<d-i){S.call(this,a+1,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward});this._oItemNavigation.focusItem(0);r.setMonth(0,1);this._isSelectionInProgress()&&this._markInterval(n,r)}else{S.call(this,0,true,p.OneYearForward)}}break;case"sapprevious":case"sappreviousmodifiers":if(l){this._oneRowChangePage(a)}else if(e.keyCode===h.ARROW_UP&&s<=i){if(a>=i){S.call(this,a-s,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward});this._oItemNavigation.focusItem(i-s+a);r.setMonth(i-s+a,1);this.setProperty("_focusedMonth",i-s+a);this._isSelectionInProgress()&&this._markInterval(n,r)}else{S.call(this,d-s+a,true,p.OneYearBackward)}}else{if(a>=i){S.call(this,a-1,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward});this._oItemNavigation.focusItem(i-1);r.setMonth(i-1,1);this._isSelectionInProgress()&&this._markInterval(n,r)}else{S.call(this,d-1,true,p.OneYearBackward)}}break;case"sappagedown":if(a<d-i){S.call(this,a+i,false,p.OneYearForward)}else if(i===d){this.firePageChange({offset:p.OneYearForward})}else{S.call(this,a,true,p.OneYearForward)}break;case"sappageup":if(a>i){S.call(this,a-i,false,p.OneYearBackward)}else if(i===d){this.firePageChange({offset:p.OneYearBackward})}else{S.call(this,a,true,p.OneYearBackward)}break;default:break}}}_.prototype._oneRowChangePage=function(t,e){var a=this.getProperty("_firstMonth"),i=this.getMonths(),s=e?a+i<d:a>0,o=e?1:-1;if(s){e&&this.nextPage()||this.previousPage();this.firePageChange({offset:0});this.setMonth(t+o)}};_.prototype._selectMonth=function(t,e){var a=this._getSelectedDates()[0],i=this.getAggregation("selectedDates"),s,o;this.setProperty("_focusedMonth",t);if(!a){return}!e&&this.setProperty("month",t);o=f.fromLocalJSDate(new Date,this.getPrimaryCalendarType());o.setMonth(t,1);this._iYear&&o.setYear(this._iYear);if(!this._oSelectedDatesControlOrigin){if(!i||!i.length){this.addAggregation("selectedDates",a,true)}!this.getIntervalSelection()&&a.setStartDate(o.toLocalJSDate())}if(this.getIntervalSelection()&&!e){if(!a.getStartDate()){a.setStartDate(o.toLocalJSDate())}else if(!a.getEndDate()){s=f.fromLocalJSDate(a.getStartDate(),this.getPrimaryCalendarType());if(o.isBefore(s)){a.setEndDate(s.toLocalJSDate());a.setStartDate(o.toLocalJSDate())}else{a.setEndDate(o.toLocalJSDate())}}else{a.setStartDate(o.toLocalJSDate());a.setEndDate(undefined)}}};function y(){if(!this._bNamesLengthChecked){var t=0,e=this._oItemNavigation.getItemDomRefs(),a=false,i=this.getMonths(),s=Math.ceil(d/i),o=i-1;for(var n=0;n<s;n++){if(i<d){S.call(this,o);o=o+i;if(o>d-1){o=d-1}}for(t=0;t<e.length;t++){var h=e[t];if(Math.abs(h.clientWidth-h.scrollWidth)>1){a=true;break}}if(a){break}}if(i<d){o=this.getMonth();S.call(this,o)}if(a){this._bLongMonth=false;var l=this._getLocaleData(),g=this.getPrimaryCalendarType(),f=l.getMonthsStandAlone("abbreviated",g),c=l.getMonthsStandAlone("wide",g);for(t=0;t<e.length;t++){var u=r(e[t]);u.text(f[t]);u.attr("aria-label",c[t])}}else{this._bLongMonth=true}this._bNamesLengthChecked=true}}function S(t,e,a){var i=this._getSelectedDates()[0],s,o;this.setProperty("_focusedMonth",t);if(i&&i.getStartDate()){s=f.fromLocalJSDate(i.getStartDate(),this.getPrimaryCalendarType());s.setDate(1)}if(i&&i.getEndDate()){o=f.fromLocalJSDate(i.getEndDate(),this.getPrimaryCalendarType());o.setDate(1)}else{o=f.fromLocalJSDate(new Date,this.getPrimaryCalendarType());this._iYear&&o.setYear(this._iYear);o.setMonth(t,1)}this._isSelectionInProgress()&&this._markInterval(s,o);if(e){this.firePageChange({offset:a})}}_.prototype._fnShouldApplySelection=function(t){var e=this._getSelectedDates()[0],a,i;if(!e){return false}a=e.getStartDate();i=e.getEndDate();if(a){a=f.fromLocalJSDate(a,this.getPrimaryCalendarType());a.setDate(1)}if(this.getIntervalSelection()&&a&&i){i=f.fromLocalJSDate(i,this.getPrimaryCalendarType());i.setDate(1);if(t.isSame(a)||t.isSame(i)){return true}}else if(a&&t.isSame(a)){return true}return false};_.prototype._fnShouldApplySelectionBetween=function(t){var e=this._getSelectedDates()[0],a,i;if(!e){return false}a=e.getStartDate();i=e.getEndDate();if(this.getIntervalSelection()&&a&&i){a=f.fromLocalJSDate(a,this.getPrimaryCalendarType());a.setDate(1);i=f.fromLocalJSDate(i,this.getPrimaryCalendarType());i.setDate(1);if(g._isBetween(t,a,i)){return true}}return false};return _});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthPickerRenderer",["sap/ui/unified/calendar/CalendarDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText"],function(e,t,a){"use strict";var n={apiVersion:2};n.render=function(n,r){var i=r.getProperty("_firstMonth")!==undefined?r.getProperty("_firstMonth"):r.getMonth(),l=r.getMonths(),o=0,s=r.getColumns(),d=r.getTooltip_AsString(),c=r._getLocaleData(),p=r.getId(),g="",f=[],u=[],y=r.getPrimaryCalendarType(),S=r._getSecondaryCalendarType(),h=t.getDateInstance({format:"y",calendarType:r.getPrimaryCalendarType()}),C=r._iYear?r._iYear:(new Date).getFullYear(),b=h.format(new Date(Date.UTC(C,0,1)),true),M,_,m;if(r._bLongMonth||!r._bNamesLengthChecked){f=c.getMonthsStandAlone("wide",y)}else{f=c.getMonthsStandAlone("abbreviated",y);u=c.getMonthsStandAlone("wide",y)}n.openStart("div",r);n.class("sapUiCalMonthPicker");if(S){n.class("sapUiCalMonthSecType")}if(d){n.attr("tooltip",d)}n.accessibilityState(r,{role:"grid",readonly:"true",multiselectable:r.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("MONTH_PICKER"),describedby:r._bCalendar?a.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT"):""});n.openEnd();var v;if(l>12){l=12}else if(l<12){o=i}if(s>0){g=100/s+"%"}else{g=100/l+"%"}for(M=0;M<l;M++){var T=M+o,D=e.fromLocalJSDate(new Date,r.getPrimaryCalendarType());D.setMonth(T,1);r._iYear&&D.setYear(r._iYear);v={role:"gridcell"};if(!r._bLongMonth&&r._bNamesLengthChecked){v["label"]=u[T]}if(s>0&&M%s===0){n.openStart("div");n.accessibilityState(null,{role:"row"});n.openEnd()}n.openStart("div",p+"-m"+T);n.class("sapUiCalItem");_=r._fnShouldApplySelection(D);m=r._fnShouldApplySelectionBetween(D);if(_){n.class("sapUiCalItemSel");v["selected"]=true}if(m){n.class("sapUiCalItemSelBetween");v["selected"]=true}if(!_&&!m){v["selected"]=false}if(T<r._iMinMonth||T>r._iMaxMonth){n.class("sapUiCalItemDsbl");v["disabled"]=true}v["label"]=f[T]+" "+b;if(S){var I=r.getSecondaryCalendarType(),P=c.getMonthsStandAlone("abbreviated",I),U=t.getDateInstance({format:"y",calendarType:I}),A=r._getDisplayedSecondaryDates(T),w,E,L;if(A.start.getMonth()===A.end.getMonth()){w=P[A.start.getMonth()];E=U.format(A.start.toUTCJSDate(),true)}else{L=c.getIntervalPattern();w=L.replace(/\{0\}/,P[A.start.getMonth()]).replace(/\{1\}/,P[A.end.getMonth()]);E=L.replace(/\{0\}/,U.format(A.start.toUTCJSDate(),true)).replace(/\{1\}/,U.format(A.end.toUTCJSDate(),true))}v["label"]=v["label"]+" "+w+" "+E}n.attr("tabindex","-1");n.style("width",g);n.accessibilityState(null,v);n.openEnd();n.text(f[T]);if(S){n.openStart("div",p+"-m"+T+"-secondary");n.class("sapUiCalItemSecText");n.openEnd();n.text(w);n.close("div")}n.close("div");if(s>0&&(M+1)%s===0){n.close("div")}}n.close("div")};return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/MonthRenderer",["sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/CalendarLegend","sap/ui/unified/CalendarLegendRenderer","sap/ui/core/library","sap/ui/unified/library","sap/base/Log","sap/ui/core/InvisibleText","sap/ui/core/Configuration"],function(e,a,t,i,n,r,s,d,l){"use strict";var o=r.CalendarDayType;var c=n.CalendarType;var p={apiVersion:2};p.render=function(e,a){var t=this.getStartDate(a),i=a.getTooltip_AsString(),n=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),r=a.getId(),s={value:"",append:true},l="",o=a.getWidth();e.openStart("div",a);this.getClass(e,a).forEach(function(a){e.class(a)});if(a._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}this.addWrapperAdditionalStyles(e,a);if(i){e.attr("title",i)}if(a._getShowHeader()){s.value=s.value+" "+r+"-Head"}if(a._bCalendar){l+=" "+d.getStaticId("sap.ui.unified","CALENDAR_MONTH_PICKER_OPEN_HINT")+" "+d.getStaticId("sap.ui.unified","CALENDAR_YEAR_PICKER_OPEN_HINT")}if(o){e.style("width",o)}e.accessibilityState(a,{role:"grid",roledescription:n.getText("CALENDAR_DIALOG"),multiselectable:!a.getSingleSelection()||a.getIntervalSelection(),labelledby:s,describedby:l});e.openEnd();if(a.getIntervalSelection()){e.openStart("span",r+"-Start");e.style("display","none");e.openEnd();e.text(n.getText("CALENDAR_START_DATE"));e.close("span");e.openStart("span",r+"-End");e.style("display","none");e.openEnd();e.text(n.getText("CALENDAR_END_DATE"));e.close("span")}this.renderMonth(e,a,t);e.close("div")};p.addWrapperAdditionalStyles=function(){};p.getStartDate=function(e){return e._getDate()};p.getClass=function(e,a){var t=["sapUiCalMonthView"],i=a.getPrimaryCalendarType(),n=a.getShowWeekNumbers();if(i===c.Islamic||!n){t.push("sapUiCalNoWeekNum")}return t};p.renderMonth=function(e,a,t){this.renderHeader(e,a,t);this.renderDays(e,a,t)};p.renderHeader=function(e,a,t){var i=a._getLocaleData();var n=a._getFirstDayOfWeek();this.renderHeaderLine(e,a,i,t);e.openStart("div");e.accessibilityState(null,{role:"row"});e.style("overflow","hidden");e.openEnd();this.renderDayNames(e,a,i,n,7,true,undefined);e.close("div")};p.renderHeaderLine=function(a,t,i,n){e._checkCalendarDate(n);if(t._getShowHeader()){var r=t.getId();var s=t.getPrimaryCalendarType();var d=i.getMonthsStandAlone("wide",s);a.openStart("div",r+"-Head");a.class("sapUiCalHeadText");a.openEnd();a.text(d[n.getMonth()]);a.close("div")}};p.renderDayNames=function(e,a,t,i,n,r,s){var d=a._getFirstDayOfWeek();var l=a.getId();var o="";var p=a.getPrimaryCalendarType();var y=[];if(a._bLongWeekDays||!a._bNamesLengthChecked){y=t.getDaysStandAlone("abbreviated",p)}else{y=t.getDaysStandAlone("narrow",p)}var g=t.getDaysStandAlone("wide",p);if(a.getShowWeekNumbers()&&p!==c.Islamic){this.renderDummyCell(e,"sapUiCalWH",true,"columnheader")}for(var f=0;f<n;f++){if(r){o=l+"-WH"+(f+d)%7}else{o=l+"-WH"+f}e.openStart("div",o);e.class("sapUiCalWH");if(f===0){e.class("sapUiCalFirstWDay")}if(s){e.style("width",s)}e.accessibilityState(null,{role:"columnheader",label:g[(f+i)%7],hidden:true});e.openEnd();e.text(y[(f+i)%7]);e.close("div")}};p.renderDays=function(a,t,i){var n,r,s,d,l,o,p;e._checkCalendarDate(i);if(!i){i=t._getFocusedDate()}o=i.toUTCJSDate().getTime();if(!o&&o!==0){throw new Error("Date is invalid "+t)}d=this.getDayHelper(t,i);r=t._getVisibleDays(i,true);p=t.getShowWeekNumbers();n=t.getPrimaryCalendarType()!==c.Islamic&&p;s=r.length;for(l=0;l<s;l++){if(l%7===0){a.openStart("div");a.attr("role","row");a.openEnd();if(n){this._renderWeekNumber(a,r[l],d,t)}}this.renderDay(a,t,r[l],d,true,n,-1);if(l%7===6||l===s-1){a.close("div")}}if(s===28){this.renderDummyCell(a,"sapUiCalItem",false,"")}};p.renderDummyCell=function(e,a,t,i){e.openStart("div");e.class(a);e.class("sapUiCalDummy");e.style("visibility",t?"visible":"hidden");e.attr("role",i);e.attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("CALENDAR_WEEK"));e.openEnd();e.close("div")};p.getDayHelper=function(i,n){var r,d,o=i._getLocaleData(),c={sLocale:i._getLocale(),oLocaleData:o,iMonth:n.getMonth(),iYear:n.getYear(),iFirstDayOfWeek:i._getFirstDayOfWeek(),iWeekendStart:o.getWeekendStart(),iWeekendEnd:o.getWeekendEnd(),aNonWorkingDays:i._getNonWorkingDays(),sToday:o.getRelativeDay(0),oToday:a.fromLocalJSDate(e._convertToTimezone(new Date,l.getTimezone()),i.getPrimaryCalendarType()),sId:i.getId(),oFormatLong:i._getFormatLong(),sPrimaryCalendarType:i.getPrimaryCalendarType(),sSecondaryCalendarType:i._getSecondaryCalendarType(),oLegend:undefined};d=i.getLegend();if(d&&typeof d==="string"){r=sap.ui.getCore().byId(d);if(r){if(!(r instanceof t)){throw new Error(r+" is not an sap.ui.unified.CalendarLegend. "+i)}c.oLegend=r}else{s.warning("CalendarLegend "+d+" does not exist!",i)}}return c};p.renderDay=function(t,n,r,s,d,l,c,p,y){e._checkCalendarDate(r);var g=new a(r,s.sSecondaryCalendarType),f={role:n._getAriaRole(),selected:false,label:"",describedby:""},u=r._bBeforeFirstYear,D="",C=s.oLegend,S;var b=n._oFormatYyyymmdd.format(r.toUTCJSDate(),true);var m=r.getDay();var h=n._checkDateSelected(r);var v=n._getDateTypes(r);var W=n._checkDateEnabled(r);var E=0;var _=n._isSpecialDateMarkerEnabled(r);if(u){W=false}if(!y){f["describedby"]=c<0?s.sId+"-WH"+m:s.sId+"-WH"+c}t.openStart("div",s.sId+"-"+b);t.class("sapUiCalItem");t.class("sapUiCalWDay"+m);if(p){t.style("width",p)}if(m===s.iFirstDayOfWeek){t.class("sapUiCalFirstWDay")}if(d&&s.iMonth!==r.getMonth()){t.class("sapUiCalItemOtherMonth");f["disabled"]=true}if(r.isSame(s.oToday)){t.class("sapUiCalItemNow");f["label"]=s.sToday+" "}if(h>0){t.class("sapUiCalItemSel");f["selected"]=true}else{f["selected"]=false}if(h===2){t.class("sapUiCalItemSelStart");f["describedby"]=f["describedby"]+" "+s.sId+"-Start"}else if(h===3){t.class("sapUiCalItemSelEnd");f["describedby"]=f["describedby"]+" "+s.sId+"-End"}else if(h===4){t.class("sapUiCalItemSelBetween")}else if(h===5){t.class("sapUiCalItemSelStart");t.class("sapUiCalItemSelEnd");f["describedby"]=f["describedby"]+" "+s.sId+"-Start";f["describedby"]=f["describedby"]+" "+s.sId+"-End"}if(_){v.forEach(function(e){if(e.type!==o.None){if(e.type===o.NonWorking){t.class("sapUiCalItemWeekEnd");S=this._addNonWorkingDayText(f);return}t.class("sapUiCalItem"+e.type);D=e.type;if(e.tooltip){t.attr("title",e.tooltip)}}}.bind(this))}if(!S){if(s.aNonWorkingDays){s.aNonWorkingDays.forEach(function(e){if(r.getDay()===e){this._addNonWorkingDayText(f)}}.bind(this))}else if(r.getDay()===s.iWeekendStart||r.getDay()===s.iWeekendEnd){this._addNonWorkingDayText(f)}}if((n.getParent()&&n.getParent().getMetadata().getName()==="sap.ui.unified.CalendarOneMonthInterval"||n.getMetadata().getName()==="sap.ui.unified.calendar.OneMonthDatesRow")&&n.getStartDate()&&s.iMonth!==r.getMonth()){t.class("sapUiCalItemOtherMonth")}if(!W){t.class("sapUiCalItemDsbl");f["disabled"]=true}if(s.aNonWorkingDays){for(E=0;E<s.aNonWorkingDays.length;E++){if(m===s.aNonWorkingDays[E]){t.class("sapUiCalItemWeekEnd");break}}}else if(m>=s.iWeekendStart&&m<=s.iWeekendEnd||s.iWeekendEnd<s.iWeekendStart&&(m>=s.iWeekendStart||m<=s.iWeekendEnd)){t.class("sapUiCalItemWeekEnd")}t.attr("tabindex","-1");t.attr("data-sap-day",b);if(y){f["label"]=f["label"]+s.aWeekDaysWide[m]+" "}f["label"]=f["label"]+s.oFormatLong.format(r.toUTCJSDate(),true);if(D!==""){i.addCalendarTypeAccInfo(f,D,C)}if(s.sSecondaryCalendarType){f["label"]=f["label"]+" "+n._oFormatSecondaryLong.format(g.toUTCJSDate(),true)}t.accessibilityState(null,f);t.openEnd();if(v[0]&&_){t.openStart("div");t.class("sapUiCalSpecialDate");if(v[0].color){t.style("background-color",v[0].color)}t.openEnd();t.close("div")}t.openStart("span");t.class("sapUiCalItemText");if(v[0]&&v[0].color){t.class("sapUiCalItemTextCustomColor")}t.openEnd();if(!u){t.text(r.getDate())}t.close("span");if(y){t.openStart("span");t.class("sapUiCalDayName");t.openEnd();t.text(s.aWeekDays[m]);t.close("span")}if(s.sSecondaryCalendarType){t.openStart("span");t.class("sapUiCalItemSecText");t.openEnd();t.text(g.getDate());t.close("span")}t.close("div")};p._addNonWorkingDayText=function(e){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("LEGEND_NON_WORKING_DAY")+" ";e["label"]+=a;return a};p._renderWeekNumber=function(e,a,t,i){var n=i._calculateWeekNumber(a);var r=t.sId+"-WNum-"+n;e.openStart("div",r);e.class("sapUiCalWeekNum");e.accessibilityState(null,{role:"rowheader",labelledby:d.getStaticId("sap.ui.unified","CALENDAR_WEEK")+" "+r});e.openEnd();e.text(n);e.close("div")};return p},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPicker",["sap/ui/core/Control","sap/ui/Device","sap/ui/core/delegate/ItemNavigation","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/DateRange","sap/ui/unified/library","sap/ui/core/format/DateFormat","sap/ui/core/library","sap/ui/core/Locale","sap/ui/core/LocaleData","./YearPickerRenderer","sap/ui/events/KeyCodes","sap/ui/thirdparty/jquery","sap/ui/core/Configuration"],function(e,t,a,r,i,s,o,n,l,h,d,p,g,y,u){"use strict";var c=l.CalendarType;var m=e.extend("sap.ui.unified.calendar.YearPicker",{metadata:{library:"sap.ui.unified",properties:{year:{type:"int",group:"Data",defaultValue:2e3,deprecated:true},years:{type:"int",group:"Appearance",defaultValue:20},intervalSelection:{type:"boolean",group:"Behavior",defaultValue:false},columns:{type:"int",group:"Appearance",defaultValue:4},date:{type:"object",group:"Data"},primaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},secondaryCalendarType:{type:"sap.ui.core.CalendarType",group:"Appearance"},_middleDate:{type:"object",group:"Data",visibility:"hidden"}},aggregations:{selectedDates:{type:"sap.ui.unified.DateRange",multiple:true,singularName:"selectedDate"}},events:{select:{},pageChange:{}}},renderer:p});m.prototype.init=function(){var e=u.getCalendarType();this.setProperty("primaryCalendarType",e);this._oYearFormat=n.getDateInstance({format:"y",calendarType:e});this._oFormatYyyymmdd=n.getInstance({pattern:"yyyyMMdd",calendarType:c.Gregorian});this._oMinDate=r._minDate(this.getPrimaryCalendarType());this._oMaxDate=r._maxDate(this.getPrimaryCalendarType())};m.prototype.onAfterRendering=function(){f.call(this);this.focus()};m.prototype.exit=function(){if(this._aMPSelectedDates&&this._aMPSelectedDates.length){this._aMPSelectedDates.forEach(function(e){e.destroy()});this._aMPSelectedDates=undefined}};m.prototype.getFocusDomRef=function(){return this.getDomRef()&&this._oItemNavigation.getItemDomRefs()[this._iSelectedIndex]};m.prototype.setYear=function(e){this.setProperty("year",e);e=this.getProperty("year");var t=new i(e,0,1,this.getPrimaryCalendarType()),a=this._getSelectedDates()[0],r=this.getAggregation("selectedDates");if(!a||this.getIntervalSelection()){return this}if(!this._oSelectedDatesControlOrigin){if(!r||!r.length){this.addAggregation("selectedDates",a)}!this.getIntervalSelection()&&a.setStartDate(t.toLocalJSDate())}this.setDate(t.toLocalJSDate());return this};m.prototype.setDate=function(e){var t=r._maxDate(this.getProperty("primaryCalendarType")).getYear(),a,s,o,n;e&&r._checkJSDateObject(e);s=e.getFullYear();r._checkYearInValidRange(s);a=i.fromLocalJSDate(e,this.getPrimaryCalendarType());a.setMonth(0,1);this.setProperty("date",e);this.setProperty("year",a.getYear());this._oDate=a;o=this.getYears();n=Math.floor(o/2);if(e.getFullYear()<n){this._iSelectedIndex=e.getFullYear()-1}else if(e.getFullYear()>t-n){this._iSelectedIndex=t+o-e.getFullYear()-1}else{this._iSelectedIndex=n}this.setProperty("_middleDate",a);return this};m.prototype._getDate=function(){if(!this._oDate){var e=this.getYear();this._oDate=new i(e,0,1,this.getPrimaryCalendarType())}return this._oDate};m.prototype._setSelectedDatesControlOrigin=function(e){this._oSelectedDatesControlOrigin=e};m.prototype.getSelectedDates=function(){if(this._oSelectedDatesControlOrigin){return this._oSelectedDatesControlOrigin.getSelectedDates()}return this.getAggregation("selectedDates")};m.prototype._getSelectedDates=function(){var e=this.getSelectedDates();if(e){return e}else if(!this._aMPSelectedDates||!this._aMPSelectedDates.length){this._aMPSelectedDates=[new s];this._aMPSelectedDates[0].setStartDate(this._getDate().toLocalJSDate());return this._aMPSelectedDates}else{return this._aMPSelectedDates}};m.prototype.setPrimaryCalendarType=function(e){this.setProperty("primaryCalendarType",e);this._oYearFormat=n.getDateInstance({format:"y",calendarType:e});if(this._oDate){this._oDate=new i(this._oDate,e);this._oDate.setMonth(0,1)}this._oMinDate=new i(this._oMinDate,e);this._oMaxDate=new i(this._oMaxDate,e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};m.prototype.nextPage=function(){this._updatePage(true,this._oItemNavigation.getFocusedIndex());return this};m.prototype.previousPage=function(){this._updatePage(false,this._oItemNavigation.getFocusedIndex());return this};m.prototype.onsapspace=function(e){e.preventDefault()};m.prototype.onsapselect=function(e){var t=this._oItemNavigation.getFocusedIndex();var a=this._selectYear(t);if(a){this.fireSelect()}};m.prototype.onmouseover=function(e){var t=e.target,a=this._getSelectedDates()[0],r,s,o;if(!a){return}if(a.getStartDate()){r=i.fromLocalJSDate(a.getStartDate(),this.getPrimaryCalendarType());r.setMonth(0,1)}if(t.classList.contains("sapUiCalItem")){o=t.getAttribute("data-sap-year-start");s=i.fromUTCDate(this._oFormatYyyymmdd.parse(o,true),this.getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(r,s)}}};m.prototype.onmousedown=function(e){this._oMousedownPosition={clientX:e.clientX,clientY:e.clientY}};m.prototype.onmouseup=function(e){var a=e.target,r=this._getSelectedDates()[0],s,o,n,l,h=this._oItemNavigation.getItemDomRefs();if(this._bMousedownChange){this._bMousedownChange=false;if(this.getIntervalSelection()&&a.classList.contains("sapUiCalItem")&&r){o=a.getAttribute("data-sap-year-start");l=i.fromUTCDate(this._oFormatYyyymmdd.parse(o,true),this.getPrimaryCalendarType());n=i.fromLocalJSDate(r.getStartDate(),this.getPrimaryCalendarType());n.setMonth(0,1);if(!l.isSame(n)&&!r.getEndDate()){s=h.index(a);this._selectYear.call(this,s);this._oItemNavigation.focusItem(s)}}this.fireSelect()}else if(t.support.touch&&this._isValueInThreshold(this._oMousedownPosition.clientX,e.clientX,10)&&this._isValueInThreshold(this._oMousedownPosition.clientY,e.clientY,10)){s=this._oItemNavigation.getFocusedIndex();if(!h[s].classList.contains("sapUiCalItemDsbl")){this._selectYear(s);this.fireSelect()}}};m.prototype._markInterval=function(e,t){var a=this._oItemNavigation.getItemDomRefs(),s,o,n;if(e.isAfter(t)){t=[e,e=t][0]}for(n=0;n<a.length;++n){o=a[n].getAttribute("data-sap-year-start");s=i.fromUTCDate(this._oFormatYyyymmdd.parse(o,true),this.getPrimaryCalendarType());if(this._bMousedownChange){if((s.isSame(e)||s.isSame(t))&&!r._isOutside(s,this._oMinDate,this._oMaxDate)){y(a[n]).addClass("sapUiCalItemSel")}else{y(a[n]).removeClass("sapUiCalItemSel")}}if(r._isBetween(s,e,t)&&r._isBetween(s,this._oMinDate,this._oMaxDate)){y(a[n]).addClass("sapUiCalItemSelBetween")}else{y(a[n]).removeClass("sapUiCalItemSelBetween")}}};m.prototype.getFirstRenderedDate=function(){var e;if(this.getDomRef()){var t=this._oItemNavigation.getItemDomRefs();e=i.fromUTCDate(this._oFormatYyyymmdd.parse(y(t[0]).attr("data-sap-year-start"),true),this.getPrimaryCalendarType()).toLocalJSDate()}return e};m.prototype._isValueInThreshold=function(e,t,a){var r=e-a,i=e+a;return t>=r&&t<=i};m.prototype.setSecondaryCalendarType=function(e){this.setProperty("secondaryCalendarType",e);if(this._getSecondaryCalendarType()){this.setColumns(2);this.setYears(8)}return this};m.prototype._getSecondaryCalendarType=function(){return this.getSecondaryCalendarType()===this.getPrimaryCalendarType()?undefined:this.getSecondaryCalendarType()};m.prototype._getDisplayedSecondaryDates=function(e){var t=this.getSecondaryCalendarType(),a=new i(e,e.getCalendarType()),r=new i(e,e.getCalendarType());a.setMonth(0,1);a=new i(a,t);r.setYear(r.getYear()+1);r.setMonth(0,1);r.setDate(r.getDate()-1);r=new i(r,t);return{start:a,end:r}};m.prototype._getLocale=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocale){return e._getLocale()}else if(!this._sLocale){this._sLocale=u.getFormatSettings().getFormatLocale().toString()}return this._sLocale};m.prototype._getLocaleData=function(){var e=this._oSelectedDatesControlOrigin;if(e&&e._getLocaleData){return e._getLocaleData()}else if(!this._oLocaleData){var t=this._getLocale();var a=new h(t);this._oLocaleData=d.getInstance(a)}return this._oLocaleData};m.prototype._checkFirstDate=function(e){var t=this.getYears(),a=new i(this._oMaxDate,this.getPrimaryCalendarType());if(!a.isSame(r._maxDate(this.getPrimaryCalendarType()))){return e}a.setYear(a.getYear()-t+1);if(e.isAfter(a)&&e.getYear()!=a.getYear()){e=new i(a,this.getPrimaryCalendarType());e.setMonth(0,1)}else if(e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){e=new i(this._oMinDate,this.getPrimaryCalendarType());e.setMonth(0,1)}return e};m.prototype._checkDateEnabled=function(e){var t=true;if(e.isAfter(this._oMaxDate)&&e.getYear()!=this._oMaxDate.getYear()||e.isBefore(this._oMinDate)&&e.getYear()!=this._oMinDate.getYear()){t=false}return t};m.prototype._updatePage=function(e,t,a){var r=this._oItemNavigation.getItemDomRefs();var s=i.fromUTCDate(this._oFormatYyyymmdd.parse(y(r[0]).attr("data-sap-year-start"),true),this.getPrimaryCalendarType());var o=this.getYears();if(e){var n=new i(this._oMaxDate,this.getPrimaryCalendarType());n.setYear(n.getYear()-o+1);if(s.isBefore(n)){s.setYear(s.getYear()+o);if(s.isAfter(n)){t=t+(s.getYear()-n.getYear());if(t>o-1){t=o-1}s=new i(this._oMaxDate,this.getPrimaryCalendarType());this._oDate.setMonth(0,1)}}else{return}}else{if(s.isAfter(this._oMinDate)){s.setYear(s.getYear()-o);if(s.isBefore(this._oMinDate)){t=t-(this._oMinDate.getYear()-s.getYear());if(t<0){t=0}s=new i(this._oMinDate,this.getPrimaryCalendarType())}}else{return}}s.setYear(s.getYear()+Math.floor(o/2));this._iSelectedIndex=t;this.setProperty("_middleDate",s);if(a){this.firePageChange()}};m.prototype._selectYear=function(e){var t=this._oItemNavigation.getItemDomRefs(),a=y(t[e]),r=a.attr("data-sap-year-start"),s=i.fromUTCDate(this._oFormatYyyymmdd.parse(r,true),this.getPrimaryCalendarType()),o=this._getSelectedDates()[0],n=this.getAggregation("selectedDates"),l;if(a.hasClass("sapUiCalItemDsbl")){return false}if(!this._isSelectionInProgress()){var h=true}this.setProperty("year",s.getYear(),h);this.setProperty("date",s.toLocalJSDate(),h);if(!o){return true}if(!this._oSelectedDatesControlOrigin){if(!n||!n.length){this.addAggregation("selectedDates",o)}!this.getIntervalSelection()&&o.setStartDate(s.toLocalJSDate(),h)}if(this.getIntervalSelection()){if(!o.getStartDate()){o.setStartDate(s.toLocalJSDate(),h)}else if(!o.getEndDate()){l=i.fromLocalJSDate(o.getStartDate(),this.getPrimaryCalendarType());if(s.isBefore(l)){o.setEndDate(l.toLocalJSDate(),h);o.setStartDate(s.toLocalJSDate(),h)}else{o.setEndDate(s.toLocalJSDate(),h)}}else{o.setStartDate(s.toLocalJSDate(),h);o.setEndDate(undefined,h)}}if(h){for(var d=0;d<t.length;d++){a=y(t[d]);r=a.attr("data-sap-year-start");var p=i.fromUTCDate(this._oFormatYyyymmdd.parse(r,true),this.getPrimaryCalendarType());var g=this._fnShouldApplySelection(p);var u=this._fnShouldApplySelectionBetween(p);if(g){a.addClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(u){a.addClass("sapUiCalItemSelBetween");a.attr("aria-selected","true")}if(!g&&!u){a.removeClass("sapUiCalItemSel");a.removeClass("sapUiCalItemSelBetween");a.attr("aria-selected","false")}}}return true};m.prototype._isSelectionInProgress=function(){var e=this._getSelectedDates()[0];if(!e){return false}return this.getIntervalSelection()&&e.getStartDate()&&!e.getEndDate()};function f(){var e=this.getDate()?i.fromLocalJSDate(this.getDate(),this.getPrimaryCalendarType()):this._getDate(),t=this.getDomRef(),s=this.$().find(".sapUiCalItem"),o,n,l,h;for(h=0;h<s.length;++h){n=s[h].getAttribute("data-sap-year-start");l=i.fromUTCDate(this._oFormatYyyymmdd.parse(n,true),this.getPrimaryCalendarType());if(l.isSame(e)){o=h;break}}if(!this._oItemNavigation){this._oItemNavigation=new a;this._oItemNavigation.attachEvent(a.Events.AfterFocus,D,this);this._oItemNavigation.attachEvent(a.Events.FocusAgain,_,this);this._oItemNavigation.attachEvent(a.Events.BorderReached,S,this);this.addDelegate(this._oItemNavigation);this._oItemNavigation.setHomeEndColumnMode(true,true);this._oItemNavigation.setDisabledModifiers({sapnext:["alt","meta"],sapprevious:["alt","meta"],saphome:["alt","meta"],sapend:["meta"]})}this._oItemNavigation.setRootDomRef(t);this._oItemNavigation.setItemDomRefs(s);this._oItemNavigation.setCycling(false);this._oItemNavigation.setColumns(this.getColumns(),true);if(r._isBetween(e,this._oMinDate,this._oMaxDate,true)){this._oItemNavigation.setFocusedIndex(o)}this._oItemNavigation.setPageSize(s.length)}function D(e){var t=e.getParameter("index"),a=e.getParameter("event"),r=this._oItemNavigation.aItemDomRefs[t],s=this._getSelectedDates()[0],o,n,l;if(!a){return}if(a.type==="mousedown"){this._handleMousedown(a,t)}else if(a.type==="sapnext"||a.type==="sapprevious"){if(!s){return}if(s.getStartDate()){o=i.fromLocalJSDate(s.getStartDate(),this.getPrimaryCalendarType());o.setMonth(0,1)}l=r.getAttribute("data-sap-year-start");n=i.fromUTCDate(this._oFormatYyyymmdd.parse(l,true),this.getPrimaryCalendarType());if(this._isSelectionInProgress()){this._markInterval(o,n)}}}function _(e){D.call(this,e)}m.prototype._handleMousedown=function(e,a){if(e.button||t.support.touch&&!t.system.combi){return}var r=this._selectYear(a);if(r){this._bMousedownChange=true}e.preventDefault();e.setMark("cancelAutoClose")};function S(e){var t=e.getParameter("event"),a=this._oItemNavigation.getFocusedIndex(),r=this.getYears(),s=this.getColumns(),o=this._getSelectedDates()[0],n=this._oItemNavigation.getItemDomRefs(),l,h,d;if(o&&o.getStartDate()){l=i.fromLocalJSDate(o.getStartDate(),this.getPrimaryCalendarType());l.setMonth(0,1)}if(t.type){if(s===0){s=r}switch(t.type){case"sapnext":case"sapnextmodifiers":if(t.keyCode===g.ARROW_DOWN&&s<r){d=n[a-r+s].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(true,a-r+s,true);this._iSelectedIndex=a-r+s}else{d=n[0].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(true,0,true)}break;case"sapprevious":case"sappreviousmodifiers":if(t.keyCode===g.ARROW_UP&&s<r){d=n[r-s+a].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(false,r-s+a,true);this._iSelectedIndex=r-s+a}else{d=n[r-1].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(false,r-1,true)}break;case"sappagedown":d=n[a].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(true,a,true);break;case"sappageup":d=n[a].getAttribute("data-sap-year-start");h=i.fromUTCDate(this._oFormatYyyymmdd.parse(d,true),this.getPrimaryCalendarType());this._updatePage(false,a,true);break;default:break}}this._isSelectionInProgress()&&this._markInterval(l,h)}m.prototype._fnShouldApplySelection=function(e){var t=this._getSelectedDates()[0],a,r;if(!t){return false}a=t.getStartDate();r=t.getEndDate();if(a){a=i.fromLocalJSDate(a,this.getPrimaryCalendarType());a.setMonth(0,1)}if(this.getIntervalSelection()&&a&&r){r=i.fromLocalJSDate(r,this.getPrimaryCalendarType());r.setMonth(0,1);if(e.isSame(a)||e.isSame(r)){return true}}else if(a&&e.isSame(a)){return true}return false};m.prototype._fnShouldApplySelectionBetween=function(e){var t=this._getSelectedDates()[0],a,s;if(!t){return false}a=t.getStartDate();s=t.getEndDate();if(this.getIntervalSelection()&&a&&s){a=i.fromLocalJSDate(a,this.getPrimaryCalendarType());a.setMonth(0,1);s=i.fromLocalJSDate(s,this.getPrimaryCalendarType());s.setMonth(0,1);if(r._isBetween(e,a,s)){return true}}return false};return m});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/unified/calendar/YearPickerRenderer",["sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/CalendarUtils","sap/ui/core/date/UniversalDate","sap/ui/core/format/DateFormat","sap/ui/core/InvisibleText"],function(e,t,a,r,i){"use strict";var l={apiVersion:2};l.render=function(e,t){var a=t.getTooltip_AsString();e.openStart("div",t);e.class("sapUiCalYearPicker");if(t._getSecondaryCalendarType()){e.class("sapUiCalMonthSecType")}if(a){e.attr("title",a)}e.accessibilityState(t,this.getAccessibilityState(t));e.openEnd();this.renderCells(e,t);e.close("div")};l.getAccessibilityState=function(e){return{role:"grid",readonly:"true",multiselectable:e.getIntervalSelection(),roledescription:sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified").getText("YEAR_PICKER"),describedby:e._bCalendar?i.getStaticId("sap.ui.unified","CALENDAR_YEAR_RANGE_PICKER_OPEN_HINT"):""}};l.renderCells=function(i,l){var s=l.getProperty("_middleDate")?l.getProperty("_middleDate"):l._getDate(),n=new e(s,l.getPrimaryCalendarType()),d=t._minDate(l.getProperty("primaryCalendarType")).getYear(),o=t._maxDate(l.getProperty("primaryCalendarType")).getYear(),c=l.getYears(),p=l.getId(),u=l.getColumns(),y=l._getSecondaryCalendarType(),f="",g=false,C=l._getLocaleData(),S,m,_,D,T,Y;n.setYear(n.getYear()-Math.floor(c/2));if(n.getYear()<d){n.setYear(d)}else if(n.getYear()+c>o){n.setYear(o-c+1)}if(u>0){f=100/u+"%"}else{f=100/c+"%"}for(Y=0;Y<c;Y++){T=l._oFormatYyyymmdd.format(n.toUTCJSDate(),true);D={role:"gridcell"};g=l._checkDateEnabled(n);if(u>0&&Y%u==0){i.openStart("div");i.accessibilityState(null,{role:"row"});i.openEnd()}i.openStart("div",p+"-y"+T);i.class("sapUiCalItem");m=l._fnShouldApplySelection(n);_=l._fnShouldApplySelectionBetween(n);if(m){i.class("sapUiCalItemSel");D["selected"]=true}if(_){i.class("sapUiCalItemSelBetween");D["selected"]=true}if(!m&&!_){D["selected"]=false}if(!g){i.class("sapUiCalItemDsbl");D["disabled"]=true}S=l._oYearFormat.format(a.getInstance(n.toUTCJSDate(),n.getCalendarType()),true);D["label"]=S;if(y){var b=l._getDisplayedSecondaryDates(n),v=r.getDateInstance({format:"y",calendarType:l.getSecondaryCalendarType()}),I,U;if(b.start.getYear()===b.end.getYear()){I=v.format(b.start.toUTCJSDate(),true)}else{U=C.getIntervalPattern();I=U.replace(/\{0\}/,v.format(b.start.toUTCJSDate()),true).replace(/\{1\}/,v.format(b.end.toUTCJSDate(),true))}D["label"]=D["label"]+" "+I}i.attr("tabindex","-1");i.attr("data-sap-year-start",T);i.style("width",f);i.accessibilityState(null,D);i.openEnd();i.text(S);if(y){i.openStart("div",p+"-y"+T+"-secondary");i.class("sapUiCalItemSecText");i.openEnd();i.text(I);i.close("div")}i.close("div");n.setYear(n.getYear()+1);if(u>0&&(Y+1)%u==0){i.close("div")}}};return l},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/AnchorBar",["sap/ui/thirdparty/jquery","sap/m/Button","sap/m/MenuButton","sap/m/library","sap/m/Toolbar","sap/ui/core/IconPool","sap/ui/core/Item","sap/ui/core/ResizeHandler","sap/ui/core/delegate/ScrollEnablement","sap/ui/layout/HorizontalLayout","sap/ui/Device","sap/ui/core/CustomData","sap/ui/core/Control","./HierarchicalSelect","./library","sap/uxap/AnchorBarRenderer","sap/base/Log","sap/ui/core/Configuration","sap/ui/dom/jquery/scrollLeftRTL"],function(t,e,o,i,r,s,n,a,l,c,h,u,p,f,d,g,_,S){"use strict";var y=i.SelectType;var A=r.extend("sap.uxap.AnchorBar",{metadata:{library:"sap.uxap",properties:{showPopover:{type:"boolean",defaultValue:true},upperCase:{type:"boolean",defaultValue:false},backgroundDesign:{type:"sap.m.BackgroundDesign",group:"Appearance"}},associations:{selectedButton:{type:"sap.m.Button",multiple:false}},aggregations:{_select:{type:"sap.uxap.HierarchicalSelect",multiple:false,visibility:"hidden"},_scrollArrowLeft:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_scrollArrowRight:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},renderer:g});A.ButtonDelegate={onAfterRendering:function(){var t=this.isA("sap.m.MenuButton")?this._getButtonControl():this,e=this.hasStyleClass("sapUxAPAnchorBarButtonSelected");if(this.data("bHasSubMenu")){t.$().attr("aria-haspopup","menu");t.$().find(".sapMBtn").attr("role","none").removeAttr("aria-haspopup")}t.$().attr("aria-controls",this.data("sectionId")).attr("aria-selected",e)}};A.prototype.init=function(){if(r.prototype.init){r.prototype.init.call(this)}this.addStyleClass("sapUxAPAnchorBar");this._oPressHandlers={};this._oSectionInfo={};this._oScroller=null;this._sSelectedKey=null;this._bRtl=S.getRTL();this._bHasButtonsBar=h.system.tablet||h.system.desktop;this.oLibraryResourceBundleOP=sap.ui.getCore().getLibraryResourceBundle("sap.uxap");this._oSelect=this._getHierarchicalSelect();if(this._bHasButtonsBar){this._oScroller=new l(this,this.getId()+"-scroll",{horizontal:true,vertical:false,nonTouchScrolling:true});this._iREMSize=0;this._iTolerance=0;this._iOffset=0;this._sResizeListenerId=undefined}this.setDesign("Transparent")};A.SCROLL_STEP=250;A.SCROLL_DURATION=500;A.DOM_CALC_DELAY=200;A.prototype.setSelectedButton=function(t){var e=this.getSelectedButton(),o,i=this._oSelect.getItems(),r=i.length>0;if(typeof t==="string"){t=sap.ui.getCore().byId(t)}if(t){if(t.getId()===e){return this}var s=t.data("sectionId");this._sSelectedKey=s;if(s&&r){this._oSelect.setSelectedKey(s)}if(this._bHasButtonsBar&&t.data("secondLevel")!==true){o=sap.ui.getCore().byId(e);this._toggleSelectionStyleClass(o,false);this._toggleSelectionStyleClass(t,true);if(s){this.scrollToSection(s,A.SCROLL_DURATION)}this._setAnchorButtonsTabFocusValues(t)}this.setAssociation("selectedButton",t,true)}return this};A.prototype.setShowPopover=function(t,e){if(this.getShowPopover()===t){return this}return this.setProperty("showPopover",t,true)};A.prototype.getSelectedSection=function(){var t=this.getSelectedButton();if(t&&typeof t==="string"){t=sap.ui.getCore().byId(t)}if(t&&t instanceof e&&t.data("sectionId")){return sap.ui.getCore().byId(t.data("sectionId"))}return null};A.prototype.onBeforeRendering=function(){if(this._bHasButtonsBar){this._iREMSize=parseInt(t("body").css("font-size"));this._iTolerance=this._iREMSize*1;this._iOffset=this._iREMSize*3}if(r.prototype.onBeforeRendering){r.prototype.onBeforeRendering.call(this)}var e=this.getContent()||[],o=this.getUpperCase();this._oSelect.setUpperCase(o);this.toggleStyleClass("sapUxAPAnchorBarUpperCase",o);if(e.length>0&&this._sSelectedKey){this._oSelect.setSelectedKey(this._sSelectedKey)}};A.prototype.addContent=function(t,e){var o=t.data("secondLevel")===true||t.data("secondLevel")==="true";t.addStyleClass("sapUxAPAnchorBarButton");t.removeAllAriaDescribedBy();this._createSelectItem(t,o);if(o){t.destroy()}else{t.addEventDelegate(A.ButtonDelegate,t);this.addAggregation("content",t,e)}return this};A.prototype._removeButtonsDelegate=function(){var t=this.getContent();t.forEach(function(t){t.removeEventDelegate(A.ButtonDelegate)})};A.prototype._createSelectItem=function(t,e){var o=t.getBindingInfo("text"),i=t.getText().trim()!=""||o;if(i&&(!e||t.data("bTitleVisible")===true)){var r=new n({key:t.data("sectionId"),text:t.getText(),customData:[new u({key:"secondLevel",value:t.data("secondLevel")})]});if(o){r.bindProperty("text",Object.assign({},o))}this._oSelect.addItem(r)}};A.prototype._decorateSubMenuButtons=function(t){var e=t.getSource().getContent();e.forEach(function(t){t.$().attr("aria-controls",t.data("sectionId"))})};A.prototype._toggleSelectionStyleClass=function(t,e){if(t&&t.toggleStyleClass){t.toggleStyleClass("sapUxAPAnchorBarButtonSelected",e);if(t instanceof o){t._getButtonControl().$().attr("aria-selected",e)}else{t.$().attr("aria-selected",e)}}};A.prototype.onButtonPress=function(t){this.fireEvent("_anchorPress",{sectionBaseId:t.getSource().data("sectionId")})};A.prototype._onSelectChange=function(t){var e=t.getParameter("selectedItem"),o,i;if(!e){_.warning("AnchorBar :: no selected hierarchicalSelect item");return}o=sap.ui.getCore().byId(e.getKey());if(o){this.fireEvent("_anchorPress",{sectionBaseId:o.getId()});i=o.getDomRef();if(i){i.focus()}}else{_.error("AnchorBar :: cannot find corresponding section",e.getKey())}};A.prototype._getHierarchicalSelect=function(){if(!this.getAggregation("_select")){this.setAggregation("_select",new f({width:"100%",icon:"sap-icon://slim-arrow-down",tooltip:this.oLibraryResourceBundleOP.getText("ANCHOR_BAR_OVERFLOW"),change:t.proxy(this._onSelectChange,this)}))}return this.getAggregation("_select")};A.prototype._createScrollArrow=function(t){var o,i,r,n,a,l=this,h=this.oLibraryResourceBundleOP.getText("TOOLTIP_OP_SCROLL_LEFT_ARROW"),u=this.oLibraryResourceBundleOP.getText("TOOLTIP_OP_SCROLL_RIGHT_ARROW");if(t){o=this.getId()+"-arrowScrollLeft";i="slim-arrow-left";r="anchorBarArrowLeft";n=this._bRtl?u:h}else{o=this.getId()+"-arrowScrollRight";i="slim-arrow-right";r="anchorBarArrowRight";n=this._bRtl?h:u}a=new e(o,{icon:s.getIconURI(i),type:"Transparent",press:function(e){e.preventDefault();l._handleScrollButtonTap(t)},tooltip:n});a.addEventDelegate({onAfterRendering:function(){if(S.getTheme()!="sap_hcb"){this.$().attr("tabindex",-1)}},onThemeChanged:function(){if(S.getTheme()=="sap_hcb"){this.$().removeAttr("tabindex")}else{this.$().attr("tabindex",-1)}}},a);return new c({content:[a]}).addStyleClass("anchorBarArrow").addStyleClass(r)};A.prototype._getScrollArrowLeft=function(){var t=this.getAggregation("_scrollArrowLeft");if(t){return t}else{t=this._createScrollArrow(true);this.setAggregation("_scrollArrowLeft",t);return t}};A.prototype._getScrollArrowRight=function(){var t=this.getAggregation("_scrollArrowRight");if(t){return t}else{t=this._createScrollArrow(false);this.setAggregation("_scrollArrowRight",t);return t}};A.prototype._applyHierarchicalSelectMode=function(){if(this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon){this.$().find(".sapUxAPAnchorBarScrollContainer").show();this._oSelect.setWidth("auto");this._oSelect.setAutoAdjustWidth(true);this._oSelect.setType(y.IconOnly);this._computeBarSectionsInfo()}else{this.$().find(".sapUxAPAnchorBarScrollContainer").hide();this._oSelect.setWidth("100%");this._oSelect.setAutoAdjustWidth(false);this._oSelect.setType(y.Default)}this.$().toggleClass("sapUxAPAnchorBarOverflow",this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon)};A.prototype._adjustSize=function(t){var e=h.media.getCurrentRange(h.media.RANGESETS.SAP_STANDARD,this._getWidth(this)),o=t&&t.size&&t.size.width!==t.oldSize.width,i=d.Utilities.isPhoneScenario(e)?g._AnchorBarHierarchicalSelectMode.Text:g._AnchorBarHierarchicalSelectMode.Icon;if(i!==this._sHierarchicalSelectMode){this._sHierarchicalSelectMode=i;this._applyHierarchicalSelectMode()}if(this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon){if(this._iMaxPosition<0){return}var r=this.$(),s=r.find(".sapUxAPAnchorBarScrollContainer"),n,a,l,c,u=function t(){var e=n;n=a;a=e};if(o){this.scrollToSection(this._sSelectedKey)}l=s.width();c=this._bRtl?s.scrollLeftRTL():s.scrollLeft();n=c>=this._iTolerance;a=c+l<this._iMaxPosition-this._iTolerance;if(this._bRtl){u()}_.debug("AnchorBar :: scrolled at "+c,"scrollBegin ["+(n?"true":"false")+"] scrollEnd ["+(a?"true":"false")+"]");r.toggleClass("sapUxAPAnchorBarScrollLeft",n);r.toggleClass("sapUxAPAnchorBarScrollRight",a)}};A.prototype._handleScrollButtonTap=function(t){var e=!this._bRtl&&t||this._bRtl&&!t?-1:1;this._oScroller.scrollTo(this._iMaxPosition*e,0,A.SCROLL_DURATION*3)};A.prototype.scrollToSection=function(t,e){if(this._bHasButtonsBar){var o=h.media.getCurrentRange(h.media.RANGESETS.SAP_STANDARD,this._getWidth(this)),e=e||A.SCROLL_DURATION,i;if(!d.Utilities.isPhoneScenario(o)&&this._oSectionInfo[t]){if(this._bRtl&&h.browser.firefox){i=this._oSectionInfo[t].scrollLeft+this._iOffset}else{i=this._oSectionInfo[t].scrollLeft-this._iOffset;if(i<0){i=0}}_.debug("AnchorBar :: scrolling to section "+t+" of "+i);if(this._sCurrentScrollId!=t){this._sCurrentScrollId=t;if(this._iCurrentScrollTimeout){clearTimeout(this._iCurrentScrollTimeout);this.$("scroll").parent().stop(true,false)}this._iCurrentScrollTimeout=setTimeout(function(){this._sCurrentScrollId=undefined;this._iCurrentScrollTimeout=undefined}.bind(this),e);this._oScroller.scrollTo(i,0,e)}}else{_.debug("AnchorBar :: no need to scroll to "+t)}}};A.prototype.scrollToCurrentlySelectedSection=function(){var t=this.getSelectedButton(),e=sap.ui.getCore().byId(t),o;if(e){o=e.data("sectionId");this.scrollToSection(o,0)}};A.prototype.getScrollDelegate=function(){return this._oScroller};A.PAGEUP_AND_PAGEDOWN_JUMP_SIZE=5;A.prototype.onsapright=function(t){t.preventDefault();var e;var o=this.getContent();o.forEach(function(o,i){if(t.target.id.indexOf(o.getId())>-1){e=i+1;return}});if(e&&o[e]){o[e].focus()}else if(o[o.length-1]){o[o.length-1].focus()}};A.prototype.onsapleft=function(t){t.preventDefault();var e;var o=this.getContent();o.forEach(function(o,i){if(t.target.id.indexOf(o.getId())>-1){e=i-1;return}});if(e&&o[e]){o[e].focus()}else if(o[0]){o[0].focus()}};A.prototype.onsapdown=function(t){t.preventDefault()};A.prototype.onsapup=function(t){t.preventDefault()};A.prototype.onsaphome=function(t){t.preventDefault();var e=this.getContent();e[0].focus()};A.prototype.onsapend=function(t){t.preventDefault();var e=this.getContent();e[e.length-1].focus()};A.prototype.onsappageup=function(t){this._handlePageUp(t)};A.prototype.onsappagedown=function(t){this._handlePageDown(t)};A.prototype._handlePageUp=function(t){t.preventDefault();var e;var o=this.getContent();o.forEach(function(o,i){if(t.target.id.indexOf(o.getId())>-1){e=i-(A.PAGEUP_AND_PAGEDOWN_JUMP_SIZE+1);return}});if(e&&o[e]){o[e].focus()}else if(o[0]){o[0].focus()}};A.prototype._handlePageDown=function(t){t.preventDefault();var e;var o=this.getContent();o.forEach(function(o,i){if(t.target.id.indexOf(o.getId())>-1){e=i+A.PAGEUP_AND_PAGEDOWN_JUMP_SIZE+1;return}});if(e&&o[e]){o[e].focus()}else if(o[o.length-1]){o[o.length-1].focus()}};A.prototype._setAnchorButtonsTabFocusValues=function(t){var e=this.getContent()||[],o,i="0",r="-1",s="tabIndex";e.forEach(function(e){o=e.getAggregation("_button")?e.getAggregation("_button").$():e.$();if(e===t){o.attr(s,i)}else{o.attr(s,r)}})};A.prototype.onAfterRendering=function(){var e;if(r.prototype.onAfterRendering){r.prototype.onAfterRendering.call(this)}e=sap.ui.getCore().byId(this.getSelectedButton());this._setAnchorButtonsTabFocusValues(e);this._iMaxPosition=-1;this._sResizeListenerId=a.register(this,t.proxy(this._adjustSize,this));this.$().find(".sapUxAPAnchorBarScrollContainer").on("scroll",t.proxy(this._onScroll,this));if(e){this.setSelectedButton(e)}if(this._bHasButtonsBar){this._iComputeContentSizeTimeout=setTimeout(function(){if(this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon){this._computeBarSectionsInfo()}this._adjustSize();this._iComputeContentSizeTimeout=null}.bind(this),A.DOM_CALC_DELAY)}};A.prototype.onThemeChanged=function(){if(this._sHierarchicalSelectMode===g._AnchorBarHierarchicalSelectMode.Icon){this._computeBarSectionsInfo()}};A.prototype._onScroll=function(){if(!this._iCurrentSizeCheckTimeout){this._iCurrentSizeCheckTimeout=setTimeout(function(){this._iCurrentSizeCheckTimeout=undefined;this._adjustSize()}.bind(this),A.SCROLL_DURATION)}};A.prototype._computeBarSectionsInfo=function(){this._iMaxPosition=0;var t=this.getContent()||[];t.forEach(this._computeNextSectionInfo,this);if(this._bRtl&&(h.browser.webkit||h.browser.firefox)){t.forEach(this._adjustNextSectionInfo,this);this._oScroller&&this._oScroller.scrollTo(this._iMaxPosition,0,0)}};A.prototype._computeNextSectionInfo=function(t){var e=t.$().outerWidth(true);this._oSectionInfo[t.data("sectionId")]={scrollLeft:this._iMaxPosition,width:e};this._iMaxPosition+=e};A.prototype._adjustNextSectionInfo=function(t){var e=this._oSectionInfo[t.data("sectionId")];if(h.browser.firefox){e.scrollLeft=-e.scrollLeft}else{e.scrollLeft=this._iMaxPosition-e.scrollLeft-e.width}};A.prototype._resetControl=function(){this._removeButtonsDelegate();this.destroyAggregation("content");this._oSelect.destroyAggregation("items",true);return this};A.prototype._getAccessibilityRole=function(){return"none"};A.prototype.enhanceAccessibilityState=function(t,e){var o=this.getContent(),i=o.indexOf(t);if(i!==-1){e.role="option";e.setsize=o.length;e.posinset=i+1}};A.prototype.exit=function(){if(this._sResizeListenerId){a.deregister(this._sResizeListenerId);this._sResizeListenerId=null}if(this._oScroller){this._oScroller.destroy();this._oScroller=null}if(this.oLibraryResourceBundleOP){this.oLibraryResourceBundleOP=null}if(this._iComputeContentSizeTimeout){clearTimeout(this._iComputeContentSizeTimeout);this._iComputeContentSizeTimeout=null}this._removeButtonsDelegate()};A.prototype._getWidth=function(t){var e=t.getDomRef();return!(t instanceof p)?0:e&&e.offsetWidth||0};A.prototype.setVisible=function(t){this.getParent()&&this.getParent().toggleStyleClass("sapUxAPObjectPageLayoutNoAnchorBar",!t);return this.setProperty("visible",t)};return A});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/AnchorBarRenderer",["sap/m/ToolbarRenderer","sap/ui/core/Renderer","sap/m/BarInPageEnabler","./library"],function(e,r,t,a){"use strict";var o=r.extend(e);o.apiVersion=2;var n=o._AnchorBarHierarchicalSelectMode={Icon:"icon",Text:"text"};o.renderBarContent=function(e,r){if(r._bHasButtonsBar){e.renderControl(r._getScrollArrowLeft());e.openStart("div",r.getId()+"-scrollContainer");e.class("sapUxAPAnchorBarScrollContainer").openEnd();e.openStart("div",r.getId()+"-scroll").attr("role","listbox").attr("aria-describedby",r.getId()+"-desc").attr("aria-label",sap.ui.getCore().getLibraryResourceBundle("sap.uxap").getText("ANCHOR_BAR_ARIA_LABEL")).openEnd();o.renderBarItems(e,r);e.close("div");e.openStart("span",r.getId()+"-desc").class("sapUiPseudoInvisibleText").openEnd();e.text(sap.ui.getCore().getLibraryResourceBundle("sap.uxap").getText("ANCHOR_BAR_ARIA_LABEL_DESC"));e.close("span");e.close("div");e.renderControl(r._getScrollArrowRight())}t.addChildClassTo(r._oSelect,r);e.renderControl(r._oSelect)};o.renderBarItems=function(e,r){var a=r.getSelectedButton();r.getContent().forEach(function(o){t.addChildClassTo(o,r);if(o.getId()===a){o.addStyleClass("sapUxAPAnchorBarButtonSelected")}e.renderControl(o)})};o.decorateRootElement=function(r,t){e.decorateRootElement.apply(this,arguments);if(t._sHierarchicalSelectMode===n.Icon){r.class("sapUxAPAnchorBarOverflow")}if(t.getBackgroundDesign()){r.class("sapUxAPAnchorBar"+t.getBackgroundDesign())}};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/BlockBase",["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/CustomData","sap/ui/core/mvc/View","sap/ui/base/ManagedObjectObserver","./BlockBaseMetadata","./BlockBaseRenderer","sap/ui/model/Context","sap/ui/layout/form/ColumnLayout","./library","sap/ui/core/Component","sap/ui/layout/library","sap/base/Log"],function(e,t,o,i,n,a,s,r,p,u,l,d,g){"use strict";var c=d.form.SimpleFormLayout;var h=u.BlockBaseFormAdjustment;var f=t.extend("sap.uxap.BlockBase",{metadata:{designtime:"sap/uxap/designtime/BlockBase.designtime",library:"sap.uxap",properties:{mode:{type:"string",group:"Appearance"},visible:{type:"boolean",group:"Appearance",defaultValue:true},columnLayout:{type:"sap.uxap.BlockBaseColumnLayout",group:"Behavior",defaultValue:"auto"},formAdjustment:{type:"sap.uxap.BlockBaseFormAdjustment",group:"Behavior",defaultValue:h.BlockColumns},showSubSectionMore:{type:"boolean",group:"Behavior",defaultValue:false}},defaultAggregation:"mappings",aggregations:{mappings:{type:"sap.uxap.ModelMapping",multiple:true,singularName:"mapping"},_views:{type:"sap.ui.core.Control",multiple:true,singularName:"view",visibility:"hidden"}},associations:{selectedView:{type:"sap.ui.core.Control",multiple:false}},events:{viewInit:{parameters:{view:{type:"sap.ui.core.mvc.View"}}}},views:{}},renderer:s},a);f.prototype.init=function(){if(!this.getMetadata().hasViews()){this.getMetadata().setView("defaultXML",{viewName:this.getMetadata().getName(),type:"XML"})}this._oMappingApplied={};this._bLazyLoading=false;this._bConnected=false;this._oUpdatedModels={};this._oParentObjectPageSubSection=null;this._oPromisedViews={};this._oViewDestroyObserver=new n(this._onViewDestroy.bind(this))};f.prototype.onBeforeRendering=function(){var e;this._applyMapping();if(!this.getMode()||this.getMode()===""){if(this.getMetadata().getView("defaultXML")){this.setMode("defaultXML")}else{g.error("BlockBase ::: there is no mode defined for rendering "+this.getMetadata().getName()+". You can either set a default mode on the block metadata or set the mode property before rendering the block.")}}this._applyFormAdjustment();e=this._getObjectPageLayout();this._bLazyLoading=e&&(e.getEnableLazyLoading()||e.getUseIconTabBar())};f.prototype.onAfterRendering=function(){var e=this._getObjectPageLayout();if(e){e._requestAdjustLayout()}};f.prototype.setParent=function(e,o,i){if(e instanceof u.ObjectPageSubSection){this._bLazyLoading=true;this._oParentObjectPageSubSection=e}else{t.prototype.setParent.call(this,e,o,i)}};f.prototype.setModel=function(e,o){this._applyMapping(o);return t.prototype.setModel.call(this,e,o)};f.prototype._applyMapping=function(){if(this._shouldLazyLoad()){g.debug("BlockBase ::: Ignoring the _applyMapping as the block is not connected")}else{this.getMappings().forEach(function(e,o){var i,n,a=e.getInternalModelName(),s=e.getExternalPath(),p=e.getExternalModelName(),u;if(s){if(a==""||s==""){throw new Error("BlockBase :: incorrect mapping, one of the modelMapping property is empty")}i=this.getModel(p);if(!i){return}u=i.resolve(s,this.getBindingContext(p));n=this.getBindingContext(a);if(!this._isMappingApplied(a)||this.getModel(a)!==this.getModel(p)||n&&n.getPath()!==u){g.info("BlockBase :: mapping external model "+p+" to "+a);this._oMappingApplied[a]=true;t.prototype.setModel.call(this,i,a);this.setBindingContext(new r(i,u),a)}}},this)}};f.prototype._isMappingApplied=function(e){return this.getModel(e)&&this._oMappingApplied[e]};f.prototype.propagateProperties=function(e){if(this._shouldLazyLoad()&&!this._oUpdatedModels.hasOwnProperty(e)){this._oUpdatedModels[e]=true}else{this._applyMapping(e)}return t.prototype.propagateProperties.call(this,e)};f.prototype.getSupportedModes=function(){var t=e.extend({},this.getMetadata().getViews());for(var o in t){t[o]=o}return t};f.prototype.setMode=function(e){e=this._validateMode(e);if(this.getMode()!==e){this.setProperty("mode",e,false);if(!this._shouldLazyLoad()){this._selectView(e)}}return this};f.prototype.setColumnLayout=function(e){if(this._oParentObjectPageSubSection){this._oParentObjectPageSubSection.invalidate()}return this.setProperty("columnLayout",e)};f.prototype.clone=function(){var e=-1,o=this.getAssociation("selectedView"),i=this.getAggregation("_views")||[];if(o){i.forEach(function(t,i){if(t.getId()===o){e=i}return e<0})}var n=t.prototype.clone.call(this);if(e>=0){n.setAssociation("selectedView",n.getAggregation("_views")[e])}return n};f.prototype._validateMode=function(e){this.validateProperty("mode",e);if(!this.getMetadata().getView(e)){var t=this.getMetadata()._sClassName||this.getId();if(this.getMetadata().getView("defaultXML")){g.warning("BlockBase :: no view defined for block "+t+" for mode "+e+", loading defaultXML instead");e="defaultXML"}else{throw new Error("BlockBase :: no view defined for block "+t+" for mode "+e)}}return e};f.prototype._getSelectedViewContent=function(){var e=null,t,o;t=this.getAssociation("selectedView");o=this.getAggregation("_views");if(o){for(var i=0;!e&&i<o.length;i++){if(o[i].getId()===t){e=o[i]}}}return e};f.prototype.createView=function(e,t){if(!this._oPromisedViews[e.id]){this._oPromisedViews[e.id]=new Promise(function(o,n){var a=l.getOwnerComponentFor(this),s=function(){var t=function(){return i.create(e)};if(a){return a.runAsOwner(t)}else{return t()}};s().then(function(e){this._afterViewInstantiated(e,t);o(e)}.bind(this))}.bind(this))}return this._oPromisedViews[e.id]};f.prototype._afterViewInstantiated=function(e,t){var i=e.getController();if(e){if(i){i.oParentBlock=this}e.addCustomData(new o({key:"layoutMode",value:t}));this.addAggregation("_views",e);this._oViewDestroyObserver.observe(e,{destroy:true});this.fireEvent("viewInit",{view:e})}else{throw new Error("BlockBase :: no view defined in metadata.views for mode "+t)}};f.prototype._notifyForLoadingInMode=function(e,t,o){if(e&&typeof e.onParentBlockModeChange==="function"){e.onParentBlockModeChange(o)}else{g.info("BlockBase ::: could not notify "+t.sViewName+" of loading in mode "+o+": missing controller onParentBlockModeChange method")}};f.prototype._selectView=function(e){var t,o=this.getId()+"-"+e,i,n;n=function(t){if(t&&this.getAssociation("selectedView")!==o){this.setAssociation("selectedView",t);this._notifyForLoadingInMode(t.getController(),t,e)}}.bind(this);t=this._findView(e);if(t){n(t);return}i=this.getMetadata().getView(e);i.id=o;this.createView(i,e).then(function(e){n(e)})};f.prototype._findView=function(e){var t=this.getAggregation("_views")||[],o,i;i=t.filter(function(t){return t.data("layoutMode")===e});if(i.length){return i[0]}o=this.getMetadata().getView(e);i=t.filter(function(e){return o.viewName===e.getViewName()});if(i.length){return i[0]}};f.FORM_ADUSTMENT_OFFSET=16;f._FORM_ADJUSTMENT_CONST={labelSpan:{L:12},emptySpan:{L:0},columns:{XL:1,L:1,M:1}};f._PARENT_GRID_SIZE=12;f.prototype._computeFormAdjustmentFields=function(t,o){if(t&&o){return t===h.BlockColumns?e.extend({},f._FORM_ADJUSTMENT_CONST,{columns:o}):f._FORM_ADJUSTMENT_CONST}};f.prototype._applyFormAdjustment=function(){var e=this.getFormAdjustment(),t=this._getSelectedViewContent(),o=this._oParentObjectPageSubSection,i;if(e!==h.None&&t&&o){i=this._computeFormAdjustmentFields(e,o._oLayoutConfig);t.getContent().forEach(function(e){this._adjustForm(e,i)}.bind(this))}};f.prototype._adjustForm=function(e,t){var o,i;if(e.getMetadata().getName()==="sap.ui.layout.form.SimpleForm"){e.setLayout(c.ColumnLayout);i=e.getAggregation("form").getLayout();i._iBreakPointTablet-=f.FORM_ADUSTMENT_OFFSET;i._iBreakPointDesktop-=f.FORM_ADUSTMENT_OFFSET;i._iBreakPointLargeDesktop-=f.FORM_ADUSTMENT_OFFSET;e.setLabelSpanL(t.labelSpan.L);e.setEmptySpanL(t.emptySpan.L);this._applyFormAdjustmentFields(t,e);e.setWidth("100%")}else if(e.getMetadata().getName()==="sap.ui.layout.form.Form"){i=e.getLayout();if(i&&i.getMetadata().getName()==="sap.ui.layout.form.ColumnLayout"){o=i}else{o=new p;e.setLayout(o)}o._iBreakPointTablet-=f.FORM_ADUSTMENT_OFFSET;o._iBreakPointDesktop-=f.FORM_ADUSTMENT_OFFSET;o._iBreakPointLargeDesktop-=f.FORM_ADUSTMENT_OFFSET;o.setLabelCellsLarge(t.labelSpan.L);o.setEmptyCellsLarge(t.emptySpan.L);this._applyFormAdjustmentFields(t,o);e.setWidth("100%")}};f.prototype._applyFormAdjustmentFields=function(e,t){t.setColumnsXL(e.columns.XL);t.setColumnsL(e.columns.L);t.setColumnsM(e.columns.M)};f.prototype._getObjectPageLayout=function(){return u.Utilities.getClosestOPL(this)};f.prototype.setVisible=function(e,t){var o=this._getObjectPageLayout();if(e===this.getVisible()){return this}this.setProperty("visible",e,t);o&&o._requestAdjustLayoutAndUxRules();return this};f.prototype.setShowSubSectionMore=function(e,t){if(e!=this.getShowSubSectionMore()){this.setProperty("showSubSectionMore",e,true);if(this._oParentObjectPageSubSection){this._oParentObjectPageSubSection.refreshSeeMoreVisibility()}}return this};f.prototype.connectToModels=function(){if(!this._bConnected){g.debug("BlockBase :: Connecting block to the UI5 model tree");this._bConnected=true;if(this._bLazyLoading){var e=this.getMode();e&&this._selectView(e);this.updateBindings(true,null)}this.invalidate()}};f.prototype._allowPropagationToLoadedViews=function(e){if(!this._bConnected){return}this.mSkipPropagation._views=!e};f.prototype.updateBindingContext=function(e,o,i,n){if(!this._shouldLazyLoad()){return t.prototype.updateBindingContext.call(this,e,o,i,n)}else{g.debug("BlockBase ::: Ignoring the updateBindingContext as the block is not visible for now in the ObjectPageLayout")}};f.prototype.updateBindings=function(e,o){if(!this._shouldLazyLoad()){return t.prototype.updateBindings.call(this,e,o)}else{g.debug("BlockBase ::: Ignoring the updateBindingContext as the block is not visible for now in the ObjectPageLayout")}};f.prototype.exit=function(){if(this._oViewDestroyObserver){this._oViewDestroyObserver.disconnect()}};f.prototype._shouldLazyLoad=function(){return!!this._oParentObjectPageSubSection&&this._bLazyLoading&&!this._bConnected};f.prototype._onViewDestroy=function(e){delete this._oPromisedViews[e.object.getId()]};return f});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/BlockBaseMetadata",["sap/ui/core/ElementMetadata","sap/base/Log","sap/base/util/isEmptyObject"],function(e,t,r){"use strict";var o=function(t,r){e.apply(this,arguments);this._mViews=r.metadata.views||{}};o.prototype=Object.create(e.prototype);o.prototype.constructor=o;o.prototype.applySettings=function(t){var r=t.hasOwnProperty("renderer")?t.renderer||"":undefined;e.prototype.applySettings.call(this,t);if(r==null){this._sRendererName=null}};o.prototype.getRendererName=function(){if(!this._sBlockRenderer){this._sBlockRenderer=this._resolveRendererName();t.debug("BlockBaseMetadata :: "+this.getName()+" is renderer with "+this._sBlockRenderer)}return this._sBlockRenderer};o.prototype._resolveRendererName=function(){var t=e.prototype.getRendererName.call(this);if(t==null){var r=this.getParent();if(r){t=o.prototype._resolveRendererName.apply(r)}else{throw new Error("BlockBaseMetadata :: no renderer found for "+this.getName())}}return t};o.prototype.getView=function(e){return this._mViews[e]};o.prototype.getViews=function(){return this._mViews};o.prototype.setView=function(e,t){this._mViews[e]=t;return this};o.prototype.hasViews=function(){return!r(this._mViews)};return o},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/BlockBaseRenderer",function(){"use strict";var e={apiVersion:2};e.render=function(e,t){if(!t.getVisible()){return}e.openStart("div",t);if(t._getSelectedViewContent()){e.class("sapUxAPBlockBase").class("sapUxAPBlockBase"+t.getMode())}else{var n=t.getMetadata().getName().split(".").pop();e.class(n+t.getMode())}e.openEnd();if(t._getSelectedViewContent()){e.renderControl(t._getSelectedViewContent())}e.close("div")};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/HierarchicalSelect",["sap/m/Select","sap/ui/Device","sap/ui/thirdparty/jquery","./library","./HierarchicalSelectRenderer","sap/ui/thirdparty/jqueryui/jquery-ui-position"],function(e,t,r,i,a){"use strict";var o=e.extend("sap.uxap.HierarchicalSelect",{metadata:{library:"sap.uxap",properties:{upperCase:{type:"boolean",group:"Appearance",defaultValue:false}}},renderer:a});o.POPOVER_MIN_WIDTH_REM=11;o.prototype.onAfterRendering=function(){e.prototype.onAfterRendering.apply(this,arguments)};o.prototype.onAfterRenderingPicker=function(){e.prototype.onAfterRenderingPicker.call(this);this._applyHierarchyLevelClasses()};o.prototype.onAfterRenderingList=function(){e.prototype.onAfterRenderingList.call(this);this._applyHierarchyLevelClasses()};o.prototype._applyHierarchyLevelClasses=function(){var e=this.getItems()||[];e.forEach(function(e){var t=e.data("secondLevel")===true?"sapUxAPHierarchicalSelectSecondLevel":"sapUxAPHierarchicalSelectFirstLevel";e.$().addClass(t)},this)};o.prototype.setUpperCase=function(e,t){this.setProperty("upperCase",e,t);this.toggleStyleClass("sapUxAPHierarchicalSelectUpperCase",e);var r=this.getAggregation("picker");if(r){r.toggleStyleClass("sapMSltPickerFirstLevelUpperCase",e);if(!t){r.invalidate()}}return this};o.prototype.onsapenter=e.prototype.onsapspace;["onsapup","onsappageup","onsappagedown","onsaphome","onsapend"].forEach(function(t){o.prototype[t]=function(r){e.prototype[t].call(this,r);r.stopPropagation()}});o.prototype._createDialog=function(){var t=e.prototype._createDialog.call(this),r=t.getCustomHeader();if(r){r.addStyleClass("sapUxAPHierarchicalSelect")}return t};o.prototype._decoratePopover=function(i){e.prototype._decoratePopover.call(this,i);i._adaptPositionParams=function(){this._marginTop=0;this._marginLeft=0;this._marginRight=0;this._marginBottom=0;this._arrowOffset=0;this._offsets=["0 0","0 0","0 0","0 0"];this._myPositions=["end bottom","end center","end top","begin center"];this._atPositions=["end top","end center","end bottom","begin center"]};if(t.system.tablet||t.system.desktop){var a=r.position.scrollbarWidth();if(a>0){i.setOffsetX(a)}}};o.prototype._onAfterRenderingPopover=function(){var e=this.getPicker(),t=e.getDomRef("cont"),r=t.style.minWidth;if(r.endsWith("rem")){r=r.substring(0,r.length-3);var i=parseFloat(r);if(i<o.POPOVER_MIN_WIDTH_REM&&t){t.style.minWidth=o.POPOVER_MIN_WIDTH_REM+"rem"}}};return o});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/HierarchicalSelectRenderer",["sap/m/SelectRenderer","sap/ui/core/Renderer"],function(e,r){"use strict";var a=r.extend(e);a.apiVersion=2;a.addClass=function(e){e.class("sapUxAPHierarchicalSelect")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/LazyLoading",["sap/ui/thirdparty/jquery","sap/ui/Device","sap/ui/base/Object","./ObjectPageSubSection","./library","sap/base/Log","sap/base/util/isEmptyObject"],function(e,i,t,o,s,r,a){"use strict";var n=t.extend("sap.uxap._helpers.LazyLoading",{constructor:function(i){this._oObjectPageLayout=i;this._$html=e("html");this._iPreviousScrollTop=0;this._iScrollProgress=0;this._iPreviousScrollTimestamp=0;this._sLazyLoadingTimer=null;this._bSuppressed=false;this._oPrevSubSectionsInView={};this.setLazyLoadingParameters()},getInterface:function(){return this}});n.prototype.setLazyLoadingParameters=function(){this.LAZY_LOADING_DELAY=200;this.LAZY_LOADING_EXTRA_PAGE_SIZE=.5;this.LAZY_LOADING_EXTRA_SUBSECTION=this.LAZY_LOADING_DELAY*5;if(this._isPhone()){this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD={FirstRendering:1,ScrollToSection:1}}else if(this._isTablet()){this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD={FirstRendering:2,ScrollToSection:1}}else if(this._isTabletSize()){this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD={FirstRendering:2,ScrollToSection:2}}else{this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD={FirstRendering:3,ScrollToSection:3}}this.LAZY_LOADING_FAST_SCROLLING_THRESHOLD=5};n.prototype.suppress=function(){this._bSuppressed=true};n.prototype.resume=function(){this._bSuppressed=false};n.prototype._triggerVisibleSubSectionsEvents=function(){this._oPrevSubSectionsInView={};this._oObjectPageLayout._requestAdjustLayout(true);this.doLazyLoading()};n.prototype.lazyLoadDuringScroll=function(e,i,t,o){var s,a,n=false;if(this._bSuppressed){return}if(e){if(this._sLazyLoadingTimer){clearTimeout(this._sLazyLoadingTimer)}this._sLazyLoadingTimer=null;this.doLazyLoading();return}this._iScrollProgress=i-this._iPreviousScrollTop;s=Math.round(Math.abs(this._iScrollProgress)/o*100);if(s>=this.LAZY_LOADING_FAST_SCROLLING_THRESHOLD){n=true}this._iPreviousScrollTop=i;this._iPreviousScrollTimestamp=t||0;a=i===0?0:this.LAZY_LOADING_DELAY;if(n&&this._sLazyLoadingTimer){r.debug("ObjectPageLayout :: lazyLoading","delayed by "+a+" ms because of fast scroll");clearTimeout(this._sLazyLoadingTimer);this._sLazyLoadingTimer=null}if(!this._sLazyLoadingTimer){this._sLazyLoadingTimer=setTimeout(this.doLazyLoading.bind(this),a)}};n.prototype.doLazyLoading=function(){var i=this._oObjectPageLayout._getHeightRelatedParameters(),t=this._oObjectPageLayout.getUseIconTabBar(),o=sap.ui.getCore().byId(this._oObjectPageLayout.getSelectedSection()),s=this._oObjectPageLayout._oSectionInfo,n,_,u,L=this._iPreviousScrollTop>=i.iHeaderContentHeight,c,h=-1,l={},d={},g,S,p;if(this._bSuppressed){return}u=i.iScreenHeight-(L?i.iAnchorBarHeight:0)-(L?i.iHeaderTitleHeightStickied:0);n=i.iScrollTop;g=Date.now()-this._iPreviousScrollTimestamp;S=g<this.LAZY_LOADING_DELAY/2&&Math.abs(this._iScrollProgress)>5;if(S){if(this._iScrollProgress>=0){p=Math.round(Math.min(this._iScrollProgress*20,u/2))}else{p=-1*Math.round(Math.min(Math.abs(this._iScrollProgress)*20,u/2))}n+=p;r.debug("ObjectPageLayout :: lazyLoading","Visible page shifted from : "+p)}_=n+u;n+=16;e.each(s,e.proxy(function(e,i){if(!i.isSection&&i.sectionReference.getParent()&&i.sectionReference.getParent().getVisible()){if(t&&o&&o.indexOfSubSection(i.sectionReference)<0){return}if(i.positionTop<=_&&n<i.positionBottom-1){d[e]=e;if(!i.loaded){l[e]=e}}else if(!i.loaded&&i.positionTop>_&&i.positionTop<_+u*this.LAZY_LOADING_EXTRA_PAGE_SIZE&&(h==-1||i.positionTop<h)){h=i.positionTop;c=e}}},this));if(h!=-1&&a(l)){r.debug("ObjectPageLayout :: lazyLoading","extra section added : "+c);l[c]=c}e.each(l,e.proxy(function(e,i){r.debug("ObjectPageLayout :: lazyLoading","connecting "+i);sap.ui.getCore().byId(i).connectToModels();s[i].loaded=true},this));e.each(d,e.proxy(function(e,i){if(!this._oPrevSubSectionsInView[e]){r.debug("ObjectPageLayout :: lazyLoading","subSectionEnteredViewPort "+i);this._oObjectPageLayout.fireEvent("subSectionEnteredViewPort",{subSection:sap.ui.getCore().byId(i)})}},this));this._oPrevSubSectionsInView=d;if(S){this._sLazyLoadingTimer=setTimeout(this.doLazyLoading.bind(this),this.LAZY_LOADING_DELAY)}else{if(h){this._sLazyLoadingTimer=setTimeout(this.doLazyLoading.bind(this),this.LAZY_LOADING_EXTRA_SUBSECTION)}else{this._sLazyLoadingTimer=null}}};n.prototype.getSubsectionsToPreload=function(e,i){var t,s;if(i){t=this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD.ScrollToSection;s=false}else{t=this.NUMBER_OF_SUBSECTIONS_TO_PRELOAD.FirstRendering;s=true}var r=[];e.some(function(e){if(!s&&i){s=e.getId()==i}if(s&&e instanceof o){if(e.getVisible()&&e._getInternalVisible()){r.push(e);t--}}return t<=0});return r};n.prototype.destroy=function(){if(this._sLazyLoadingTimer){clearTimeout(this._sLazyLoadingTimer)}};n.prototype._isPhone=function(){return s.Utilities.isPhoneScenario(this._oObjectPageLayout._getCurrentMediaContainerRange())};n.prototype._isTablet=function(){return i.system.tablet};n.prototype._isTabletSize=function(){return s.Utilities.isTabletScenario(this._oObjectPageLayout._getCurrentMediaContainerRange())};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ModelMapping",["sap/ui/core/Element","./library"],function(e,a){"use strict";var t=e.extend("sap.uxap.ModelMapping",{metadata:{library:"sap.uxap",properties:{externalModelName:{type:"string",group:"Misc",defaultValue:null},internalModelName:{type:"string",group:"Misc",defaultValue:"Model"},externalPath:{type:"string",group:"Misc",defaultValue:null}}}});return t});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectImageHelper",["sap/ui/base/ManagedObject","sap/ui/core/IconPool","sap/m/Avatar","sap/m/Image"],function(e,a,t,c){"use strict";var n=function(){};n.createObjectImage=function(a){var t,r=a.getObjectImageURI();if(r.indexOf("sap-icon://")===0){t=n.instantiateAvatar(r);t.addStyleClass("sapUxAPObjectPageHeaderObjectImageIcon")}else{t=new c({densityAware:a.getObjectImageDensityAware(),alt:e.escapeSettingsValue(a.getObjectImageAlt()),decorative:false,mode:"Background",backgroundSize:"contain",backgroundPosition:"center"});t.addStyleClass("sapUxAPObjectPageHeaderObjectImage");t.setSrc(r)}if(a.getObjectImageAlt()){t.setTooltip(a.getObjectImageAlt())}return t};n.instantiateAvatar=function(e){return new t({displaySize:"L",fallbackIcon:e})};n.createPlaceholder=function(){return n.instantiateAvatar(a.getIconURI("picture"))};n.updateAvatarInstance=function(e,a,t){e.setDisplayShape(a);e.setBackgroundColor(t)};n._renderImageAndPlaceholder=function(e,a){var t=a.oHeader,c=a.oObjectImage,r=a.oPlaceholder,s=a.bIsObjectIconAlwaysVisible,o=a.bAddSubContainer,l=a.sBaseClass,d=t.getObjectImageShape(),i=t.getObjectImageBackgroundColor(),g=t.getShowPlaceholder()&&!t.getObjectImageURI(),p=c.isA("sap.m.Avatar");if(t.getShowPlaceholder()){n.updateAvatarInstance(r,d,i)}if(t.getObjectImageURI()||t.getShowPlaceholder()){e.openStart("span").class(l).class("sapUxAPObjectPageHeaderObjectImage-"+d);if(s){e.class("sapUxAPObjectPageHeaderObjectImageForce")}e.openEnd();if(o){e.openStart("span").class("sapUxAPObjectPageHeaderObjectImageContainerSub").openEnd()}if(p){n.updateAvatarInstance(c,d,i);e.openStart("div").class("sapUxAPObjectPageHeaderObjectImage").class("sapUxAPObjectPageHeaderPlaceholder").openEnd()}if(t.getObjectImageURI()){e.renderControl(c)}n._renderPlaceholder(e,r,g);if(p){e.close("div")}if(o){e.close("span")}e.close("span")}};n._renderPlaceholder=function(e,a,t){e.openStart("div").class("sapUxAPObjectPageHeaderPlaceholder").class("sapUxAPObjectPageHeaderObjectImage");if(!t){e.class("sapUxAPHidePlaceholder")}e.openEnd();e.renderControl(a);e.close("div")};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageHeader",["sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/IconPool","sap/ui/core/CustomData","sap/ui/Device","sap/m/Breadcrumbs","./ObjectPageHeaderActionButton","sap/ui/core/ResizeHandler","sap/m/Button","sap/m/ActionSheet","./ObjectImageHelper","./ObjectPageHeaderContent","./library","sap/m/library","./ObjectPageHeaderRenderer"],function(t,e,i,o,n,a,r,s,l,c,u,p,h,g,d){"use strict";var f=h.Importance;var _=g.ButtonType;var y=g.PlacementType;var b=h.ObjectPageHeaderDesign;var I=g.AvatarShape;var A=g.AvatarColor;function m(t){return typeof t==="function"}var P=e.extend("sap.uxap.ObjectPageHeader",{metadata:{library:"sap.uxap",interfaces:["sap.uxap.IHeaderTitle"],properties:{objectImageURI:{type:"string",defaultValue:null},objectImageAlt:{type:"string",defaultValue:""},objectImageDensityAware:{type:"boolean",defaultValue:false},objectTitle:{type:"string",defaultValue:null},objectSubtitle:{type:"string",defaultValue:null},objectImageShape:{type:"sap.m.AvatarShape",group:"Appearance",defaultValue:I.Square},objectImageBackgroundColor:{type:"sap.m.AvatarColor",group:"Appearance",defaultValue:A.Accent6},isObjectIconAlwaysVisible:{type:"boolean",defaultValue:false},isObjectTitleAlwaysVisible:{type:"boolean",defaultValue:true},isObjectSubtitleAlwaysVisible:{type:"boolean",defaultValue:true},isActionAreaAlwaysVisible:{type:"boolean",defaultValue:true},headerDesign:{type:"sap.uxap.ObjectPageHeaderDesign",defaultValue:b.Light,deprecated:true},showTitleSelector:{type:"boolean",group:"Misc",defaultValue:false},markFavorite:{type:"boolean",group:"Misc",defaultValue:false},markFlagged:{type:"boolean",group:"Misc",defaultValue:false},showMarkers:{type:"boolean",group:"Misc",defaultValue:false},markLocked:{type:"boolean",group:"Misc",defaultValue:false},showPlaceholder:{type:"boolean",group:"Misc",defaultValue:false},markChanges:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"actions",aggregations:{_breadCrumbs:{type:"sap.m.Breadcrumbs",multiple:false,visibility:"hidden"},breadcrumbs:{type:"sap.m.Breadcrumbs",multiple:false,singularName:"breadcrumb"},breadCrumbsLinks:{type:"sap.m.Link",multiple:true,singularName:"breadCrumbLink",deprecated:true},_overflowButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_expandButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_objectImage:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_placeholder:{type:"sap.m.Avatar",multiple:false,visibility:"hidden"},_lockIconCont:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_lockIcon:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_titleArrowIconCont:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_titleArrowIcon:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_favIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_flagIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_overflowActionSheet:{type:"sap.m.ActionSheet",multiple:false,visibility:"hidden"},_changesIconCont:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_changesIcon:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_sideContentBtn:{type:"sap.m.Button",multiple:false,visibility:"hidden"},navigationBar:{type:"sap.m.Bar",multiple:false},actions:{type:"sap.ui.core.Control",multiple:true,singularName:"action"},sideContentButton:{type:"sap.m.Button",multiple:false},titleSelectorTooltip:{type:"sap.ui.core.TooltipBase",altTypes:["string"],multiple:false}},events:{titleSelectorPress:{parameters:{domRef:{type:"string"}}},markLockedPress:{parameters:{domRef:{type:"string"}}},markChangesPress:{parameters:{domRef:{type:"string"}}}},designtime:"sap/uxap/designtime/ObjectPageHeader.designtime"},renderer:d});P.prototype._iAvailablePercentageForActions=.3;P.prototype.init=function(){this._bFirstRendering=true;if(!this.oLibraryResourceBundle){this.oLibraryResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.m")}if(!this.oLibraryResourceBundleOP){this.oLibraryResourceBundleOP=sap.ui.getCore().getLibraryResourceBundle("sap.uxap")}this._oOverflowActionSheet=this._lazyLoadInternalAggregation("_overflowActionSheet",true);this._oOverflowButton=this._lazyLoadInternalAggregation("_overflowButton",true).attachPress(this._handleOverflowButtonPress,this);this._oExpandButton=this._lazyLoadInternalAggregation("_expandButton",true);this._oActionSheetButtonMap={};this._oFlagIcon=this._lazyLoadInternalAggregation("_flagIcon",true);this._oFavIcon=this._lazyLoadInternalAggregation("_favIcon",true);this._oTitleArrowIcon=this._lazyLoadInternalAggregation("_titleArrowIcon",true).attachPress(this._handleArrowPress,this);this._oTitleArrowIconCont=this._lazyLoadInternalAggregation("_titleArrowIconCont",true).attachPress(this._handleArrowPress,this);this._oLockIcon=this._lazyLoadInternalAggregation("_lockIcon",true).attachPress(this._handleLockPress,this);this._oLockIconCont=this._lazyLoadInternalAggregation("_lockIconCont",true).attachPress(this._handleLockPress,this);this._oChangesIcon=this._lazyLoadInternalAggregation("_changesIcon",true).attachPress(this._handleChangesPress,this);this._oChangesIconCont=this._lazyLoadInternalAggregation("_changesIconCont",true).attachPress(this._handleChangesPress,this)};P.getMetadata().forwardAggregation("breadCrumbsLinks",{getter:function(){return this._lazyLoadInternalAggregation("_breadCrumbs")},aggregation:"links"});P.prototype._handleOverflowButtonPress=function(t){this._oOverflowActionSheet.openBy(this._oOverflowButton)};P.prototype._handleArrowPress=function(t){this.fireTitleSelectorPress({domRef:t.getSource().getDomRef()})};P.prototype._handleLockPress=function(t){this.fireMarkLockedPress({domRef:t.getSource().getDomRef()})};P.prototype._handleChangesPress=function(t){this.fireMarkChangesPress({domRef:t.getSource().getDomRef()})};P._internalAggregationFactory={_objectImage:u.createObjectImage,_placeholder:u.createPlaceholder,_overflowActionSheet:function(){return new c({placement:y.Bottom})},_lockIconCont:function(t){return this._getButton(t,"sap-icon://private","lock-cont",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_LOCK_MARK_VALUE"))},_breadCrumbs:function(t){return new a({links:t.getAggregation("breadCrumbLinks")})},_lockIcon:function(t){return this._getButton(t,"sap-icon://private","lock",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_LOCK_MARK_VALUE"))},_titleArrowIconCont:function(t){return this._getButton(t,"sap-icon://slim-arrow-down","titleArrow-cont",t.oLibraryResourceBundleOP.getText("OP_SELECT_ARROW_TOOLTIP"))},_titleArrowIcon:function(t){return this._getButton(t,"sap-icon://slim-arrow-down","titleArrow",t.oLibraryResourceBundleOP.getText("OP_SELECT_ARROW_TOOLTIP"))},_favIcon:function(t){return this._getIcon(t,"favorite",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_FAVORITE_MARK_VALUE"))},_flagIcon:function(t){return this._getIcon(t,"flag",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_FLAG_MARK_VALUE"))},_overflowButton:function(t){return this._getButton(t,"sap-icon://overflow","overflow",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_OVERFLOW_BTN"))},_expandButton:function(t){return this._getButton(t,"sap-icon://slim-arrow-down","expand",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_EXPAND_HEADER_BTN"))},_changesIconCont:function(t){return this._getButton(t,"sap-icon://user-edit","changes-cont",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_CHANGES_MARK_VALUE"))},_changesIcon:function(t){return this._getButton(t,"sap-icon://user-edit","changes",t.oLibraryResourceBundleOP.getText("TOOLTIP_OP_CHANGES_MARK_VALUE"))},_getIcon:function(t,e,o){return i.createControlByURI({id:this._getParentAugmentedId(t,e),tooltip:o,src:i.getIconURI(e),visible:false})},_getButton:function(t,e,i,o){return new l({id:this._getParentAugmentedId(t,i),tooltip:o,icon:e,type:_.Transparent})},_getParentAugmentedId:function(t,e){return t.getId()+"-"+e}};P.prototype._lazyLoadInternalAggregation=function(t,e){if(!this.getAggregation(t)){this.setAggregation(t,P._internalAggregationFactory[t](this),e)}return this.getAggregation(t)};P.prototype._applyActionProperty=function(t,e){var i=e[0];if(this.getProperty(t)!==i){e.unshift(t);this.setProperty.apply(this,e);if(!this._bFirstRendering){this._notifyParentOfChanges()}}return this};P.prototype._applyObjectImageProperty=function(t,e){var i=e[0];if(this.getProperty(t)!==i){e.unshift(t);this.setProperty.apply(this,e);this._destroyObjectImage();if(!this._bFirstRendering){this._notifyParentOfChanges(true)}}return this};P.prototype._setAggregationTooltip=function(t,e){var i=this.getAggregation(t);if(i){i.setTooltip(e)}return this};P.prototype._setTitleSelectorTooltip=function(t){if(t===null||t===undefined){t=this.oLibraryResourceBundleOP.getText("OP_SELECT_ARROW_TOOLTIP")}this._setAggregationTooltip("_titleArrowIcon",t);this._setAggregationTooltip("_titleArrowIconCont",t);return this};P.prototype.setHeaderDesign=function(t){this.setProperty("headerDesign",t);if(this.getParent()){this.getParent().invalidate()}return this};P.prototype.setObjectTitle=function(t){var e=this.getParent(),i=this.getProperty("objectTitle"),o=i!==t;this._applyActionProperty("objectTitle",Array.prototype.slice.call(arguments));e&&m(e._updateAriaLabels)&&e._updateAriaLabels();if(o&&this.mEventRegistry["_titleChange"]){this.fireEvent("_titleChange",{id:this.getId(),name:"objectTitle",oldValue:i,newValue:t})}return this};var v=["objectSubtitle","showTitleSelector","markLocked","markFavorite","markFlagged","showMarkers","showPlaceholder","markChanges"],O=["objectImageURI","objectImageAlt","objectImageDensityAware","objectImageShape","objectImageBackgroundColor"];var T=function(t){var e="set"+t.charAt(0).toUpperCase()+t.slice(1);P.prototype[e]=function(){var e=Array.prototype.slice.call(arguments);this._applyActionProperty.call(this,t,e);return this}};var B=function(t){var e="set"+t.charAt(0).toUpperCase()+t.slice(1);P.prototype[e]=function(){var e=Array.prototype.slice.call(arguments);this._applyObjectImageProperty.call(this,t,e);return this}};var L=function(t,e,i){var o="set"+t.charAt(0).toUpperCase()+t.slice(1);e[o]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);i.setProperty.apply(i,e);return this.setProperty.apply(this,e)}};v.forEach(T);O.forEach(B);P.prototype._destroyObjectImage=function(){var t="_objectImage",e=this.getAggregation(t);if(e){e.destroy();this.setAggregation(t,null)}};P.prototype.onBeforeRendering=function(){var t=this.getSideContentButton(),e=this;if(t&&!t.getTooltip()){t.setTooltip(this.oLibraryResourceBundleOP.getText("TOOLTIP_OP_SHOW_SIDE_CONTENT"))}var i=this.getActions()||[];this._oOverflowActionSheet.removeAllButtons();this._resetActionSheetMap();if(i.length>1||this._hasOneButtonShowText(i)){i.forEach(function(t){if(t instanceof l&&!(t instanceof r)){t._bInternalVisible=t.getVisible();t._getInternalVisible=function(){return this._bInternalVisible};t._setInternalVisible=function(t,e){this.$().toggle(t);if(t!=this._bInternalVisible){this._bInternalVisible=t;if(e){this.invalidate()}}};t.setVisible=function(e){t._setInternalVisible(e,true);l.prototype.setVisible.call(this,e)};t.onAfterRendering=function(){if(!this._getInternalVisible()){this.$().hide()}e._resizeIdentifierLineContainer(e.$())}}if(t instanceof l&&t.getVisible()){var i=this._createActionSheetButton(t);this._oActionSheetButtonMap[t.getId()]=i;this._oOverflowActionSheet.addButton(i);L("text",t,i);L("icon",t,i);L("enabled",t,i);L("type",t,i)}},this)}this._oTitleArrowIcon.setVisible(this.getShowTitleSelector());this._oFavIcon.setVisible(this.getMarkFavorite());this._oFlagIcon.setVisible(this.getMarkFlagged());this._attachDetachActionButtonsHandler(false);if(this._iResizeId){s.deregister(this._iResizeId);this._iResizeId=null}this._bFirstRendering=false};P.prototype._resetActionSheetMap=function(){Object.keys(this._oActionSheetButtonMap).forEach(function(t){this._oActionSheetButtonMap[t].destroy()}.bind(this));this._oActionSheetButtonMap={}};P.prototype._createActionSheetButton=function(e){return new l({press:t.proxy(this._onSeeMoreContentSelect,this),enabled:e.getEnabled(),text:e.getText(),icon:e.getIcon(),type:e.getType(),tooltip:e.getTooltip(),customData:new o({key:"originalId",value:e.getId()})})};P.prototype._handleImageNotFoundError=function(){var t=this._lazyLoadInternalAggregation("_objectImage"),e=this.getParent(),i=e?e.$():this.$();if(this.getShowPlaceholder()){i.find(".sapMImg.sapUxAPObjectPageHeaderObjectImage").hide();i.find(".sapUxAPObjectPageHeaderPlaceholder").removeClass("sapUxAPHidePlaceholder")}else{t.addStyleClass("sapMNoImg")}};P.prototype._clearImageNotFoundHandler=function(){this._lazyLoadInternalAggregation("_objectImage").$().off("error")};P.prototype.onAfterRendering=function(){var t=this._lazyLoadInternalAggregation("_objectImage").$();if(this._adaptLayoutTimeout){clearTimeout(this._adaptLayoutTimeout)}this._adaptLayout();this._clearImageNotFoundHandler();t.on("error",this._handleImageNotFoundError.bind(this));if(!this.getObjectImageURI()){this._handleImageNotFoundError()}if(!this._iResizeId){this._iResizeId=s.register(this,this._onHeaderResize.bind(this))}this._attachDetachActionButtonsHandler(true)};P.prototype._onHeaderResize=function(t){this._adaptLayout();if(this.getParent()&&typeof this.getParent()._onUpdateHeaderTitleSize==="function"){this.getParent()._onUpdateHeaderTitleSize(t)}};P.prototype._attachDetachActionButtonsHandler=function(t){var e=this.getActions()||[];if(e.length<1){return}e.forEach(function(e){if(e instanceof l){var i=this._oActionSheetButtonMap[e.getId()];if(t){e.attachEvent("_change",this._adaptLayoutDelayed,this);if(i){i.attachEvent("_change",this._adaptOverflow,this)}}else{e.detachEvent("_change",this._adaptLayoutDelayed,this);if(i){i.detachEvent("_change",this._adaptOverflow,this)}}}},this)};P.prototype._onSeeMoreContentSelect=function(t){var e=t.getSource(),i=sap.ui.getCore().byId(e.data("originalId"));if(i.firePress){i.firePress({overflowButtonId:this._oOverflowButton.getId(),bInOverflow:true})}this._oOverflowActionSheet.close()};P._actionImportanceMap={Low:3,Medium:2,High:1};P._sortActionsByImportance=function(t,e){var i=t instanceof r?t.getImportance():f.High,o=e instanceof r?e.getImportance():f.High,n=P._actionImportanceMap[i]-P._actionImportanceMap[o];if(n===0){return t.position-e.position}return n};P.prototype._hasOneButtonShowText=function(t){var e=false;if(t.length!==1){return e}if(t[0]instanceof r){e=!t[0].getHideText()&&t[0].getText()!=""}else if(t[0]instanceof l){e=t[0].getText()!=""}return e};P.prototype._adaptLayout=function(t){var e=this.$("identifierLine"),i=e.width(),o=this._getActionsWidth(),a=o/i,s=this._iAvailablePercentageForActions*i,c=this._oOverflowButton.$();if(i===0){return}if(a>this._iAvailablePercentageForActions){this._adaptActions(s)}else if(t&&t.getSource()instanceof r){t.getSource()._setInternalVisible(true)}if(n.system.phone){this.getActions().forEach(function(t){if(t instanceof l){t.$().css("visibility","visible")}})}var u=this.$("actions");var p=u.find(".sapMBtn").not(".sapUxAPObjectPageHeaderExpandButton");if(p.filter(":visible").length===p.length){c.hide()}this._adaptObjectPageHeaderIndentifierLine(this.$())};P.prototype._adaptLayoutDelayed=function(){if(this._adaptLayoutTimeout){clearTimeout(this._adaptLayoutTimeout)}this._adaptLayoutTimeout=setTimeout(function(){this._adaptLayoutTimeout=null;this._adaptLayout()}.bind(this),0)};P.prototype._adaptObjectPageHeaderIndentifierLine=function(t){var e=this._findById(t,"identifierLine"),i=e.find(".sapUxAPObjectPageHeaderIdentifierTitle");this._adaptObjectPageHeaderTitle(i);this._resizeIdentifierLineContainer(t)};P.prototype._resizeIdentifierLineContainer=function(t){var e=this._findById(t,"identifierLineContainer"),i=this._findById(t,"actions"),o=this._findById(t,"identifierLine"),n=o.width(),a=t?t.find(".sapUxAPObjectPageHeaderObjectImageContainer"):this.$().find(".sapUxAPObjectPageHeaderObjectImageContainer"),r=i.width()+a.width();e.width((.95-r/n)*100+"%")};P.prototype._adaptObjectPageHeaderTitle=function(e){var i=e.width(),o=e.find(".sapUxAPObjectPageHeaderTitleText"),n=o.length,a;for(var r=0;r<n;r++){a=t(o.get(r));a.toggleClass("sapUxAPObjectPageHeaderTitleTextRestrictedWidth",false);if(a.width()>i){a.toggleClass("sapUxAPObjectPageHeaderTitleTextRestrictedWidth",true)}}};P.prototype._adaptActions=function(t){var e=h.Utilities.isPhoneScenario(this._getCurrentMediaContainerRange())||n.system.phone,i=this._oOverflowButton.$(),o=i.show().width(),a=this.getActions(),r=a.length,s;for(var l=0;l<r;l++){a[l].position=l}a.sort(P._sortActionsByImportance);a.forEach(function(n){s=this._oActionSheetButtonMap[n.getId()];if(s){o+=n.$().width();if(t>o&&!e){this._setActionButtonVisibility(n,true);i.hide()}else{this._setActionButtonVisibility(n,false);i.show()}}},this)};P.prototype._adaptOverflow=function(){var t=this._oOverflowActionSheet.getButtons();var e=t.some(function(t){return t.getVisible()});this._oOverflowButton.$().toggle(e)};P.prototype._setActionButtonVisibility=function(t,e){var i=this._oActionSheetButtonMap[t.getId()];if(i){if(t.getVisible()){t._setInternalVisible(e);i.setVisible(!e)}else{i.setVisible(false)}}};P.prototype._getActionsWidth=function(){var t=0;this.getActions().forEach(function(e){if(e instanceof l){e.$().show();if(n.system.phone){e.$().css("visibility","hidden")}t+=e.$().outerWidth(true)}});return t};P.prototype._findById=function(t,e){var i;if(!e||!t){return null}e=this.getId()+"-"+e;i="#"+e.replace(/(:|\.)/g,"\\$1");return t.find(i)};P.prototype._getBreadcrumbsAggregation=function(){var t=this.getBreadcrumbs(),e=this._lazyLoadInternalAggregation("_breadCrumbs",true);return t||(e&&e.getLinks().length?e:null)};P.prototype._notifyParentOfChanges=function(t){var e=this.getParent();if(e&&typeof e._headerTitleChangeHandler==="function"){e._headerTitleChangeHandler(t)}};P.prototype.setTitleSelectorTooltip=function(t){this._setTitleSelectorTooltip(t);this.setAggregation("titleSelectorTooltip",t,true);return this};P.prototype.destroyTitleSelectorTooltip=function(){this._setTitleSelectorTooltip(null);this.destroyAggregation("titleSelectorTooltip",true);return this};P.prototype.exit=function(){this._clearImageNotFoundHandler();if(this._iResizeId){s.deregister(this._iResizeId);this._iResizeId=null}this._resetActionSheetMap()};P.prototype.setNavigationBar=function(t){this.setAggregation("navigationBar",t);if(t&&this.mEventRegistry["_adaptableContentChange"]){this.fireEvent("_adaptableContentChange",{parent:this,adaptableContent:t})}return this};P.prototype._getAdaptableContent=function(){return this.getNavigationBar()};P.prototype.isDynamic=function(){return false};P.prototype.getCompatibleHeaderContentClass=function(){return p};P.prototype.supportsToggleHeaderOnTitleClick=function(){return false};P.prototype.supportsTitleInHeaderContent=function(){return true};P.prototype.supportsAdaptLayoutForDomElement=function(){return true};P.prototype.supportsBackgroundDesign=function(){return false};P.prototype.getTitleText=function(){return this.getObjectTitle()};P.prototype.snap=function(){this._adaptLayout()};P.prototype.unSnap=function(){this._adaptLayout()};P.prototype._toggleExpandButton=function(t){};P.prototype._setShowExpandButton=function(t){};P.prototype._focusExpandButton=function(){};P.prototype._toggleFocusableState=function(t){};return P});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageHeaderActionButton",["sap/m/Button","./library","./ObjectPageHeaderActionButtonRenderer"],function(e,t,n){"use strict";var i=e.extend("sap.uxap.ObjectPageHeaderActionButton",{metadata:{interfaces:["sap.m.IOverflowToolbarContent"],library:"sap.uxap",properties:{hideText:{type:"boolean",defaultValue:true},hideIcon:{type:"boolean",defaultValue:false},importance:{type:"sap.uxap.Importance",group:"Behavior",defaultValue:t.Importance.High}},designtime:"sap/uxap/designtime/ObjectPageHeaderActionButton.designtime"},renderer:n});i.prototype.init=function(){e.prototype.init.call(this);this._bInternalVisible=this.getVisible();this._bInternalHiddenText=this.getHideText()};i.prototype.onAfterRendering=function(){if(!this._getInternalVisible()){this.$().hide()}};i.prototype._getText=function(){if(this._bInternalHiddenText&&this.getHideText()){return""}return this.getText()};i.prototype.setHideText=function(e,t){this.setProperty("hideText",e,t);this._bInternalHiddenText=e;return this};i.prototype.setHideIcon=function(e,t){this.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideIcon",e);return this.setProperty("hideIcon",e,t)};i.prototype._setInternalVisible=function(e,t){this.$().toggle(e);if(e!=this._bInternalVisible){this._bInternalVisible=e;if(t){this.invalidate()}}};i.prototype.setVisible=function(t){var n=e.prototype.setVisible.apply(this,arguments);this.getParent()&&this.getParent().invalidate();return n};i.prototype._getInternalVisible=function(){return this._bInternalVisible};i.prototype.getOverflowToolbarConfig=function(){var e={canOverflow:true,propsUnrelatedToSize:["importance"],getCustomImportance:function(){return this.getImportance()}.bind(this)};e.onBeforeEnterOverflow=function(e){e._bInternalHiddenText=false;e.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideIcon",false,true)};e.onAfterExitOverflow=function(e){e._bInternalHiddenText=e.getHideText();e.toggleStyleClass("sapUxAPObjectPageHeaderActionButtonHideIcon",e.getHideIcon(),true)};return e};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageHeaderActionButtonRenderer",["sap/m/ButtonRenderer","sap/ui/core/Renderer"],function(e,r){"use strict";var n=r.extend(e);n.apiVersion=2;return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageHeaderContent",["sap/ui/core/Control","./library","sap/m/Button","./ObjectImageHelper","./ObjectPageHeaderContentRenderer"],function(e,t,a,r,n){"use strict";var o=t.ObjectPageHeaderDesign;var i=e.extend("sap.uxap.ObjectPageHeaderContent",{metadata:{library:"sap.uxap",interfaces:["sap.uxap.IHeaderContent"],properties:{contentDesign:{type:"sap.uxap.ObjectPageHeaderDesign",group:"Misc",defaultValue:o.Light,deprecated:true}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"},_editHeaderButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_objectImage:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_placeholder:{type:"sap.m.Avatar",multiple:false,visibility:"hidden"}}},renderer:n});i.prototype.onBeforeRendering=function(){var e=this.getParent(),a=this.getAggregation("_editHeaderButton");if(a){return}if(e&&e instanceof t.ObjectPageLayout&&e.getShowEditHeaderButton()){a=this._getInternalBtnAggregation("_editHeaderButton","EDIT_HEADER","-editHeaderBtn","Transparent");a.attachPress(this._handleEditHeaderButtonPress,this)}};i.prototype.exit=function(){var e=this.getAggregation("_editHeaderButton");if(e){e.detachPress(this._handleEditHeaderButtonPress,this)}};i.prototype._handleEditHeaderButtonPress=function(e){this.getParent().fireEditHeaderButtonPress()};i.prototype._getInternalBtnAggregation=function(e,t,r,n){if(!this.getAggregation(e)){var o=new a({text:sap.ui.getCore().getLibraryResourceBundle("sap.uxap").getText(t),type:n,id:this.getId()+r});this.setAggregation(e,o)}return this.getAggregation(e)};i.prototype._getObjectImage=function(){if(!this.getAggregation("_objectImage")){var e=this.getParent(),t=e&&e.getHeaderTitle&&e.getHeaderTitle(),a=t&&r.createObjectImage(t);if(a){this.setAggregation("_objectImage",a,true)}}return this.getAggregation("_objectImage")};i.prototype._destroyObjectImage=function(e){var t=this.getAggregation("_objectImage");if(t){t.destroy();this.getAggregation("_objectImage",null,e)}};i.prototype._getPlaceholder=function(){if(!this.getAggregation("_placeholder")){var e=this.getParent(),t=e&&e.getHeaderTitle&&e.getHeaderTitle(),a=t.getShowPlaceholder();var n=a&&r.createPlaceholder();if(n){this.setAggregation("_placeholder",n,true)}}return this.getAggregation("_placeholder")};i.prototype._getLayoutDataForControl=function(e){var a=e.getLayoutData();if(!a){return}else if(a instanceof t.ObjectPageHeaderLayoutData){return a}else if(a.getMetadata().getName()=="sap.ui.core.VariantLayoutData"){var r=a.getMultipleLayoutData();for(var n=0;n<r.length;n++){var o=r[n];if(o instanceof t.ObjectPageHeaderLayoutData){return o}}}};i.prototype.setVisible=function(e){this.getParent()&&this.getParent().toggleStyleClass("sapUxAPObjectPageLayoutNoHeaderContent",!e);return this.setProperty("visible",e)};i.createInstance=function(e,t,a,r,n){return new i({content:e,visible:t,contentDesign:a,id:n})};i.prototype.supportsPinUnpin=function(){return false};i.prototype.supportsChildPageDesign=function(){return true};i.prototype.supportsAlwaysExpanded=function(){return true};i.prototype._toggleCollapseButton=function(e){};i.prototype._setShowCollapseButton=function(e){};i.prototype._focusCollapseButton=function(){};i.prototype._focusPinButton=function(){};return i});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageHeaderContentRenderer",["./ObjectPageHeaderRenderer","./ObjectImageHelper"],function(e,t){"use strict";var a={apiVersion:2};a.render=function(e,t){var a=t.getParent(),n=a&&a.isA("sap.uxap.ObjectPageLayout"),s=a&&n?a.getHeaderTitle():undefined,r=a&&n?a.isA("sap.uxap.ObjectPageLayout")&&a.getShowTitleInHeaderContent():false,o=n&&a.getShowEditHeaderButton()&&t.getContent()&&t.getContent().length>0;if(o){e.openStart("div",t).class("sapUxAPObjectPageHeaderContentFlexBox").class("sapUxAPObjectPageHeaderContentDesign-"+t.getContentDesign());if(s){e.class("sapUxAPObjectPageContentObjectImage-"+s.getObjectImageShape())}e.openEnd()}e.openStart("div",o?undefined:t);if(o){e.class("sapUxAPObjectPageHeaderContentCellLeft")}else{e.class("sapUxAPObjectPageHeaderContentDesign-"+t.getContentDesign());if(s){e.class("sapUxAPObjectPageContentObjectImage-"+s.getObjectImageShape())}}e.class("sapContrastPlus").class("ui-helper-clearfix").class("sapUxAPObjectPageHeaderContent");if(!t.getVisible()){e.class("sapUxAPObjectPageHeaderContentHidden")}e.openEnd();if(n&&a.getIsChildPage()){e.openStart("div").class("sapUxAPObjectChildPage").openEnd().close("div")}if(r){this._renderTitleImage(e,t,s);if(t.getContent().length==0){e.openStart("span").class("sapUxAPObjectPageHeaderContentItem").openEnd();this._renderTitle(e,s);e.close("span")}}t.getContent().forEach(function(a,n){this._renderHeaderContentItem(a,n,e,r,s,t)},this);e.close("div");if(o){this._renderEditButton(e,t);e.close("div")}};a._renderHeaderContentItem=function(e,t,a,n,s,r){var o=false,i=false,d=r._getLayoutDataForControl(e),c=t===0;if(d){o=d.getShowSeparatorBefore();i=d.getShowSeparatorAfter();a.openStart("span").class("sapUxAPObjectPageHeaderWidthContainer").class("sapUxAPObjectPageHeaderContentItem").style("width",d.getWidth());if(i||o){a.class("sapUxAPObjectPageHeaderSeparatorContainer")}if(!d.getVisibleL()){a.class("sapUxAPObjectPageHeaderLayoutHiddenL")}if(!d.getVisibleM()){a.class("sapUxAPObjectPageHeaderLayoutHiddenM")}if(!d.getVisibleS()){a.class("sapUxAPObjectPageHeaderLayoutHiddenS")}a.openEnd();if(o){a.openStart("span").class("sapUxAPObjectPageHeaderSeparatorBefore").openEnd().close("span")}if(c&&n){this._renderTitle(a,s)}}else{if(c&&n){a.openStart("span").class("sapUxAPObjectPageHeaderContentItem").openEnd();this._renderTitle(a,s)}else{e.addStyleClass("sapUxAPObjectPageHeaderContentItem")}}a.renderControl(e);if(i){a.openStart("span").class("sapUxAPObjectPageHeaderSeparatorAfter").openEnd().close("span")}if(d||c&&n){a.close("span")}};a._renderTitleImage=function(e,a,n){t._renderImageAndPlaceholder(e,{oHeader:n,oObjectImage:a._getObjectImage(),oPlaceholder:a._getPlaceholder(),bIsObjectIconAlwaysVisible:false,bAddSubContainer:false,sBaseClass:"sapUxAPObjectPageHeaderContentImageContainer"})};a._renderTitle=function(t,a){e._renderObjectPageTitle(t,a,true)};a._renderEditButton=function(e,t){e.openStart("div").class("sapUxAPObjectPageHeaderContentCellRight").openEnd();e.renderControl(t.getAggregation("_editHeaderButton"));e.close("div")};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageHeaderRenderer",["./ObjectImageHelper","sap/ui/Device"],function(e,t){"use strict";var a={apiVersion:2};a.render=function(a,r){var n=r.getNavigationBar(),s=r.getIsObjectIconAlwaysVisible()||r.getIsObjectTitleAlwaysVisible()||r.getIsObjectSubtitleAlwaysVisible()||r.getIsActionAreaAlwaysVisible(),o=r.getParent(),i=r.getAggregation("_expandButton"),l=r._lazyLoadInternalAggregation("_objectImage",true),c,d=t.system.desktop,g=o&&o.isA("sap.uxap.ObjectPageLayout")&&(o.getHeaderContent()&&o.getHeaderContent().length>0&&o.getShowHeaderContent()||o.getShowHeaderContent()&&o.getShowTitleInHeaderContent());a.openStart("div",r).class("sapUxAPObjectPageHeader").class("sapUxAPObjectPageHeaderDesign-"+r.getHeaderDesign()).openEnd();if(n){a.openStart("div").class("sapUxAPObjectPageHeaderNavigation").openEnd();a.renderControl(n);a.close("div")}a.openStart("div",r.getId()+"-identifierLine").class("sapUxAPObjectPageHeaderIdentifier");if(s){a.class("sapUxAPObjectPageHeaderIdentifierForce")}a.openEnd();if(o&&o.isA("sap.uxap.ObjectPageLayout")&&o.getIsChildPage()){a.openStart("div").class("sapUxAPObjectChildPage").openEnd().close("div")}if(r.getShowPlaceholder()){c=r._lazyLoadInternalAggregation("_placeholder",true)}e._renderImageAndPlaceholder(a,{oHeader:r,oObjectImage:l,oPlaceholder:c,bIsObjectIconAlwaysVisible:r.getIsObjectIconAlwaysVisible(),bAddSubContainer:true,sBaseClass:"sapUxAPObjectPageHeaderObjectImageContainer"});a.openStart("span",r.getId()+"-identifierLineContainer").class("sapUxAPObjectPageHeaderIdentifierContainer").openEnd();this._renderObjectPageTitle(a,r);a.close("span");a.openStart("span",r.getId()+"-actions").class("sapUxAPObjectPageHeaderIdentifierActions");if(r.getIsActionAreaAlwaysVisible()){a.class("sapUxAPObjectPageHeaderIdentifierActionsForce")}a.openEnd();if(d&&g){i.addStyleClass("sapUxAPObjectPageHeaderExpandButton");a.renderControl(i)}var p=r.getActions();for(var b=0;b<p.length;b++){var A=p[b];a.renderControl(A)}var P=r.getAggregation("_overflowButton");a.renderControl(P);this._renderSideContentBtn(a,r);a.close("span");a.close("div");a.close("div")};a._renderObjectPageTitle=function(e,t,a){var r=t.getObjectTitle(),n=t.getShowMarkers()&&(t.getMarkFavorite()||t.getMarkFlagged()),s=t._getBreadcrumbsAggregation(),o=t.getTooltip_Text(),i=a?"-content":"";if(!a&&s){e.renderControl(s)}e.openStart("h2",t.getId()+"-title"+i).class("sapUxAPObjectPageHeaderIdentifierTitle");if(t.getIsObjectTitleAlwaysVisible()){e.class("sapUxAPObjectPageHeaderIdentifierTitleForce")}if(a){e.class("sapUxAPObjectPageHeaderIdentifierTitleInContent")}if(t.getShowTitleSelector()){e.class("sapUxAPObjectPageHeaderTitleFollowArrow")}e.openEnd();e.openStart("span",t.getId()+"-innerTitle"+i).class("sapUxAPObjectPageHeaderTitleText").class("sapUxAPObjectPageHeaderTitleTextWrappable");if(o){e.attr("title",o)}e.openEnd();if(n||t.getShowTitleSelector()||t.getMarkLocked()||t.getMarkChanges()){var l=r.substr(r.lastIndexOf(" ")+1);var c=r.substr(0,r.lastIndexOf(" ")+1);if(l.length===1){l=r;c=""}e.text(c);e.close("span");e.openStart("span").class("sapUxAPObjectPageHeaderNowrapMarkers");if(t.getMarkLocked()||t.getMarkChanges()){e.class("sapUxAPObjectPageHeaderMarks")}e.openEnd();e.openStart("span").class("sapUxAPObjectPageHeaderTitleText").openEnd().text(l).close("span");this._renderMarkers(e,t);if(t.getMarkLocked()){this._renderLock(e,t,a)}else if(t.getMarkChanges()){this._renderMarkChanges(e,t,a)}this._renderSelectTitleArrow(e,t,a);e.close("span")}else{e.text(r);e.close("span")}e.close("h2");if(t.getObjectSubtitle()){e.openStart("div",t.getId()+"-subtitle"+i).class("sapUxAPObjectPageHeaderIdentifierDescription");if(t.getIsObjectSubtitleAlwaysVisible()){e.class("sapUxAPObjectPageHeaderIdentifierDescriptionForce")}if(a){e.class("sapUxAPObjectPageHeaderIdentifierSubTitleInContent")}e.openEnd();e.text(t.getObjectSubtitle());e.close("div")}};a._renderSelectTitleArrow=function(e,t,a){if(t.getShowTitleSelector()){e.openStart("span").class("sapUxAPObjectPageHeaderTitleArrow").openEnd();if(a){e.renderControl(t._oTitleArrowIconCont)}else{e.renderControl(t._oTitleArrowIcon)}e.close("span")}};a._renderSideContentBtn=function(e,t){var a=t.getSideContentButton();if(a){e.openStart("span");e.class("sapUxAPObjectPageHeaderSideContentBtn");e.openEnd();e.openStart("span").class("sapUxAPObjectPageHeaderSeparator").openEnd().close("span");e.renderControl(a);e.close("span")}};a._renderMarkChanges=function(e,t,a){e.openStart("span").class("sapUxAPObjectPageHeaderChangesBtn").class("sapUiSizeCompact").openEnd();if(a){e.renderControl(t._oChangesIconCont)}else{e.renderControl(t._oChangesIcon)}e.close("span")};a._renderLock=function(e,t,a){e.openStart("span").class("sapUxAPObjectPageHeaderLockBtn").class("sapUiSizeCompact").openEnd();if(a){e.renderControl(t._oLockIconCont)}else{e.renderControl(t._oLockIcon)}e.close("span")};a._renderMarkers=function(e,t){var a=[];if(t.getShowMarkers()){a.push(t._oFavIcon);a.push(t._oFlagIcon);this._renderMarkersAria(e,t);e.openStart("span",t.getId()+"-markers").class("sapMObjStatusMarker").attr("aria-describedby",t.getId()+"-markers-aria").openEnd();for(var r=0;r<a.length;r++){e.renderControl(a[r])}e.close("span")}};a._renderMarkersAria=function(e,t){var a="";if(t.getMarkFlagged()){a+=t.oLibraryResourceBundle.getText("ARIA_FLAG_MARK_VALUE")+" "}if(t.getMarkFavorite()){a+=t.oLibraryResourceBundle.getText("ARIA_FAVORITE_MARK_VALUE")+" "}if(a!==""){e.openStart("div",t.getId()+"-markers-aria").attr("aria-hidden","false").class("sapUiHidden").openEnd().text(a).close("div")}};return a},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageLayout",["sap/ui/thirdparty/jquery","sap/ui/base/ManagedObjectObserver","sap/ui/core/ResizeHandler","sap/ui/core/Configuration","sap/ui/core/Control","sap/ui/Device","sap/ui/base/ManagedObject","sap/ui/core/delegate/ScrollEnablement","./ObjectPageSectionBase","./ObjectPageSection","./ObjectPageSubSection","./ObjectPageHeaderContent","./LazyLoading","./ObjectPageLayoutABHelper","./ThrottledTaskHelper","sap/ui/core/library","./library","./ObjectPageLayoutRenderer","sap/base/Log","sap/base/util/array/diff","sap/ui/dom/getScrollbarSize","sap/base/assert","sap/base/util/isEmptyObject","sap/base/util/merge","sap/ui/events/KeyCodes","sap/ui/dom/getFirstEditableInput","sap/ui/dom/units/Rem"],function(e,t,i,o,n,r,s,a,h,l,c,d,g,u,_,p,f,S,b,y,T,H,A,C,I,P,v){"use strict";var B=p.TitleLevel;var L=p.AccessibleLandmarkRole;var O=f.ObjectPageSubSectionLayout;var E=["toggleAnchorBar","_moveHeader"];var m=n.extend("sap.uxap.ObjectPageLayout",{metadata:{library:"sap.uxap",properties:{showAnchorBar:{type:"boolean",defaultValue:true},showAnchorBarPopover:{type:"boolean",defaultValue:true},upperCaseAnchorBar:{type:"boolean",defaultValue:true},backgroundDesignAnchorBar:{type:"sap.m.BackgroundDesign",group:"Appearance"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},enableLazyLoading:{type:"boolean",defaultValue:false},subSectionLayout:{type:"sap.uxap.ObjectPageSubSectionLayout",defaultValue:O.TitleOnTop},sectionTitleLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:B.Auto},useIconTabBar:{type:"boolean",group:"Misc",defaultValue:false},showHeaderContent:{type:"boolean",group:"Misc",defaultValue:true},useTwoColumnsForLargeScreen:{type:"boolean",group:"Appearance",defaultValue:false},showTitleInHeaderContent:{type:"boolean",group:"Appearance",defaultValue:false},showOnlyHighImportance:{type:"boolean",group:"Behavior",defaultValue:false},isChildPage:{type:"boolean",group:"Appearance",defaultValue:false},alwaysShowContentHeader:{type:"boolean",group:"Behavior",defaultValue:false},headerContentPinnable:{type:"boolean",group:"Behavior",defaultValue:true},headerContentPinned:{type:"boolean",group:"Behavior",defaultValue:false},toggleHeaderOnTitleClick:{type:"boolean",group:"Behavior",defaultValue:true},preserveHeaderStateOnScroll:{type:"boolean",group:"Behavior",defaultValue:false},showEditHeaderButton:{type:"boolean",group:"Behavior",defaultValue:false},flexEnabled:{type:"boolean",group:"Misc",defaultValue:false},showFooter:{type:"boolean",group:"Behavior",defaultValue:false}},associations:{selectedSection:{type:"sap.uxap.ObjectPageSection",multiple:false}},defaultAggregation:"sections",aggregations:{sections:{type:"sap.uxap.ObjectPageSection",multiple:true,singularName:"section"},headerTitle:{type:"sap.uxap.IHeaderTitle",multiple:false},headerContent:{type:"sap.ui.core.Control",multiple:true,singularName:"headerContent"},footer:{type:"sap.m.IBar",multiple:false},landmarkInfo:{type:"sap.uxap.ObjectPageAccessibleLandmarkInfo",multiple:false},_anchorBar:{type:"sap.uxap.AnchorBar",multiple:false,visibility:"hidden"},_iconTabBar:{type:"sap.m.IconTabBar",multiple:false,visibility:"hidden"},_headerContent:{type:"sap.uxap.IHeaderContent",multiple:false,visibility:"hidden"}},events:{headerContentPinnedStateChange:{parameters:{pinned:{type:"boolean"}}},toggleAnchorBar:{parameters:{fixed:{type:"boolean"}}},sectionChange:{parameters:{section:{type:"sap.uxap.ObjectPageSection"},subSection:{type:"sap.uxap.ObjectPageSubSection"}}},editHeaderButtonPress:{},navigate:{parameters:{section:{type:"sap.uxap.ObjectPageSection"},subSection:{type:"sap.uxap.ObjectPageSubSection"}}},subSectionVisibilityChange:{parameters:{visibleSubSections:{type:"object"}}}},dnd:{draggable:false,droppable:true},designtime:"sap/uxap/designtime/ObjectPageLayout.designtime"},renderer:S});m.HEADER_CALC_DELAY=350;m.DOM_CALC_DELAY=200;m.MAX_SNAP_POSITION_OFFSET=20;m.HEADER_MAX_ALLOWED_NON_SROLLABLE_PERCENTAGE=.6;m.TITLE_LEVEL_AS_ARRAY=Object.keys(B);m.EVENTS={TITLE_PRESS:"_titlePress",TITLE_MOUSE_OVER:"_titleMouseOver",TITLE_MOUSE_OUT:"_titleMouseOut",PIN_UNPIN_PRESS:"_pinUnpinPress",VISUAL_INDICATOR_MOUSE_OVER:"_visualIndicatorMouseOver",VISUAL_INDICATOR_MOUSE_OUT:"_visualIndicatorMouseOut",HEADER_VISUAL_INDICATOR_PRESS:"_headerVisualIndicatorPress",TITLE_VISUAL_INDICATOR_PRESS:"_titleVisualIndicatorPress"};m.BREAK_POINTS={DESKTOP:1439,TABLET:1024,PHONE:600};m.MEDIA={PHONE:"sapUxAPObjectPageLayout-Std-Phone",TABLET:"sapUxAPObjectPageLayout-Std-Tablet",DESKTOP:"sapUxAPObjectPageLayout-Std-Desktop",DESKTOP_XL:"sapUxAPObjectPageLayout-Std-Desktop-XL"};m.DYNAMIC_HEADERS_MEDIA={PHONE:"sapFDynamicPage-Std-Phone",TABLET:"sapFDynamicPage-Std-Tablet",DESKTOP:"sapFDynamicPage-Std-Desktop",DESKTOP_XL:"sapFDynamicPage-Std-Desktop-XL"};m.DIV="div";m.HEADER="header";m.FOOTER="section";m.FOOTER="section";m.HEADER_CONTENT_PADDING_BOTTOM=v.toPx("1rem");m.SHOW_FOOTER_CLASS_NAME="sapUxAPObjectPageFloatingFooterShow";m.HIDE_FOOTER_CLASS_NAME="sapUxAPObjectPageFloatingFooterHide";m.NO_NAVIGATION_CLASS_NAME="sapUxAPObjectPageNoNavigation";m.prototype._getFirstEditableInput=function(e){var t=this.getDomRef(e);return P(t)};m.prototype._focusFirstEditableInput=function(e){this._getFirstEditableInput(e).focus()};m._getNextTitleLevelEntry=function(e){var t=m.TITLE_LEVEL_AS_ARRAY.indexOf(e),i=t!==-1,o=i&&t!==m.TITLE_LEVEL_AS_ARRAY.length-1;if(!i){return B.Auto}return m.TITLE_LEVEL_AS_ARRAY[o?t+1:t]};m._getLibraryResourceBundle=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.uxap")};m.prototype.init=function(){this.oCore=sap.ui.getCore();this._bFirstRendering=true;this._bDomReady=false;this._bPinned=false;this._bStickyAnchorBar=false;this._bHeaderInTitleArea=false;this._bHeaderExpanded=true;this._bHeaderBiggerThanAllowedHeight=false;this._bDelayDOMBasedCalculations=true;this._iStoredScrollTop=0;this._oStoredScrolledSubSectionInfo={};this._bAllContentFitsContainer=false;this._bIsFooterAanimationGoing=false;this._bInternalAnchorBarVisible=true;this._oVisibleSubSections=0;this._$footerWrapper=[];this._$opWrapper=[];this._$anchorBar=[];this._$titleArea=[];this._$stickyAnchorBar=[];this._$headerContent=[];this._$stickyHeaderContent=[];this._bMobileScenario=false;this._oSectionInfo={};this._aSectionBases=[];this._sScrolledSectionId="";this._iScrollToSectionDuration=600;this._$spacer=[];this.iHeaderContentHeight=0;this.iStickyHeaderContentHeight=0;this.iHeaderTitleHeight=0;this.iHeaderTitleHeightStickied=0;this.iAnchorBarHeight=0;this.iFooterHeight=0;this.iTotalHeaderSize=0;this._iHeaderContentPaddingBottom=0;this._oScrollContainerLastState={};this._iREMSize=parseInt(e("body").css("font-size"));this._iOffset=parseInt(.25*this._iREMSize);this._iResizeId=null;this._iAfterRenderingDomReadyTimeout=null;this._oABHelper=new u(this);this._initializeScroller();this._attachSnapListeners()};m.prototype.onBeforeRendering=function(){var e,t;this._deregisterScreenSizeListener();this._deregisterTitleSizeListener();if(this._oLazyLoading){this._oLazyLoading.destroy()}this._oLazyLoading=new g(this);this._deregisterCustomEvents();if(!this.getVisible()){return}if(!this.getSelectedSection()){this._bHeaderExpanded=true}this._bMobileScenario=f.Utilities.isPhoneScenario(this._getCurrentMediaContainerRange());this._bTabletScenario=f.Utilities.isTabletScenario(this._getCurrentMediaContainerRange());if(this._checkAlwaysShowContentHeader()){this._bHeaderExpanded=true}this._bHeaderInTitleArea=this._shouldPreserveHeaderInTitleArea();this._createHeaderContent();this._getHeaderContent().setContentDesign(this._getHeaderDesign());this._oABHelper._getAnchorBar().setProperty("upperCase",this.getUpperCaseAnchorBar(),true);this._storeScrollLocation();this._applyUxRules();if(!A(this._oSectionInfo)&&this._bFirstRendering){this._preloadSectionsOnBeforeFirstRendering();this._bFirstRendering=false}this._bStickyAnchorBar=this._shouldPreserveHeaderInTitleArea();this._handleExpandButtonPressEventLifeCycle(false);this._attachTitlePressHandler();e=this._getHeaderContent();if(e&&e.supportsPinUnpin()){t=this.getHeaderContentPinnable()&&!this.getPreserveHeaderStateOnScroll();this._getHeaderContent().setPinnable(t);if(t){this._attachPinPressHandler()}}this._attachVisualIndicatorsPressHandlers(this._handleDynamicTitlePress,this);if(r.system.desktop){this._attachVisualIndicatorMouseOverHandlers(this._addHoverClass,this._removeHoverClass,this);this._attachTitleMouseOverHandlers(this._addHoverClass,this._removeHoverClass,this)}if(this.getFooter()&&this._bIsFooterAanimationGoing){this._onToggleFooterAnimationEnd(this.getFooter())}this._$titleArea=[]};m.prototype.setBackgroundDesignAnchorBar=function(e){var t=this.getBackgroundDesignAnchorBar();if(t===e){return this}this.setProperty("backgroundDesignAnchorBar",e);this._oABHelper._getAnchorBar().setBackgroundDesign(e);return this};m.prototype.setToggleHeaderOnTitleClick=function(e){var t=this.getHeaderTitle(),i=this.setProperty("toggleHeaderOnTitleClick",e,true);if(!t||!t.supportsToggleHeaderOnTitleClick()){b.warning("Setting toggleHeaderOnTitleClick will not take effect as it is not supported in the ObjectPageHeader, read the API Doc for more information",this);return i}e=this.getProperty("toggleHeaderOnTitleClick");this._updateToggleHeaderVisualIndicators();this._updateTitleVisualState();return i};m.prototype._attachTitlePressHandler=function(){var e=this.getHeaderTitle();if(D(e)&&!this._bAlreadyAttachedTitlePressHandler){e.attachEvent(m.EVENTS.TITLE_PRESS,this._handleDynamicTitlePress,this);this._bAlreadyAttachedTitlePressHandler=true}};m.prototype._attachSnapListeners=function(){E.forEach(function(e){this.attachEvent(e,function(){this.fireEvent("_snapChange")})},this)};m.prototype._toggleHeaderVisibility=function(e){var t=this._getHeaderContent();if(D(t)){t.$().toggleClass("sapUxAPObjectPageHeaderContentHidden",!e)}};m.prototype._snapHeader=function(e,t){var i,o=this._getHeaderContent();if(o&&o.supportsPinUnpin()&&this._bPinned){this._unPin(t);o.getAggregation("_pinButton").setPressed(false);e=true}this._toggleHeaderTitle(false,true);this._toggleHeaderVisibility(e);this._moveAnchorBarToTitleArea();if(e){this._moveHeaderToContentArea();this._bHeaderExpanded=false;this._updateToggleHeaderVisualIndicators();this._adjustHeaderHeights();this._requestAdjustLayout(true);i=this._$opWrapper.scrollTop()<=this._getSnapPosition()+1;if(i){this._scrollTo(this._getSnapPosition()+1)}return}this._bHeaderExpanded=false;this._updateToggleHeaderVisualIndicators();this._adjustHeaderHeights();this._requestAdjustLayout()};m.prototype._expandHeader=function(e){this._toggleHeaderTitle(true,true);this._toggleHeaderVisibility(true);if(e){this._moveAnchorBarToTitleArea();this._moveHeaderToTitleArea();this._bHeaderExpanded=true;this._updateToggleHeaderVisualIndicators();this._adjustHeaderHeights();this._requestAdjustLayout();return}this._moveAnchorBarToContentArea();this._moveHeaderToContentArea();this._scrollTo(0,0,0);this._bHeaderExpanded=true;this._adjustHeaderHeights();this._updateToggleHeaderVisualIndicators();if(this._isHeaderPinnable()){this._getHeaderContent()._getPinButton().setVisible(!this._headerBiggerThanAllowedToBeExpandedInTitleArea())}};m.prototype._handleDynamicTitlePress=function(){if(!this.getToggleHeaderOnTitleClick()||!this._hasVisibleDynamicTitleAndHeader()){return}var e=!this._bHeaderExpanded,t,i,o;if(e){t=this._$opWrapper.scrollTop()<=this._getSnapPosition()+1;i=!this._headerBiggerThanAllowedToBeExpandedInTitleArea()&&(this._shouldPreserveHeaderInTitleArea()||!t);this._expandHeader(i);if(!i){this._scrollTo(0,0)}}else{o=!this._shouldPreserveHeaderInTitleArea()&&(!this._bAllContentFitsContainer||this._headerBiggerThanAllowedToBeExpandedInTitleArea());this._snapHeader(o,true)}this.getHeaderTitle()._getFocusSpan().trigger("focus")};m.prototype._attachPinPressHandler=function(){var e=this._getHeaderContent();if(D(e)&&!this._bAlreadyAttachedPinPressHandler){e.attachEvent(m.EVENTS.PIN_UNPIN_PRESS,this._onPinUnpinButtonPress,this);this._bAlreadyAttachedPinPressHandler=true}};m.prototype._handleExpandButtonPressEventLifeCycle=function(e){var t=this.getHeaderTitle(),i=this._hasDynamicTitle(),o;if(t&&!i){o=t.getAggregation("_expandButton");if(o){o[e?"attachPress":"detachPress"](this._handleExpandButtonPress,this)}}};m.prototype._adjustSelectedSectionByUXRules=function(){var e=this.oCore.byId(this.getSelectedSection()),t=e&&this._sectionCanBeRenderedByUXRules(e);if(!t){if(this._oFirstVisibleSection){e=this._oFirstVisibleSection;this.setAssociation("selectedSection",e.getId(),true)}else{this.setAssociation("selectedSection",null,true);return}}};m.prototype._sectionCanBeRenderedByUXRules=function(e){if(!(e instanceof h)){return false}var t=e.getBindingInfo("subSections");if(!t&&(!e.getVisible()||!e._getInternalVisible())){return false}var i=this._aSectionBases.map(function(e){return e.getId()});return i.indexOf(e.getId())>-1};m.prototype._getSectionsToRender=function(){this._adjustSelectedSectionByUXRules();var e=this.oCore.byId(this.getSelectedSection());if(this.getUseIconTabBar()&&e){return[e]}else{return this.getSections()}};m.prototype._preloadSectionsOnBeforeFirstRendering=function(){var e=this._getSectionsToPreloadOnBeforeFirstRendering();this._connectModelsForSections(e);if(this.getEnableLazyLoading()){e.forEach(function(e){this.fireEvent("subSectionPreload",{subSection:e})},this)}};m.prototype._getSectionsToPreloadOnBeforeFirstRendering=function(){var e,t,i;if(!this.getEnableLazyLoading()){return this._getSectionsToRender()}if(this.getUseIconTabBar()){return this._oLazyLoading.getSubsectionsToPreload(this._grepCurrentTabSectionBases())}this._adjustSelectedSectionByUXRules();t=this.oCore.byId(this.getSelectedSection());if(!t||t===this._oFirstVisibleSection){return this._oLazyLoading.getSubsectionsToPreload(this._aSectionBases)}i=this.indexOfSection(t);var o=function(e){var t=e.isA("sap.uxap.ObjectPageSection")?e:e.getParent();return this.indexOfSection(t)>=i}.bind(this);e=this._aSectionBases.filter(o);return this._oLazyLoading.getSubsectionsToPreload(e)};m.prototype._grepCurrentTabSectionBases=function(){var e=[],t,i,o,n;this._adjustSelectedSectionByUXRules();t=this.oCore.byId(this.getSelectedSection());if(t){i=t.getId();this._aSectionBases.forEach(function(t){o=t.getParent();n=o&&o.getId();if(t.getId()===i||n===i){e.push(t)}})}return e};m.prototype.onAfterRendering=function(){var e=this._getHeaderContent(),t=this.getFooter(),o,n=this._getWidth(this);this._bInvalidatedAndNotRerendered=false;this._ensureCorrectParentHeight();this._cacheDomElements();this._iResizeId=i.register(this,this._onUpdateScreenSize.bind(this));this._iTitleResizeId=i.register(this._$titleArea.get(0),this._adjustTitlePositioning.bind(this));if(this._hasDynamicTitle()){this.addStyleClass("sapUxAPObjectPageHasDynamicTitle")}if(n>0){this._updateMedia(n,m.MEDIA)}this._$opWrapper.on("scroll.OPL",this._onScroll.bind(this));if(this._bDomReady&&this.$().parents(":hidden").length===0){this._onAfterRenderingDomReady()}else{if(this._iAfterRenderingDomReadyTimeout){clearTimeout(this._iAfterRenderingDomReadyTimeout)}this._iAfterRenderingDomReadyTimeout=setTimeout(this._onAfterRenderingDomReady.bind(this),this._getDOMCalculationDelay())}if(e&&e.supportsPinUnpin()){this._updatePinButtonState()}if(t){o=m._getLibraryResourceBundle().getText("FOOTER_ARIA_LABEL");t.$().attr("aria-label",o)}this._handleExpandButtonPressEventLifeCycle(true)};m.prototype._onAfterRenderingDomReady=function(){var e,t,i,o=this._getWidth(this);if(this._bIsBeingDestroyed){return}this._adjustSelectedSectionByUXRules();e=this.getSelectedSection();t=this.oCore.byId(e);this._iAfterRenderingDomReadyTimeout=null;this._bDomReady=true;this._adjustHeaderHeights();this._initAnchorBarScroll();if(e){if(this.getUseIconTabBar()){this._setSelectedSectionId(e);this._setCurrentTabSection(t);this._bAllContentFitsContainer=this._hasSingleVisibleFullscreenSubSection(t);this._checkSubSectionVisibilityChange()}else{this.scrollToSection(e,0)}}this._toggleScrolling(!this._bAllContentFitsContainer);this._registerOnContentResize();this.getHeaderTitle()&&this._shiftHeaderTitle();this.getFooter()&&this._shiftFooter();this._setSectionsFocusValues();if(this.getPreserveHeaderStateOnScroll()){this._overridePreserveHeaderStateOnScroll()}if(!this._bHeaderExpanded){i=!this._shouldPreserveHeaderInTitleArea()&&!this._bAllContentFitsContainer;this._snapHeader(i)}this._restoreScrollPosition();this.oCore.getEventBus().publish("sap.ui","ControlForPersonalizationRendered",this);this._updateMedia(o,m.MEDIA);if(this._hasDynamicTitle()){this._updateMedia(o,m.DYNAMIC_HEADERS_MEDIA)}this._updateToggleHeaderVisualIndicators();this._updateTitleVisualState();this.fireEvent("onAfterRenderingDOMReady")};m.prototype._toggleScrolling=function(e){if(this._$opWrapper.length){this._$opWrapper.get(0).style.overflowY=e?"auto":"hidden"}};m.prototype._shiftFooter=function(){var e=this.$("footerWrapper"),t=this._calculateShiftOffset();e.css(t.sStyleAttribute,t.iMarginalsOffset+"px")};m.prototype._calculateShiftOffset=function(){var e=0,t=this.oCore.getConfiguration().getRTL()?"left":"right",i=this._hasVerticalScrollBar(),o=this._iOffset,n;if(r.system.desktop){n=T().width;e=n;if(!i){e=0;o+=n}}return{sStyleAttribute:t,iActionsOffset:o,iMarginalsOffset:e}};m.prototype._getDOMCalculationDelay=function(){return this._bDelayDOMBasedCalculations?m.HEADER_CALC_DELAY:0};m.prototype.exit=function(){if(this._oScroller){this._oScroller.destroy();this._oScroller=null}if(this._oLazyLoading){this._oLazyLoading.destroy();this._oLazyLoading=null}this._deregisterScreenSizeListener();this._deregisterTitleSizeListener();if(this._iContentResizeId){i.deregister(this._iContentResizeId)}if(this._iAfterRenderingDomReadyTimeout){clearTimeout(this._iAfterRenderingDomReadyTimeout)}if(this._oObserver){this._oObserver.disconnect();this._oObserver=null}this._deregisterCustomEvents();this._oFirstVisibleSection=null;this._oFirstVisibleSubSection=null};m.prototype.setShowOnlyHighImportance=function(e){var t=this.getShowOnlyHighImportance();if(t!==e){this.setProperty("showOnlyHighImportance",e,true);this.getSections().forEach(function(e){e._updateImportance()})}return this};m.prototype.setIsHeaderContentAlwaysExpanded=function(e){var t=this.getAlwaysShowContentHeader();var i=r.system.phone||r.system.tablet;if(t!==e){this.setProperty("alwaysShowContentHeader",e,i)}return this};m.prototype.setShowEditHeaderButton=function(e){var t=this.getShowEditHeaderButton(),i=this.getAggregation("_headerContent");if(t!==e){this.setProperty("showEditHeaderButton",e,true);i&&i.invalidate()}return this};m.prototype._initializeScroller=function(){if(this._oScroller){return}this._oScroller=new a(this,this.getId()+"-scroll",{horizontal:false,vertical:true});this._oScroller.setOnAfterScrollToElement(this._onAfterScrollToElement.bind(this))};m.prototype._onAfterScrollToElement=function(){var e=this._$opWrapper.scrollTop(),t=this._bStickyAnchorBar,i;this._onScroll({target:{scrollTop:e}});i=this._$contentContainer.get(0).offsetTop;if(this._bStickyAnchorBar&&!t&&this._$opWrapper.scrollTop()===e){i-=this._getTitleHeightDelta()}this._$opWrapper.scrollTop(e-i)};m.prototype.setSelectedSection=function(e){var t,i;if(e instanceof h){e=e.getId()}else if(e!=null&&typeof e!=="string"){H(false,"setSelectedSection(): sId must be a string, an instance of sap.uxap.ObjectPageSection or null");return this}if(e===this.getSelectedSection()){return this}if(e===null){this.setAssociation("selectedSection",null,true);this._expandHeader(this._bHeaderInTitleArea);this._selectFirstVisibleSection();return this}this.scrollToSection(e);t=l._getClosestSection(e);i=t instanceof l?t.getId():t;this.setDirectScrollingToSection(i);return this.setAssociation("selectedSection",i,true)};m.prototype._selectFirstVisibleSection=function(){if(this.getUseIconTabBar()&&this._oFirstVisibleSection){this._adjustSelectedSectionByUXRules();this._setCurrentTabSection(this._oFirstVisibleSection);this._bAllContentFitsContainer=this._hasSingleVisibleFullscreenSubSection(this._oFirstVisibleSection);this._preloadSectionsOnBeforeScroll(this._oFirstVisibleSection);this._updateSelectionOnScroll(0);this._checkSubSectionVisibilityChange()}else if(this.$().is(":visible")){this._scrollTo(0,0);if(!this._bInvalidatedAndNotRerendered){this._sScrolledSectionId=null;this._updateSelectionOnScroll(0)}}};m.prototype._ensureCorrectParentHeight=function(){if(this._bCorrectParentHeightIsSet){return}if(this.getParent().getHeight&&["","auto"].indexOf(this.getParent().getHeight())!==-1){this.$().parent().css("height","100%")}this._bCorrectParentHeightIsSet=true};m.prototype._cacheDomElements=function(){this._$footerWrapper=this.$("footerWrapper");this._$titleArea=this.$("headerTitle");this._$anchorBar=this.$("anchorBar");this._$stickyAnchorBar=this.$("stickyAnchorBar");this._$opWrapper=this.$("opwrapper");this._$spacer=this.$("spacer");this._$headerContent=this.$("headerContent");this._$stickyHeaderContent=this.$("stickyHeaderContent");this._$contentContainer=this.$("scroll");this._$sectionsContainer=this.$("sectionsContainer");this._oScroller._$Container=this._$opWrapper;this._bDomElementsCached=true};m.prototype._handleExpandButtonPress=function(e){this._expandHeader(true)};m.prototype._toggleHeaderTitle=function(e,t){var i=this.getHeaderTitle(),o=this._oABHelper._getAnchorBar();if(this._$titleArea.length){this._$titleArea.toggleClass("sapUxAPObjectPageHeaderStickied",!e);this._$titleArea.toggleClass("sapUxAPObjectPageHeaderSnappedTitleOnMobile",this._hasDynamicTitleWithSnappedTitleOnMobile()&&!e)}if(e){i&&i.unSnap(t)}else{i&&i.snap(t)}o.scrollToCurrentlySelectedSection()};m.prototype._moveHeaderToTitleArea=function(){this._$headerContent.children().appendTo(this._$stickyHeaderContent);this._bHeaderInTitleArea=true;this.fireEvent("_moveHeader",{fixed:true});this._bSupressModifyOnScrollOnce=true};m.prototype._moveHeaderToContentArea=function(){if(this._bHeaderInTitleArea){this._$headerContent.append(this._$stickyHeaderContent.children());this._$stickyHeaderContent.children().remove();this._bHeaderInTitleArea=false;this.fireEvent("_moveHeader",{fixed:false})}};m.prototype._updateNavigation=function(){if(this.getShowAnchorBar()){this._oABHelper._buildAnchorBar()}};m.prototype._applyUxRules=function(e){var t,i,o,n,r,s,a,h,l,d,g,u,_={};t=this.getSections()||[];n=0;s=this.getShowAnchorBar();a=this.getUseIconTabBar();h=null;this._cleanMemory();t.forEach(function(t){if(!t.getVisible()){return true}this._registerSectionBaseInfo(t);i=t.getSubSections()||[];o=0;l=null;i.forEach(function(t){if(!t.getVisible()){return true}this._registerSectionBaseInfo(t);r=t.getVisibleBlocksCount();if(r===0){t._setInternalVisible(false,e);b.info("ObjectPageLayout :: noVisibleBlock UX rule matched","subSection "+t.getTitle()+" forced to hidden")}else{t._setInternalVisible(true,e);_[t.getId()]=true;o++;if(!l){l=t}if(this._shouldApplySectionTitleLevel(t)){t._setInternalTitleLevel(this._determineSectionBaseInternalTitleLevel(t,!h),e)}}},this);if(o>1){i.forEach(function(e){e._setBorrowedTitleDomId("")})}if(o==0){t._setInternalVisible(false,e);b.info("ObjectPageLayout :: noVisibleSubSection UX rule matched","section "+t.getTitle()+" forced to hidden")}else{t._setInternalVisible(true,e);_[t.getId()]=true;if(!h){h=t;u=o}if(this.getSubSectionLayout()===O.TitleOnTop&&o===1&&l.getTitle().trim()!==""){b.info("ObjectPageLayout :: TitleOnTop.sectionGetSingleSubSectionTitle UX rule matched","section "+t.getTitle()+" is taking its single subsection title "+l.getTitle());t._setInternalTitle(l.getTitle(),e);_[l.getId()]=false;l._setBorrowedTitleDomId(t.getId()+"-title")}else{t._setInternalTitle("",e)}if(o===1&&!l.getTitle().trim()){l._setBorrowedTitleDomId(t.getId()+"-title")}if(this._shouldApplySectionTitleLevel(t)){t._setInternalTitleLevel(this._determineSectionBaseInternalTitleLevel(t),e)}n++}if(a){_[t.getId()]=false}},this);if(n<=1){s=false;b.info("ObjectPageLayout :: notEnoughVisibleSection UX rule matched","anchorBar forced to hidden");if(a&&h){_[h.getId()]=true}}else if(h&&s){d=true;_[h.getId()]=false;b.info("ObjectPageLayout :: firstSectionTitleHidden UX rule matched","section "+h.getTitle()+" title forced to hidden")}this.toggleStyleClass(m.NO_NAVIGATION_CLASS_NAME,n<=1);Object.keys(_).forEach(function(t){this.oCore.byId(t)._setInternalTitleVisible(_[t],e)}.bind(this));if(s){this._oABHelper._buildAnchorBar()}this._setInternalAnchorBarVisible(s,e);this._oFirstVisibleSection=h;this._oFirstVisibleSubSection=this._getFirstVisibleSubSection(h);this._bAllContentFitsContainer=n===1&&o===1&&this._oFirstVisibleSubSection.hasStyleClass(c.FIT_CONTAINER_CLASS);if(d&&u===1){g=this.getAggregation("_anchorBar").getContent();if(g.length){this._oFirstVisibleSubSection._setBorrowedTitleDomId(g[0].getId()+"-content")}}this._checkSubSectionVisibilityChange()};m.prototype._checkSubSectionVisibilityChange=function(){var e=this.getUseIconTabBar(),t=e&&sap.ui.getCore().byId(this.getSelectedSection()),i=t?[t]:this._getVisibleSections(),o={},n;i.forEach(function(e){e.getSubSections().forEach(function(e){n=e.getVisible()&&e._getInternalVisible();if(n){o[e.getId()]=e}})});if(y(Object.keys(this._oVisibleSubSections),Object.keys(o)).length){this._oVisibleSubSections=o;this.fireEvent("subSectionVisibilityChange",{visibleSubSections:o})}};m.prototype.setUseIconTabBar=function(e){var t=this.getUseIconTabBar();if(e!=t){this._applyUxRules()}this.setProperty("useIconTabBar",e);return this};m.prototype._setCurrentTabSection=function(e,t){if(!e){return}var i;if(e instanceof sap.uxap.ObjectPageSubSection){i=e;e=e.getParent()}else{i=this._getFirstVisibleSubSection(e)}if(this._oCurrentTabSection!==e){this._renderSection(e);this._oCurrentTabSection=e}this._oCurrentTabSubSection=i};m.prototype._renderSection=function(e){var t=this.$().find(".sapUxAPObjectPageContainer"),i;if(e&&t.length){i=this.oCore.createRenderManager();this.getSections().forEach(function(t){if(t.getId()===e.getId()){i.renderControl(e)}else{i.cleanupControlWithoutRendering(t)}});i.flush(t[0]);i.destroy()}};m.prototype.setShowAnchorBarPopover=function(e,t){var i=this.getProperty("showAnchorBarPopover"),e=this.validateProperty("showAnchorBarPopover",e),o=this.getSelectedSection();if(e===i){return this}this._oABHelper._getAnchorBar().setShowPopover(e);this._oABHelper._buildAnchorBar();this._setSelectedSectionId(o);return this.setProperty("showAnchorBarPopover",e,true)};m.prototype._getInternalAnchorBarVisible=function(){return this._bInternalAnchorBarVisible};m.prototype._setInternalAnchorBarVisible=function(e,t){if(e!=this._bInternalAnchorBarVisible){this._bInternalAnchorBarVisible=e;if(t===true){this.invalidate()}}};m.prototype.setUpperCaseAnchorBar=function(e){this._oABHelper._getAnchorBar().setProperty("upperCase",e);return this.setProperty("upperCaseAnchorBar",e,true)};m.prototype._requestAdjustLayout=function(e){if(!this._oLayoutTask){this._oLayoutTask=new _(this._updateScreenHeightSectionBasesAndSpacer,m.DOM_CALC_DELAY,this)}if(!e){b.debug("ObjectPageLayout :: _requestAdjustLayout","delayed by "+m.DOM_CALC_DELAY+" ms because of dom modifications")}return this._oLayoutTask.reSchedule(e,{}).catch(function(e){})};m.prototype._requestAdjustLayoutAndUxRules=function(e){this._setSectionInfoIsDirty(true);if(!this._oUxRulesTask){this._oUxRulesTask=new _(this._adjustLayoutAndUxRules,m.DOM_CALC_DELAY,this)}if(!e){b.debug("ObjectPageLayout :: _requestAdjustLayoutAndUxRules","delayed by "+m.DOM_CALC_DELAY+" ms because of dom modifications")}return this._oUxRulesTask.reSchedule(e,{}).catch(function(e){})};m.prototype._adjustLayoutAndUxRules=function(){var e,t;b.debug("ObjectPageLayout :: _requestAdjustLayout","refreshing ux rules");this._applyUxRules(true);this._adjustSelectedSectionByUXRules();e=this.getSelectedSection();t=this.oCore.byId(e);if(t){this._setSelectedSectionId(e);if(this.getUseIconTabBar()){this._setCurrentTabSection(t);this._bAllContentFitsContainer=this._hasSingleVisibleFullscreenSubSection(t)}this._requestAdjustLayout(true);if(this.getEnableLazyLoading()&&this._oLazyLoading){this._oLazyLoading.doLazyLoading()}if(!this._isClosestScrolledSection(e)||this._oScroller._$Container&&this._oScroller._$Container.is(":animated")){this.scrollToSection(e,null,0,false,true)}}};m.prototype._isClosestScrolledSection=function(e){var t=this._$opWrapper.length>0?this._$opWrapper.scrollTop():0,i=this.iScreenHeight,o=this._getClosestScrolledSectionBaseId(t,i),n=this.oCore.byId(o),r=l._getClosestSection(n);return r&&e===r.getId()};m.prototype._setSelectedSectionId=function(e){var t=this.getAggregation("_anchorBar"),i=e&&this._oSectionInfo[e];if(!i){return}if(t&&i.buttonId){t.setSelectedButton(i.buttonId);this.setAssociation("selectedSection",e,true)}};m.prototype.isFirstRendering=function(){return this._bFirstRendering};m.prototype._cleanMemory=function(){var e=this.getAggregation("_anchorBar");if(e){e._resetControl()}this._oSectionInfo={};this._aSectionBases=[]};m.prototype._registerSectionBaseInfo=function(e){this._oSectionInfo[e.getId()]={$dom:[],positionTop:0,buttonId:"",isSection:e instanceof l,sectionReference:e};this._aSectionBases.push(e)};m.prototype._triggerVisibleSubSectionsEvents=function(){this._bDelayDOMBasedCalculations=false;if(this.getEnableLazyLoading()&&this._oLazyLoading){this._oLazyLoading._triggerVisibleSubSectionsEvents()}};m.prototype.scrollToSection=function(e,t,i,n,r){var s=this.oCore.byId(e),a,h,d=o.getAnimationMode()!==o.AnimationMode.none,g;if(!this.getDomRef()){b.warning("scrollToSection can only be used after the ObjectPage is rendered",this);return}if(!s){b.warning("scrollToSection aborted: unknown section",e,this);return}if(!this._oSectionInfo[e]||!s._getInternalVisible()){b.warning("scrollToSection aborted: section is hidden by UX rules",e,this);return}if(this.bIsDestroyed){b.debug("ObjectPageLayout :: scrollToSection","scrolling canceled as page is being destroyed");return}if(this.getUseIconTabBar()){var u=l._getClosestSection(s);var _=this._bAllContentFitsContainer,p;this._bAllContentFitsContainer=this._hasSingleVisibleFullscreenSubSection(u);this._toggleScrolling(!this._bAllContentFitsContainer);p=this._bAllContentFitsContainer!==_;if(p&&!this._bHeaderExpanded){this._snapHeader(!this._bAllContentFitsContainer);this._bSupressModifyOnScrollOnce=true}if(this._oCurrentTabSection){this._oCurrentTabSection._allowPropagationToLoadedViews(false)}u._allowPropagationToLoadedViews(true);this._setCurrentTabSection(s);this.getAggregation("_anchorBar").setSelectedButton(this._oSectionInfo[u.getId()].buttonId);this.setAssociation("selectedSection",u.getId(),true);this._checkSubSectionVisibilityChange()}h=s instanceof c?s:this._getFirstVisibleSubSection(s);if(this._bHeaderInTitleArea&&!this._shouldPreserveHeaderInTitleArea()&&!this._bAllContentFitsContainer){this._moveHeaderToContentArea();this._toggleHeaderTitle(false);this._bHeaderExpanded=false;this._updateToggleHeaderVisualIndicators()}i=i||0;s._expandSection();this._requestAdjustLayout(true);t=this._computeScrollDuration(t,s);var f=this._computeScrollPosition(s);if(this._sCurrentScrollId!=e||r){this._sCurrentScrollId=e;if(this._iCurrentScrollTimeout){clearTimeout(this._iCurrentScrollTimeout);if(this._$contentContainer){this._$contentContainer.parent().stop(true,false)}}if(this._bDomElementsCached){this._iCurrentScrollTimeout=setTimeout(function(){this._sCurrentScrollId=undefined;this._iCurrentScrollTimeout=undefined}.bind(this),t)}this._preloadSectionsOnBeforeScroll(s);f+=i;if(!this._bStickyAnchorBar&&this._shouldSnapHeaderOnScroll(f)){a=this._getSnapPosition();this._scrollTo(a,0);if(a===0){this._toggleHeader(true)}}g=d&&t&&this.getEnableLazyLoading();this._scrollTo(f,t,g);if(n){this.fireNavigate({section:l._getClosestSection(s),subSection:h})}}};m.prototype.onAnchorBarTabPress=function(e){var t=sap.ui.getCore().byId(e.getParameter("sectionBaseId")),i=t instanceof f.ObjectPageSubSection,o,n;if(!t){return}o=i?t.getParent():t;n=i?t:this._getFirstVisibleSubSection(t);this.setDirectScrollingToSection(o.getId());this.scrollToSection(t.getId(),null,0,true);o.setAssociation("selectedSubSection",n,true);this.setAssociation("selectedSection",o,true)};m.prototype._hasSingleVisibleFullscreenSubSection=function(e){var t=e.getSubSections().filter(function(e){return e.getVisible()&&e._getInternalVisible()&&e.getBlocks().length>0});return t.length===1&&t[0].hasStyleClass(c.FIT_CONTAINER_CLASS)};m.prototype._computeScrollDuration=function(e,t){var i=parseInt(e);i=i>=0?i:this._iScrollToSectionDuration;if(this.getUseIconTabBar()&&(t instanceof l||this._isFirstVisibleSectionBase(t))&&this._bStickyAnchorBar){i=0}return i};m.prototype._computeScrollPosition=function(e){var t=this._oSectionInfo[e.getId()].positionTop,i=!this._bStickyAnchorBar;if(i&&this._isFirstVisibleSectionBase(e)){t=0}return t};m.prototype._preloadSectionsOnBeforeScroll=function(e){var t=e.getId(),i;if(!this.getEnableLazyLoading()&&this.getUseIconTabBar()){i=e instanceof l?e:e.getParent();this._connectModelsForSections([i])}if(this.getEnableLazyLoading()){var o=this.getUseIconTabBar()?this._grepCurrentTabSectionBases():this._aSectionBases;i=this._oLazyLoading.getSubsectionsToPreload(o,t);if(r.system.desktop){setTimeout(function(){this._connectModelsForSections(i);this._fireSubSectionEnteredViewPortEvent(i)}.bind(this),50)}else{this._connectModelsForSections(i);this._fireSubSectionEnteredViewPortEvent(i)}}};m.prototype._fireSubSectionEnteredViewPortEvent=function(e){e.forEach(function(e){this.fireEvent("subSectionEnteredViewPort",{subSection:e})},this)};m.prototype.getScrollingSectionId=function(){return this._sScrolledSectionId};m.prototype.setDirectScrollingToSection=function(e){this.sDirectSectionId=e};m.prototype.getDirectScrollingToSection=function(){return this.sDirectSectionId};m.prototype.clearDirectScrollingToSection=function(){this.sDirectSectionId=null};m.prototype._scrollTo=function(e,t,i){if(this._oScroller&&this._bDomReady&&!this._bSuppressScroll){b.debug("ObjectPageLayout :: scrolling to "+e);if(t===0&&this._shouldSnapHeaderOnScroll(e)){this._toggleHeader(true)}if(i&&this._oLazyLoading){this._oLazyLoading.suppress();this._oScroller.scrollTo(0,e,t,this._resumeLazyLoading.bind(this))}else{this._oScroller.scrollTo(0,e,t)}}return this};m.prototype._resumeLazyLoading=function(){if(this._oLazyLoading){this._oLazyLoading.resume();this._oLazyLoading.lazyLoadDuringScroll(true)}};m.prototype._scrollBelowCollapseVisualIndicator=function(){var e=this._getHeaderContent(),t,i,o,n;if(!D(e)||!D(this._$opWrapper)){return}t=e._getCollapseButton().getDomRef();i=t.getBoundingClientRect().height;o=this._$opWrapper[0].getBoundingClientRect().height;n=t.offsetTop+i-o;this._scrollTo(n)};m.prototype._updateMedia=function(e,t){if(!e){return}var i=function(e){Object.keys(t).forEach(function(i){var o=t[i],n=e===o;this.toggleStyleClass(o,n)},this)}.bind(this),o=m.BREAK_POINTS;if(e<=o.PHONE){i(t.PHONE)}else if(e<=o.TABLET){i(t.TABLET)}else if(e<=o.DESKTOP){i(t.DESKTOP)}else{i(t.DESKTOP_XL)}};m.prototype._updateScreenHeightSectionBasesAndSpacer=function(){var e,t,i,o,n,r,s=this._bHeaderInTitleArea||!this._bHeaderExpanded,a,h,d,g=this.getDomRef(),u=this.getUseIconTabBar();if(!g||!this._bDomReady){return false}b.debug("ObjectPageLayout :: _updateScreenHeightSectionBasesAndSpacer","re-evaluating dom positions");this.iScreenHeight=this._getDOMRefHeight(g);if(this.iScreenHeight===0){return}this.iFooterHeight=this._getFooterHeight();var _=-1,p=this._$sectionsContainer.position().top;this._aSectionBases.forEach(function(e){var i=this._oSectionInfo[e.getId()],r=e.$(),s=false,g,S;if(!i||!r.length){return}if(!i.isSection){_++}i.$dom=r;var b=f.Utilities.getChildPosition(r,this._$contentContainer).top;i.positionTop=Math.ceil(b);if(!i.isSection&&(g=e.getParent())){s=e._getTitleDomId()===g.getId()+"-title";if(s){var y=g.$().position().top;i.positionTop=Math.ceil(y)}}if(!this._bStickyAnchorBar&&!this._bHeaderInTitleArea){i.positionTop-=this.iAnchorBarHeight}i.sectionReference.toggleStyleClass("sapUxAPObjectPageSubSectionPromoted",s);if(this._bMobileScenario){var T=this.oCore.byId(e.getId()).getParent();if(T instanceof l&&T._getIsHidden()){return}if(n){this._oSectionInfo[n].positionBottom=i.positionTop}n=e.getId();t=e}else{if(i.isSection){if(n){this._oSectionInfo[n].positionBottom=i.positionTop;if(o){this._oSectionInfo[o].positionBottom=i.positionTop}}n=e.getId();o=null}else{if(o){this._oSectionInfo[o].positionBottom=i.positionTop}o=e.getId();t=e}}if(!i.isSection){h=u||e.getParent()===this._oFirstVisibleSection;a=h&&_===0;d=e.hasStyleClass(c.FIT_CONTAINER_CLASS);S=g&&g.$().length?parseInt(g.$().css("marginTop")):0;e._setHeight(this._computeSubSectionHeight(a,d,Math.ceil(b),p,S))}},this);if(t){e=this._computeLastVisibleHeight(t);if(this._bMobileScenario&&n){this._oSectionInfo[n].positionBottom=this._oSectionInfo[n].positionTop+e}else{if(o){this._oSectionInfo[o].positionBottom=this._oSectionInfo[o].positionTop+e}if(n&&o){this._oSectionInfo[n].positionBottom=this._oSectionInfo[o].positionTop+e}}r=this._bStickyAnchorBar||_>0||this._checkContentBottomRequiresSnap(t);if(this._bAllContentFitsContainer){r=false}if(r&&!this._shouldPreserveHeaderInTitleArea()){s=true}i=this._computeSpacerHeight(t,e,r,s);this._$spacer.height(i+"px");b.debug("ObjectPageLayout :: bottom spacer is now "+i+"px");C(this._oScrollContainerLastState,{iScrollableContentLength:Math.round(this._getScrollableContentLength()),iSpacerHeight:i})}this._adjustTitlePositioning();this._setSectionInfoIsDirty(false);this._updateSelectionOnScroll(this._$opWrapper.scrollTop());return true};m.prototype._computeSubSectionHeight=function(e,t,i,o,n){var r,s;if(!t){return""}var a=this._bAllContentFitsContainer?this._bHeaderExpanded:e;r=this._getSectionsContainerHeight(a);if(this._bAllContentFitsContainer){s=i-o+n+this.iFooterHeight;r-=s}return r+"px"};m.prototype._computeScrollableContentSize=function(e){var t=0;if(this._$contentContainer&&this._$contentContainer.length){t=this._$contentContainer[0].scrollHeight}if(!this._bStickyAnchorBar&&e){t-=this.iAnchorBarHeight}if(this._bStickyAnchorBar&&!e){t+=this.iAnchorBarHeight}return t};m.prototype._computeLastVisibleHeight=function(e){var t=this._bStickyAnchorBar||this._bHeaderInTitleArea;var i=this._getSectionPositionTop(e,t);return Math.ceil(this._$spacer.position().top)-i};m.prototype._getStickyAreaHeight=function(e){if(e){return this.iHeaderTitleHeightStickied+this.iAnchorBarHeight}return this.iHeaderTitleHeight};m.prototype._getScrollableViewportHeight=function(e){return this.getDomRef().getBoundingClientRect().height-this._getStickyAreaHeight(e)};m.prototype._getSectionsContainerHeight=function(e){var t=!e,i=this._getScrollableViewportHeight(t);if(!t&&!this._bHeaderInTitleArea){i-=this.iHeaderContentHeight+this.iAnchorBarHeight}return i};m.prototype._getSectionPositionTop=function(e,t){var i=this._oSectionInfo[e.getId()].positionTop;if(!this._bStickyAnchorBar&&!this._bHeaderInTitleArea){i+=this.iAnchorBarHeight}return i};m.prototype._getSectionPositionBottom=function(e,t){var i=this._oSectionInfo[e.getId()].positionBottom;if(!t){i+=this.iAnchorBarHeight}return i};m.prototype._determineSectionBaseInternalTitleLevel=function(e,t){var i=this.getSectionTitleLevel(),o=e instanceof l;if(i===B.Auto){if(o||t&&!o){return B.H3}return B.H4}return o?i:m._getNextTitleLevelEntry(i)};m.prototype._shouldApplySectionTitleLevel=function(e){return e.getTitleLevel()===B.Auto};m.prototype._checkContentBottomRequiresSnap=function(e){var t=false;return this._getSectionPositionBottom(e,t)>this._getScrollableViewportHeight(t)+this._getSnapPosition()};m.prototype._computeSpacerHeight=function(e,t,i,o){var n,r;if(Object.keys(this._oVisibleSubSections).length===1&&this._bHeaderExpanded){n=0}else{r=this._getScrollableViewportHeight(o);if(i){r=Math.ceil(r);t=Math.floor(t)}else{t=this._$spacer.position().top}if(t<r){n=r-t}else{n=0}}if(this.iFooterHeight>n){n+=this.iFooterHeight}return n};m.prototype._isFirstVisibleSectionBase=function(e){var t,i,o,n=this.getSelectedSection(),r=this.getUseIconTabBar();if(!e||!e.getParent()){return}t=e.getId();if(r&&t===n){return true}if(r&&e.getParent().getId()===n){i=sap.ui.getCore().byId(n);o=this._getFirstVisibleSubSection(i);return o&&o.getId()===t}if(this._oFirstVisibleSection&&this._oFirstVisibleSubSection){return t===this._oFirstVisibleSection.getId()||t===this._oFirstVisibleSubSection.getId()}return false};m.prototype._getFirstVisibleSubSection=function(e){if(!e){return}var t;this._aSectionBases.every(function(i){if(i.getParent()&&i.getParent().getId()===e.getId()){t=i;return false}return true});return t};m.prototype._initAnchorBarScroll=function(){var e=this.oCore.byId(this.getSelectedSection()),t;this._requestAdjustLayout(true);t=e?this._computeScrollPosition(e):0;this._sScrolledSectionId="";this._sCurrentScrollId="";this._onScroll({target:{scrollTop:t}},true)};m.prototype._setAsCurrentSection=function(e){var t,i,o;if(this._sScrolledSectionId===e){return}b.debug("ObjectPageLayout :: current section is "+e);this._sScrolledSectionId=e;t=this.getAggregation("_anchorBar");if(t&&this._getInternalAnchorBarVisible()){i=this.oCore.byId(e);o=i&&i instanceof c&&(i.getTitle().trim()===""||!i._getInternalTitleVisible()||i.getParent()._getIsHidden());if(o){e=i.getParent().getId();b.debug("ObjectPageLayout :: current section is a subSection with an empty or hidden title, selecting parent "+e)}if(i&&this._oSectionInfo[e]){t.setSelectedButton(this._oSectionInfo[e].buttonId);this.setAssociation("selectedSection",l._getClosestSection(e).getId(),true);this._setSectionsFocusValues(e)}}};m.prototype._registerOnContentResize=function(){var e=this._$contentContainer.length&&this._$contentContainer[0];if(!e){return}if(this._iContentResizeId){i.deregister(this._iContentResizeId)}this._iContentResizeId=i.register(e,this._onUpdateContentSize.bind(this))};m.prototype._onUpdateContentSize=function(e){var t=e.size;this.iContentHeight=t.height;if(t.height===0||t.width===0){b.info("ObjectPageLayout :: not triggering calculations if height or width is 0");return}if(this.getPreserveHeaderStateOnScroll()){this._overridePreserveHeaderStateOnScroll()}this._adjustHeaderHeights();this._requestAdjustLayout(true)};m.prototype.triggerPendingLayoutUpdates=function(){if(this._hasPendingLayoutUpdate()){this._requestAdjustLayout(true)}};m.prototype._hasPendingLayoutUpdate=function(){return this._oLayoutTask&&this._oLayoutTask.isPending()||this._$contentContainer.length&&this._$contentContainer.get(0).offsetHeight!==this.iContentHeight};m.prototype._adjustTitlePositioning=function(e){if(!this._$titleArea.length||!this._$opWrapper.length){return}var t=this._$opWrapper.get(0),i=this._$titleArea.get(0),o=i.getBoundingClientRect().height,n=i.getBoundingClientRect().width;t.style.paddingTop=o+"px";t.style.clipPath="polygon(0px "+o+"px, "+Math.floor(n)+"px "+o+"px, "+Math.floor(n)+"px 0, 100% 0, 100% 100%, 0 100%)";this.getHeaderTitle()&&this._shiftHeaderTitle()};m.prototype._onUpdateScreenSize=function(e){var t=this.getHeaderTitle(),i=this._getHeaderContent(),o=e.size.width,n=e.size.height,r=e.oldSize.height,s=n!==r,a,h=i&&i.supportsAlwaysExpanded()&&this.getAlwaysShowContentHeader();if(e.size.height===0||e.size.width===0){b.info("ObjectPageLayout :: not triggering calculations if height or width is 0");return}this._bMobileScenario=f.Utilities.isPhoneScenario(this._getCurrentMediaContainerRange());this._bTabletScenario=f.Utilities.isTabletScenario(this._getCurrentMediaContainerRange());if(!this._bDomReady){b.info("ObjectPageLayout :: cannot _onUpdateScreenSize before dom is ready");return}this._oLazyLoading.setLazyLoadingParameters();setTimeout(function(){if(h&&this._bHeaderInTitleArea!=this._checkAlwaysShowContentHeader()){this.invalidate()}if(this._bHeaderInTitleArea&&this._headerBiggerThanAllowedToBeExpandedInTitleArea()){if(this._isHeaderPinnable()){this._updatePinButtonState()}this._expandHeader(false);this._scrollTo(0,0)}else if(this._isHeaderPinnable()&&!this._headerBiggerThanAllowedToBeExpandedInTitleArea()){this._updatePinButtonState()}if(t&&t.isDynamic()){t._onResize(o);this._updateMedia(o,m.DYNAMIC_HEADERS_MEDIA)}this._updateMedia(o,m.MEDIA);this._adjustHeaderHeights();this._requestAdjustLayout(true);if(this.getFooter()&&this.getShowFooter()){this._shiftFooter()}a=this.getSelectedSection();if(r===0&&s&&!this._isClosestScrolledSection(a)){a!==null?this.scrollToSection(a,0):this._selectFirstVisibleSection()}this._scrollTo(this._$opWrapper.scrollTop(),0);if(r===0&&s&&this.getEnableLazyLoading()&&this._oLazyLoading&&!this._bDelayDOMBasedCalculations){this._oLazyLoading.doLazyLoading()}}.bind(this),this._getDOMCalculationDelay())};m.prototype._onUpdateHeaderTitleSize=function(e){if(e.size.height===0||e.size.width===0){b.info("ObjectPageLayout :: not triggering calculations if height or width is 0");return}if(!this._bDomReady){b.info("ObjectPageLayout :: cannot _onUpdateTitleSize before dom is ready");return}this._adjustHeaderHeights();this._requestAdjustLayout()};m.prototype._applyContextualSettings=function(e){var t=e.contextualWidth;if(this._hasDynamicTitle()){this._updateMedia(t,m.DYNAMIC_HEADERS_MEDIA)}this._updateMedia(t,m.MEDIA);return s.prototype._applyContextualSettings.call(this,e)};m.prototype._shouldSnapHeaderOnScroll=function(e){return e>0&&e>=this._getSnapPosition()&&!this._shouldPreserveHeaderInTitleArea()};m.prototype._getScrollableContentLength=function(){return this._$contentContainer.length?this._getDOMRefHeight(this._$contentContainer[0]):0};m.prototype._isContentScrolledToBottom=function(){return this._oScrollContainerLastState.iScrollableContentLength<=this._oScrollContainerLastState.iScrollTop+this._oScrollContainerLastState.iScrollableViewportHeight};m.prototype._isContentLengthDecreased=function(e){if(e){return e.iScrollableContentLength>this._oScrollContainerLastState.iScrollableContentLength&&e.iSpacerHeight===this._oScrollContainerLastState.iSpacerHeight}};m.prototype._canReachScrollTop=function(e,t){var i;t=t||0;i=this._oScrollContainerLastState.iScrollableContentLength+t+this._$contentContainer.get(0).offsetTop-this._oScrollContainerLastState.iScrollableViewportHeight;return i>=e};m.prototype._deregisterCustomEvents=function(){if(this._$opWrapper.length){this._$opWrapper.off(".OPL")}};m.prototype._deregisterScreenSizeListener=function(){if(this._iResizeId){i.deregister(this._iResizeId);this._iResizeId=null}};m.prototype._deregisterTitleSizeListener=function(){if(this._iTitleResizeId){i.deregister(this._iTitleResizeId);this._iTitleResizeId=null}};m.prototype._onScroll=function(e,t){var i=Math.max(Math.ceil(e.target.scrollTop),0),o=this._$opWrapper.length&&this._$opWrapper[0],n=this._$spacer.length&&this._$spacer[0],r=this._$spacer.height(),s,a=this.getHeaderTitle(),h=this._shouldSnapHeaderOnScroll(i),l=this._shouldPreserveHeaderInTitleArea(),c=false,d=this._oScrollContainerLastState;this._oScrollContainerLastState={iScrollTop:i,iScrollableContentLength:Math.round(this._getScrollableContentLength()),iScrollableViewportHeight:o.offsetHeight,iSpacerHeight:r};if(this._bSupressModifyOnScrollOnce){this._bSupressModifyOnScrollOnce=false;return}if(!o||!n){return}s=this.iScreenHeight;if(s===0){return}if(this._getSectionInfoIsDirty()){return}if(d&&this._isContentScrolledToBottom()&&this._isContentLengthDecreased(d)){var g=d.iScrollableContentLength-this._oScrollContainerLastState.iScrollableContentLength;if(!this._canReachScrollTop(d.iScrollTop)&&this._canReachScrollTop(d.iScrollTop,g)){var u=d.iScrollTop+this._oScrollContainerLastState.iScrollableViewportHeight,_=this._oScrollContainerLastState.iScrollableContentLength,p=u-_,f;if(p>0){f=r+p;this._$spacer.height(f+"px");this._scrollTo(d.iScrollTop);return}}}if(h&&!l){s-=this.iAnchorBarHeight+this.iHeaderTitleHeightStickied}if(this._bHeaderInTitleArea&&!l){this._moveHeaderToContentArea();this._toggleHeaderTitle(false);this._bHeaderExpanded=false;this._updateToggleHeaderVisualIndicators();this._requestAdjustLayout()}if(!l&&(a&&this.getShowHeaderContent()||this.getShowAnchorBar())){this._toggleHeader(h,!!(e&&e.type==="scroll"))}if(!l){this._adjustHeaderTitleBackgroundPosition(i)}b.debug("ObjectPageLayout :: lazy loading : Scrolling at "+i,"----------------------------------------");this._updateSelectionOnScroll(i);if(this.getEnableLazyLoading()){this._oLazyLoading.lazyLoadDuringScroll(t,i,e.timeStamp,s)}if(a&&a.supportsTitleInHeaderContent()&&this.getShowHeaderContent()&&this.getShowTitleInHeaderContent()&&a.getShowTitleSelector()){if(i===0){this.$("scroll").css("z-index","1000");c=false}else if(!c){c=true;this.$("scroll").css("z-index","0")}}};m.prototype._updateSelectionOnScroll=function(e){var t=this.iScreenHeight,i,o,n,r;if(t===0){return}i=this._getClosestScrolledSectionBaseId(e,t);o=l._getClosestSection(i);n=o?o.getId():null;r=this._getClosestScrolledSectionBaseId(e,t,true);if(i){var s=this.getDirectScrollingToSection(),a=this.oCore.byId(s);if(i!==this._sScrolledSectionId){b.debug("ObjectPageLayout :: closest id "+i,"----------------------------------------");var s=this.getDirectScrollingToSection();if(s&&s!==n&&(a&&a.getDomRef()&&!this.isFirstRendering())){return}this.clearDirectScrollingToSection();this._setAsCurrentSection(i)}else if(n===this.getDirectScrollingToSection()){this.clearDirectScrollingToSection()}if(r!==this._sScrolledSubSectionId){var h=l._getClosestSection(i),c=this.oCore.byId(r);this._sScrolledSubSectionId=r;this.fireEvent("_sectionChange",{section:h,subSection:c});this.fireEvent("sectionChange",{section:h,subSection:c})}}};m.prototype._getSnapPosition=function(){var e=this.iHeaderContentHeight,t=this._getTitleHeightDelta();e-=Math.max(t,this._iHeaderContentPaddingBottom);return e};m.prototype._getTitleHeightDelta=function(){var e=this.iHeaderTitleHeightStickied-this.iHeaderTitleHeight;e=Math.max(e,0);e=Math.min(e,m.MAX_SNAP_POSITION_OFFSET);return e};m.prototype._getClosestScrolledSectionBaseId=function(t,i,o){o=!!o;t=Math.ceil(t);var n=t+i,r,s=o||this._bMobileScenario;e.each(this._oSectionInfo,function(e,i){var a,h,c,d,g,u=this.getSelectedSection();a=i.sectionReference;h=a.getParent();c=h instanceof l&&h._getIsHidden();if(this.getUseIconTabBar()&&u){g=this.oCore.byId(u);if(!g){return}if(i.isSection&&i.sectionReference!=g){return true}if(!i.isSection&&g.indexOfSubSection(i.sectionReference)<0){return true}}if(i.isSection||s&&!c){if(!r&&i.sectionReference._getInternalVisible()===true){d=this._getFirstVisibleSubSection(i.sectionReference);if(i.isSection&&o&&d){r=d.getId()}else{r=e}}if(i.isSection&&o){return true}if(i.positionTop<=n&&t<=i.positionBottom){if(i.positionTop<=t+1&&i.positionBottom>t){r=e}}}}.bind(this));return this.oCore.byId(r)?r:null};m.prototype._toggleHeader=function(e,t){var i;if(e===this._bStickyAnchorBar){return}i=this.getHeaderTitle();if(!this._shouldPreserveHeaderInTitleArea()&&!this._bHeaderInTitleArea){this._toggleHeaderTitle(!e,t)}if(!this._bStickyAnchorBar&&e){this._restoreFocusAfter(this._moveAnchorBarToTitleArea);i&&i.snap();this._bHeaderExpanded=false;this._adjustHeaderHeights();this._updateToggleHeaderVisualIndicators()}else if(this._bStickyAnchorBar&&!e){this._restoreFocusAfter(this._moveAnchorBarToContentArea);i&&i.unSnap();this._bHeaderExpanded=true;this._adjustHeaderHeights();this._updateToggleHeaderVisualIndicators();if(this._isHeaderPinnable()){this._getHeaderContent()._getPinButton().setVisible(!this._headerBiggerThanAllowedToBeExpandedInTitleArea())}}};m.prototype._restoreFocusAfter=function(e){var t=this.oCore.byId(this.oCore.getCurrentFocusedControlId());e.call(this);if(r.system.phone!==true){if(!this.oCore.byId(this.oCore.getCurrentFocusedControlId())){t&&t.$().trigger("focus")}}return this};m.prototype._moveAnchorBarToTitleArea=function(){this._$anchorBar.children().appendTo(this._$stickyAnchorBar);this._toggleHeaderStyleRules(true);if(this.iHeaderTitleHeight!=this.iHeaderTitleHeightStickied){this._adjustHeaderBackgroundSize()}return this};m.prototype._moveAnchorBarToContentArea=function(){if(!this._shouldPreserveHeaderInTitleArea()){var e=this._$opWrapper.scrollTop();this._$anchorBar.css("height","auto").append(this._$stickyAnchorBar.children());this._$opWrapper.scrollTop(e);this._toggleHeaderStyleRules(false)}return this};m.prototype._toggleHeaderStyleRules=function(e){e=!!e;var t=e?"hidden":"inherit";this._bStickyAnchorBar=e;this._$headerContent.css("overflow",t);this._$headerContent.toggleClass("sapContrastPlus",!e);this._$headerContent.toggleClass("sapUxAPObjectPageHeaderDetailsHidden",e);this._$anchorBar.css("visibility",t);if(D(this._$stickyAnchorBar)){this._$stickyAnchorBar.attr("aria-hidden",!e)}this.fireToggleAnchorBar({fixed:e});if(!e&&!this.iAnchorBarHeight){this._requestAdjustLayout()}};m.prototype.getScrollDelegate=function(){return this._oScroller};m.prototype.setHeaderTitle=function(e,i){if(e&&typeof e.addEventDelegate==="function"){e.addEventDelegate({onAfterRendering:this._onAfterHeaderTitleRendering.bind(this)})}this.setAggregation("headerTitle",e,i);this._oObserver&&this._oObserver.disconnect();this._oObserver=new t(this._onModifyHeaderTitle.bind(this));this._oObserver.observe(e,{aggregations:["headerTitle"],properties:["backgroundDesign"]});if(e){this._createHeaderContent()}if(this._hasDynamicTitle()){this._iHeaderContentPaddingBottom=m.HEADER_CONTENT_PADDING_BOTTOM}return this};m.prototype._onAfterHeaderTitleRendering=function(){var e=this.getHeaderTitle(),t=e&&e.$(),i;if(!e||!t.length){return}i=t.height();if(i!==this._iCachedHeaderTitleHeight){this._adjustHeaderHeights();this._iCachedHeaderTitleHeight=i}};m.prototype._onModifyHeaderTitle=function(e){var t=this.getAggregation("_headerContent");t&&e.current&&t.setBackgroundDesign(e.current)};m.prototype.invalidate=function(e){this._bInvalidatedAndNotRerendered=true;if(this.getUseIconTabBar()&&e&&e instanceof l&&!e.isActive()&&this._oSectionInfo[e.getId()]){return}if(this._iAfterRenderingDomReadyTimeout){clearTimeout(this._iAfterRenderingDomReadyTimeout);this._iAfterRenderingDomReadyTimeout=null}n.prototype.invalidate.apply(this,arguments)};m.prototype._createHeaderContent=function(){var e=this.getHeaderTitle(),t=e&&e.supportsBackgroundDesign()&&e.getBackgroundDesign(),i=this.getAggregation("_headerContent"),o,n;var r=e?e.getCompatibleHeaderContentClass():d;if(!(i instanceof r)){o=this.getAggregation("_headerContent");if(o){o.destroy()}n=r.createInstance(this.getAggregation("headerContent"),this.getShowHeaderContent(),this._getHeaderDesign(),this.getHeaderContentPinnable(),this.getId()+"-OPHeaderContent");n.getContent().forEach(this._replaceHeaderContentParent,this);t&&n.setBackgroundDesign(t);this.setAggregation("_headerContent",n,true)}};m.prototype._adjustHeaderBackgroundSize=function(){var e=this.getHeaderTitle();if(e&&e.getHeaderDesign()=="Dark"){if(!this._shouldPreserveHeaderInTitleArea()){this.iTotalHeaderSize=this.iHeaderTitleHeight+this.iHeaderContentHeight;this._$headerContent.css("background-size","100% "+this.iTotalHeaderSize+"px")}else{this.iTotalHeaderSize=this.iHeaderTitleHeight-this._$stickyAnchorBar.height();this._$stickyHeaderContent.css("background-size","100% "+this.iTotalHeaderSize+"px")}e.$().css("background-size","100% "+this.iTotalHeaderSize+"px");this._adjustHeaderTitleBackgroundPosition(0)}};m.prototype._adjustHeaderTitleBackgroundPosition=function(e){var t=this.getHeaderTitle();if(t&&t.getHeaderDesign()=="Dark"){if(this._bStickyAnchorBar){t.$().css("background-position","0px "+(this.iTotalHeaderSize-this.iHeaderTitleHeightStickied)*-1+"px")}else{if(this._shouldPreserveHeaderInTitleArea()){t.$().css("background-position","0px 0px")}else{t.$().css("background-position","0px "+(this.iHeaderTitleHeight+this.iHeaderContentHeight-this.iTotalHeaderSize-e)+"px")}}}};m.prototype._adjustHeaderHeights=function(){var e=this.getHeaderTitle(),t=true;if(e&&!e.supportsAdaptLayoutForDomElement()){t=false}if(this._$titleArea.length>0){this.iHeaderContentHeight=this._$headerContent.length?Math.round(this._getDOMRefHeight(this._$headerContent[0])):0;this.iStickyHeaderContentHeight=this._$stickyHeaderContent.height();this.iAnchorBarHeight=this._bStickyAnchorBar?this._$stickyAnchorBar.outerHeight():this._$anchorBar.outerHeight();if(!this._bHeaderExpanded){this.iHeaderTitleHeightStickied=this._$titleArea.height()-this.iAnchorBarHeight;this.iHeaderTitleHeight=this._obtainExpandedTitleHeight(t)}else{this.iHeaderTitleHeight=this._$titleArea.is(":visible")?this._$titleArea.height():0;this.iHeaderTitleHeightStickied=this._obtainSnappedTitleHeight(t)}this._adjustHeaderBackgroundSize();this._adjustTitlePositioning();b.info("ObjectPageLayout :: adjustHeaderHeight","headerTitleHeight: "+this.iHeaderTitleHeight+" - headerTitleStickiedHeight: "+this.iHeaderTitleHeightStickied+" - headerContentHeight: "+this.iHeaderContentHeight)}else{b.debug("ObjectPageLayout :: adjustHeaderHeight","skipped as the objectPageLayout is being rendered")}};m.prototype._appendTitleCloneToDOM=function(e){var t=this.getHeaderTitle().$(),i=t.clone();i.css({left:"-10000px",top:"-10000px",width:t.width()+"px",position:"absolute"});i.toggleClass("sapUxAPObjectPageHeaderStickied",e);i.appendTo(this._$titleArea.parent());if(e){this.getHeaderTitle()&&this.getHeaderTitle()._adaptObjectPageHeaderIndentifierLine(i)}return i};m.prototype._obtainSnappedTitleHeight=function(e){var t=this.getHeaderTitle(),i,o;if(!t){return 0}if(e){i=this._appendTitleCloneToDOM(true);o=i.height();i.remove()}else if(t.snap){o=this._obtainTitleHeightViaStateChange(true)}return o};m.prototype._obtainExpandedTitleHeight=function(e){var t=this.getHeaderTitle(),i,o;if(!t){return 0}if(e){i=this._appendTitleCloneToDOM(false);o=i.is(":visible")?i.height():0;i.remove()}else if(t.unSnap){o=this._obtainTitleHeightViaStateChange(false)}return o};m.prototype._obtainTitleHeightViaStateChange=function(e){var t=this.getHeaderTitle(),i,o=this._$sectionsContainer.height(),n,r=e?t.snap:t.unSnap,s=e?t.unSnap:t.snap;r.call(t,false);i=t.$().outerHeight();s.call(t,false);n=this._$sectionsContainer.height();this._adjustSpacerHeightUponUnsnapping(o,n);return i};m.prototype._adjustSpacerHeightUponUnsnapping=function(e,t){var i;if(e!=t){i=this._$spacer.height()-(t-e);this._$spacer.height(i)}};m.prototype._getHeaderDesign=function(){var e=this.getHeaderTitle(),t=f.ObjectPageHeaderDesign.Light;if(e!=null){t=e.getHeaderDesign()}return t};m.prototype._getVisibleSections=function(){return this.getSections().filter(function(e){return e.getVisible()&&e._getInternalVisible()})};m.prototype._setSectionsFocusValues=function(e){var t=this._getVisibleSections()||[],i,o="0",n="-1",r="tabindex",s,a=t[0];t.forEach(function(t){i=t.$();if(e===t.getId()){i.attr(r,o);s=t;t._setSubSectionsFocusValues()}else{i.attr(r,n);t._disableSubSectionsFocus()}});if(!s&&t.length>0){a.$().attr(r,o);a._setSubSectionsFocusValues();s=a}return s};m.prototype.setShowHeaderContent=function(e){var t=this.getShowHeaderContent(),i;if(t!==e){if(t&&this._bHeaderInTitleArea&&!this._shouldPreserveHeaderInTitleArea()){this._moveHeaderToContentArea();this._toggleHeaderTitle(false)}this.setProperty("showHeaderContent",e,true);this._updateTitleVisualState();i=this._getHeaderContent();this.$().toggleClass("sapUxAPObjectPageLayoutNoHeaderContent",!e||!i);if(i){i.setProperty("visible",e)}}return this};m.prototype._headerTitleChangeHandler=function(e){var t;if(!this.getShowTitleInHeaderContent()){return}if(e){this._getHeaderContent()._destroyObjectImage(true)}t=this.oCore.createRenderManager();this.getRenderer()._rerenderHeaderContentArea(t,this);this._getHeaderContent().invalidate();t.destroy()};m.prototype._replaceHeaderContentParent=function(e){if(e.getParent().isA(["sap.uxap.ObjectPageHeaderContent","sap.uxap.ObjectPageDynamicHeaderContent"])){if(e.isA(["sap.uxap.ObjectPageHeaderContent","sap.uxap.ObjectPageDynamicHeaderContent"])){return}if(e._sOriginalParentAggregationName){return}e._sOriginalParentAggregationName=e.sParentAggregationName;e.sParentAggregationName="headerContent";e.getParent=function(){return this}.bind(this);e.destroy=function(){this._restoreParent(e);e.getMetadata().getClass().prototype.destroy.apply(e,arguments)}.bind(this)}};m.prototype._restoreParent=function(e){if(e&&e._sOriginalParentAggregationName){e.sParentAggregationName=e._sOriginalParentAggregationName;e.getParent=e.getMetadata().getClass().prototype.getParent;e.destroy=e.getMetadata().getClass().prototype.destroy;e._sOriginalParentAggregationName=null}};m.prototype.getHeaderContent=function(){if(!this._getHeaderContent()){return this.getAggregation("headerContent",[])}return this._getHeaderContent().getAggregation("content",[])};m.prototype.insertHeaderContent=function(e,t,i){if(!this._getHeaderContent()){return this.insertAggregation("headerContent",e,t,i)}this._getHeaderContent().insertAggregation("content",e,t,i);this._replaceHeaderContentParent(e);return this};m.prototype.addHeaderContent=function(e,t){if(!this._getHeaderContent()){return this.addAggregation("headerContent",e,t)}this._getHeaderContent().addAggregation("content",e,t);this._replaceHeaderContentParent(e);return this};m.prototype.removeAllHeaderContent=function(e){var t;if(!this._getHeaderContent()){return this.removeAllAggregation("headerContent",e)}t=this._getHeaderContent().removeAllAggregation("content",e);t.forEach(function(e){this._restoreParent(e)},this);return t};m.prototype.removeHeaderContent=function(e,t){if(!this._getHeaderContent()){return this.removeAggregation("headerContent",e,t)}this._getHeaderContent().removeAggregation("content",e,t);this._restoreParent(e);return this};m.prototype.destroyHeaderContent=function(e){if(!this._getHeaderContent()){return this.destroyAggregation("headerContent",e)}return this._getHeaderContent().destroyAggregation("content",e)};m.prototype.indexOfHeaderContent=function(e){if(!this._getHeaderContent()){return this.indexOfAggregation("headerContent",e)}return this._getHeaderContent().indexOfAggregation("content",e)};m.prototype._getHeaderContent=function(){return this.getAggregation("_headerContent")};m.prototype._getHeaderContentDomRef=function(){var e=this._getHeaderContent();if(!e||!this.getShowHeaderContent()){return null}if(this._bStickyAnchorBar&&!this._bHeaderInTitleArea){return this.$().find(".sapUxAPObjectPageHeaderTitle .sapUxAPObjectPageHeaderDetails").get(0)}return e.getDomRef()};m.prototype._connectModelsForSections=function(e){e=e||[];e.forEach(function(e){e.connectToModels()})};m.prototype._getHeightRelatedParameters=function(){return{iHeaderContentHeight:this.iHeaderContentHeight,iScreenHeight:this.iScreenHeight,iAnchorBarHeight:this.iAnchorBarHeight,iHeaderTitleHeightStickied:this.iHeaderTitleHeightStickied,iStickyHeaderContentHeight:this.iStickyHeaderContentHeight,iScrollTop:this._$opWrapper.scrollTop()}};m.prototype._hasVerticalScrollBar=function(){var e=this._$opWrapper.length&&this._$opWrapper.get(0);return e&&e.scrollHeight>e.offsetHeight};m.prototype._shiftHeaderTitle=function(){var e=this._calculateShiftOffset(),t=e.sStyleAttribute,i=e.iMarginalsOffset;this.$().find(".sapUxAPObjectPageHeaderTitle").css(t,i+"px")};m.prototype._isFirstSection=function(e){var t=this._getVisibleSections();if(e===t[0]){return true}return false};m.prototype._isValidStoredSubSectionInfo=function(){var e=this.getSelectedSection(),t=this.oCore.byId(e),i;if(!t||!this._oStoredScrolledSubSectionInfo){return false}i=this.oCore.byId(this._oStoredScrolledSubSectionInfo.sSubSectionId);return i&&this._sectionCanBeRenderedByUXRules(i)&&t.indexOfSubSection(i)>=0};m.prototype._restoreScrollPosition=function(){var e=this._isValidStoredSubSectionInfo(),t;if(e){t=this._computeScrollPosition(this.oCore.byId(this._oStoredScrolledSubSectionInfo.sSubSectionId))+this._oStoredScrolledSubSectionInfo.iOffset;this._scrollTo(t,0)}else{this.scrollToSection(this.getSelectedSection(),0)}};m.prototype._storeScrollLocation=function(){if(!this.getDomRef()||!this._bDomReady||!this._oScroller){return}this.triggerPendingLayoutUpdates();var e=this._$opWrapper.scrollTop(),t=this._getClosestScrolledSectionBaseId(this._oScroller.getScrollTop(),this.iScreenHeight,true),i;if(t){i=e-this._computeScrollPosition(this.oCore.byId(t))}this._iStoredScrollTop=e;this._oStoredScrolledSubSectionInfo={sSubSectionId:t,iOffset:i};this._oCurrentTabSection=null};m.prototype.onkeyup=function(e){var t,i;if(e.which===I.TAB){t=this.oCore.getCurrentFocusedControlId();i=t&&this.oCore.byId(t);if(i&&this._isFirstSection(i)){this._scrollTo(0,0)}}};m.prototype.setShowFooter=function(e){var t=this.setProperty("showFooter",e,true);this._toggleFooter(e);this.$().toggleClass("sapUxAPObjectPageLayoutFooterVisible",e);return t};m.prototype._toggleFooter=function(e){var t,i=this.getFooter(),n=this.oCore.getConfiguration().getAnimationMode();if(!D(i)||!D(this._$footerWrapper)){return}t=n!==o.AnimationMode.none&&n!==o.AnimationMode.minimal;if(t){this._toggleFooterAnimation(e,i)}else{this._$footerWrapper.toggleClass("sapUiHidden",!e)}this._requestAdjustLayout()};m.prototype._toggleFooterAnimation=function(e,t){this._$footerWrapper.on("webkitAnimationEnd animationend",this._onToggleFooterAnimationEnd.bind(this,t));this._bIsFooterAanimationGoing=true;if(e){this._$footerWrapper.removeClass("sapUiHidden")}t.toggleStyleClass(m.SHOW_FOOTER_CLASS_NAME,e);t.toggleStyleClass(m.HIDE_FOOTER_CLASS_NAME,!e)};m.prototype._onToggleFooterAnimationEnd=function(e){this._$footerWrapper.off("webkitAnimationEnd animationend");if(e.hasStyleClass(m.HIDE_FOOTER_CLASS_NAME)){this._$footerWrapper.addClass("sapUiHidden");e.removeStyleClass(m.HIDE_FOOTER_CLASS_NAME)}else{e.removeStyleClass(m.SHOW_FOOTER_CLASS_NAME)}this._bIsFooterAanimationGoing=false};m.prototype.clone=function(){var e,t,i;Object.keys(this.mAggregations).forEach(this._cloneProxiedAggregations,this);e=n.prototype.clone.apply(this,arguments);t=this._getHeaderContent();i=e._getHeaderContent();if(i){i.destroy()}if(t){e.setAggregation("_headerContent",t.clone(),true)}return e};m.prototype._cloneProxiedAggregations=function(e){var t=this.mAggregations[e];if(Array.isArray(t)&&t.length===0){t=this["get"+e.charAt(0).toUpperCase()+e.slice(1)]()}this.mAggregations[e]=t};m.prototype._shouldPreserveHeaderInTitleArea=function(){return this._bPinned||this._preserveHeaderStateOnScroll()||this._checkAlwaysShowContentHeader()};m.prototype._checkAlwaysShowContentHeader=function(){return!this._hasDynamicTitle()&&!this._bMobileScenario&&!this._bTabletScenario&&this.getShowHeaderContent()&&this.getAlwaysShowContentHeader()};m.prototype._headerBiggerThanAllowedToBeFixed=function(){var e=this._getOwnHeight();return this._getEntireHeaderHeight()>m.HEADER_MAX_ALLOWED_NON_SROLLABLE_PERCENTAGE*e};m.prototype._headerBiggerThanAllowedToBeExpandedInTitleArea=function(){return this._getEntireHeaderHeight()>=this._getOwnHeight()};m.prototype._getOwnHeight=function(){return this._getHeight(this)};m.prototype._getHeight=function(e){return!(e instanceof n)?0:e.$().outerHeight()||0};m.prototype._getEntireHeaderHeight=function(){var e=0,t=0,i=this.getHeaderTitle(),o=this._getHeaderContent();if(D(i)){e=i.$().outerHeight()}if(D(o)){t=o.$().outerHeight()}return e+t};m.prototype._onPinUnpinButtonPress=function(){if(this._bPinned){this._unPin(true)}else{this._pin(true);this._restorePinButtonFocus()}};m.prototype._restorePinButtonFocus=function(){var e=this._getHeaderContent();if(D(e)&&e.supportsPinUnpin()){e._focusPinButton()}};m.prototype._pin=function(e){if(this._bPinned){return}this._bPinned=true;if(e){this.setProperty("headerContentPinned",true,true);this.fireEvent("headerContentPinnedStateChange",{pinned:true})}this._toggleHeaderTitle(true);this._moveAnchorBarToTitleArea();this._moveHeaderToTitleArea();this._adjustHeaderHeights();this._requestAdjustLayout();this._updateToggleHeaderVisualIndicators();this.addStyleClass("sapUxAPObjectPageLayoutHeaderPinned")};m.prototype._unPin=function(e){if(!this._bPinned){return}this._bPinned=false;if(e){this.setProperty("headerContentPinned",false,true);this.fireEvent("headerContentPinnedStateChange",{pinned:false})}this._updateToggleHeaderVisualIndicators();this.removeStyleClass("sapUxAPObjectPageLayoutHeaderPinned")};m.prototype._isHeaderPinnable=function(){var e=this._getHeaderContent();return e&&e.supportsPinUnpin()&&e.getPinnable()};m.prototype._shouldPinUnpinHeader=function(){return this._bHeaderExpanded&&!this.getPreserveHeaderStateOnScroll()&&!this._headerBiggerThanAllowedToBeExpandedInTitleArea()};m.prototype._updatePinButtonState=function(){var e=this._isHeaderPinnable(),t=e&&this.getHeaderContentPinned()&&this._shouldPinUnpinHeader(),i=this._getHeaderContent();i._togglePinButton(t);this.$().toggleClass("sapUxAPObjectPageLayoutHeaderPinnable",e);i._getPinButton().setVisible(!this._headerBiggerThanAllowedToBeExpandedInTitleArea());if(t){this._pin()}else{this._unPin()}};m.prototype._preserveHeaderStateOnScroll=function(){return this._hasDynamicTitle()&&this.getPreserveHeaderStateOnScroll()&&!this._bHeaderBiggerThanAllowedHeight};m.prototype._overridePreserveHeaderStateOnScroll=function(){var e=this._bHeaderBiggerThanAllowedHeight,t;this._bHeaderBiggerThanAllowedHeight=this._headerBiggerThanAllowedToBeFixed();t=e!==this._bHeaderBiggerThanAllowedHeight;if(!this._bHeaderBiggerThanAllowedHeight||!t){return}if(this._bHeaderExpanded){this._moveAnchorBarToContentArea();this._moveHeaderToContentArea(true)}else{this._snapHeader(true)}this._adjustHeaderHeights();this._requestAdjustLayout()};m.prototype._hasDynamicTitle=function(){var e=this.getHeaderTitle();return e&&e.isDynamic()};m.prototype._attachVisualIndicatorsPressHandlers=function(e,t){var i=this.getHeaderTitle(),o=this._getHeaderContent();if(D(i)&&!this._bAlreadyAttachedTitleIndicatorPressHandler){i.attachEvent(m.EVENTS.TITLE_VISUAL_INDICATOR_PRESS,function(){e.call(t);if(this._headerBiggerThanAllowedToBeExpandedInTitleArea()){this._scrollBelowCollapseVisualIndicator()}this._focusCollapseVisualIndicator()},this);this._bAlreadyAttachedTitleIndicatorPressHandler=true}if(D(o)&&!this._bAlreadyAttachedHeaderIndicatorPressHandler){o.attachEvent(m.EVENTS.HEADER_VISUAL_INDICATOR_PRESS,function(){e.call(t);this._focusExpandVisualIndicator()},this);this._bAlreadyAttachedHeaderIndicatorPressHandler=true}};m.prototype._hasVisibleDynamicTitleAndHeader=function(){var e=this.getHeaderTitle(),t=this.getHeaderContent();return this._hasVisibleDynamicTitle(e)&&this._hasVisibleHeaderContent(t)};m.prototype._hasVisibleDynamicTitle=function(e){return D(e)&&e.isDynamic()&&e.getVisible()};m.prototype._hasVisibleHeaderContent=function(e){return D(e)&&e.length>0&&this.getShowHeaderContent()};m.prototype._hasDynamicTitleWithSnappedTitleOnMobile=function(){var e=this.getHeaderTitle();return D(e)&&e.isDynamic()&&!!e.getSnappedTitleOnMobile()&&r.system.phone};m.prototype._updateToggleHeaderVisualIndicators=function(){var e,t,i,o=this._hasVisibleDynamicTitleAndHeader();if(!this.getToggleHeaderOnTitleClick()||!o){t=false;i=false}else{e=this._bHeaderExpanded;t=e;i=!e&&!this._hasDynamicTitleWithSnappedTitleOnMobile()}this._toggleCollapseVisualIndicator(t);this._toggleExpandVisualIndicator(i)};m.prototype._updateTitleVisualState=function(){var e=this.getHeaderTitle(),t=this._hasVisibleDynamicTitleAndHeader()&&this.getToggleHeaderOnTitleClick()&&!this._hasDynamicTitleWithSnappedTitleOnMobile();this.$().toggleClass("sapUxAPObjectPageLayoutTitleClickEnabled",t);if(D(e)){e._toggleFocusableState(t)}};m.prototype._focusCollapseVisualIndicator=function(){var e=this._getHeaderContent();if(D(e)){e._focusCollapseButton()}};m.prototype._focusExpandVisualIndicator=function(){var e=this.getHeaderTitle();if(D(e)){e._focusExpandButton()}};m.prototype._toggleExpandVisualIndicator=function(e){var t=this.getHeaderTitle();if(D(t)){t._toggleExpandButton(e)}};m.prototype._toggleCollapseVisualIndicator=function(e){var t=this._getHeaderContent();if(D(t)){t._toggleCollapseButton(e)}};m.prototype._attachVisualIndicatorMouseOverHandlers=function(e,t,i){var o=this._getHeaderContent();if(D(o)&&!this._bAlreadyAttachedVisualIndicatorMouseOverOutHandler){o.attachEvent(m.EVENTS.VISUAL_INDICATOR_MOUSE_OVER,e,i);o.attachEvent(m.EVENTS.VISUAL_INDICATOR_MOUSE_OUT,t,i);this._bAlreadyAttachedVisualIndicatorMouseOverOutHandler=true}};m.prototype._attachTitleMouseOverHandlers=function(e,t,i){var o=this.getHeaderTitle();if(D(o)&&!this._bAlreadyAttachedTitleMouseOverOutHandler){o.attachEvent(m.EVENTS.TITLE_MOUSE_OVER,e,i);o.attachEvent(m.EVENTS.TITLE_MOUSE_OUT,t,i);this._bAlreadyAttachedTitleMouseOverOutHandler=true}};m.prototype._suppressScroll=function(){this._bSuppressScroll=true};m.prototype._resumeScroll=function(){this._bSuppressScroll=false;if(this._iStoredScrollTop){this._scrollTo(this._iStoredScrollTop,0)}else{this._onScroll({target:{scrollTop:this._$opWrapper.scrollTop()}})}};m.prototype._addHoverClass=function(){var e=this.$();if(e){e.addClass("sapUxAPObjectPageLayoutTitleForceHovered")}};m.prototype._removeHoverClass=function(){var e=this.$();if(e){e.removeClass("sapUxAPObjectPageLayoutTitleForceHovered")}};m.prototype._getHeight=function(e){return!(e instanceof n)?0:e.$().outerHeight()||0};m.prototype._getWidth=function(e){var t=e.getDomRef();return!(e instanceof n)?0:t&&t.offsetWidth||0};m.prototype._getSectionInfoIsDirty=function(){return this.bSectionInfoIsDirty};m.prototype._setSectionInfoIsDirty=function(e){this.bSectionInfoIsDirty=e};m.prototype._getAriaLabelText=function(e,t){var i=this.getHeaderTitle(),o=i?i.getTitleText():null,n;if(i&&o&&e!=="ROOT"){n=o;if(t){n+=" "+m._getLibraryResourceBundle().getText(e+"_ARIA_LABEL_WITH_TITLE")}}else{n=m._getLibraryResourceBundle().getText(e+"_ARIA_LABEL_WITHOUT_TITLE")}return n};m.prototype._getFooterHeight=function(){if(this.getFooter()&&this.getShowFooter()){return this._getDOMRefHeight(this.$("footerWrapper").get(0))}return 0};m.prototype._getDOMRefHeight=function(e){return e&&e.parentElement?e.getBoundingClientRect().height:0};m.prototype._updateAriaLabels=function(){var e=this.getLandmarkInfo(),t=this._getAriaLabelText("ROOT",true),i=this._getAriaLabelText("HEADER",true),o=this._getAriaLabelText("NAVIGATION",false),n=this._getAriaLabelText("NAVTOOLBAR",true),r=e&&e.getHeaderLabel(),s=e&&e.getRootLabel(),a=e&&e.getNavigationLabel();if(!s){this.$().attr("aria-label",t)}if(!r){this.$("headerTitle").attr("aria-label",i)}if(!a){this.$("anchorBar").attr("aria-label",o);this.$("stickyAnchorBar").attr("aria-label",o)}this.$("anchBar").attr("aria-label",n)};m.prototype._formatLandmarkInfo=function(e,t){if(e){var i=e["get"+t+"Role"]()||"",o=e["get"+t+"Label"]()||"";if(i===L.None){i=""}return{role:i.toLowerCase(),label:o}}return{}};m.prototype._getHeaderTag=function(e){if(e&&e.getHeaderRole()!==L.None){return m.DIV}return m.HEADER};m.prototype._getFooterTag=function(e){if(e&&e.getFooterRole()!==L.None){return m.DIV}return m.FOOTER};function D(e){if(arguments.length===1){return Array.isArray(e)?e.length>0:!!e}return Array.prototype.slice.call(arguments).every(function(e){return D(e)})}return m});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageLayoutABHelper",["sap/ui/thirdparty/jquery","sap/ui/base/Object","sap/ui/core/Core","sap/ui/core/CustomData","sap/ui/base/ManagedObjectObserver","./AnchorBar","sap/m/Button","sap/m/MenuButton","sap/m/Menu","sap/m/MenuItem","sap/ui/core/IconPool","sap/ui/core/InvisibleText"],function(t,e,n,o,a,r,i,s,u,c,g,h){"use strict";var l=e.extend("sap.uxap._helpers.AB",{constructor:function(t){this._oObjectPageLayout=t;this._oObserver=new a(this._proxyStateChanges.bind(this));this._aMenusWithAttachPressHandler=[]},getInterface:function(){return this}});l._focusSection=function(t,e){var n=t.getDomRef();if(n){n.focus(e)}};l.prototype.getObjectPageLayout=function(){return this._oObjectPageLayout};l.prototype._proxyStateChanges=function(t){var e=t.object,n=this._findExistingClone(e),o=t.name,a=t.current,r="set"+f(o);if(n){n[r].call(n,a)}};l.prototype._findExistingClone=function(t){var e,n=t.getId()+"-__clone",o=this._getAnchorBar(),a=o.getContent();a.some(function(t){if(t.getId().indexOf(n)===0){e=t;return true}});return e};l.prototype._getAnchorBar=function(){var t=this.getObjectPageLayout(),e=t.getAggregation("_anchorBar");if(!e){e=new r({id:t.getId()+"-anchBar",showPopover:t.getShowAnchorBarPopover(),backgroundDesign:t.getBackgroundDesignAnchorBar()});e.attachEvent("_anchorPress",t.onAnchorBarTabPress,t);this.getObjectPageLayout().setAggregation("_anchorBar",e,true)}return e};l.prototype._setCustomData=function(t,e,n,a){n._oSectionInfo[e.getId()].buttonId=t.getId();t.addCustomData(new o({key:"sectionId",value:e.getId()}));t.addCustomData(new o({key:"bTitleVisible",value:e._getInternalTitleVisible()}));if(!a){t.addCustomData(new o({key:"secondLevel",value:true}))}};l.prototype._buildAnchorBar=function(){var e=this.getObjectPageLayout(),n=e.getSections()||[],a=this._getAnchorBar(),r=t.proxy(a.onButtonPress,a),i,g,l,f,d=h.getStaticId("sap.m","SPLIT_BUTTON_DESCRIPTION");if(a&&this.getObjectPageLayout().getShowAnchorBar()){a._resetControl();this._oObserver.disconnect();n.forEach(function(t){if(!t.getVisible()||!t._getInternalVisible()){return}var n,h=t.getSubSections()||[];n=this._buildAnchorBarButton(t,true);if(n){a.addContent(n);if(n instanceof s){var p=new u({});n.enhanceAccessibilityState=function(t,e){var n=a.getContent(),o=n.indexOf(t.getParent());if(o!==-1){e.role="option";e.setsize=n.length;e.posinset=o+1;e.labelledby=e.labelledby.split(" ").filter(function(t){return t!==d}).join(" ")}};p._setCustomEnhanceAccStateFunction(function(t,e){e.controls=t.data("sectionId")});n.setMenu(p)}h.forEach(function(t){if(!t.getVisible()||!t._getInternalVisible()){return}var u=this._buildAnchorBarButton(t,false),h=a.getId()+"-"+t.getId()+"-anchor";if(u){a.addContent(u)}if(n instanceof s){f=t.getCustomAnchorBarButton();if(f){i=f.getText();g=f.getIcon()}else{i=t._getInternalTitle()||t.getTitle();g=""}l=new c(h,{text:i,icon:g});l.addCustomData(new o({key:"sectionId",value:t.getId()}));l.attachPress(r);this._setCustomData(l,t,e,false);n.getMenu().addItem(l)}},this)}},this)}};l.prototype._moveFocusOnSection=function(t){var e=t.data(),n=sap.ui.getCore().byId(e.sectionId),o={preventScroll:true},a;if(n){if(n.isActive()){l._focusSection(n,o)}else{a={onAfterRendering:function(){n.removeEventDelegate(a);l._focusSection(n,o)}};n.addEventDelegate(a)}}};l.prototype._instantiateAnchorBarButton=function(t,e,n){var o,a;if(t){o=s;a={type:"Transparent",buttonMode:"Split",useDefaultActionOnly:true,ariaDescribedBy:e}}else{o=i;a={ariaDescribedBy:e}}if(n){a.id=n}return new o(a)};l.prototype._buildAnchorBarButton=function(e,n){var a=null,r=this.getObjectPageLayout(),i,s=this._getAnchorBar(),u,c,g,h,l=e.getAggregation("subSections"),f=t.proxy(s.onButtonPress,s);if(e.getVisible()&&e._getInternalVisible()){i=e.getCustomAnchorBarButton();if(!i){u=s.getId()+"-"+e.getId()+"-anchor";if(n){if(l&&l.length>1){h=l.filter(function(t){return t.getVisible()&&t._getInternalVisible()}).length}}g=n&&h>1&&s.getShowPopover();if(g){a=this._instantiateAnchorBarButton(true,e,u);a.attachDefaultAction(f);a._getButtonControl().attachPress(function(){this.getParent().focus()});a._getButtonControl().attachArrowPress(function(){var t=a._getButtonControl();if(this._aMenusWithAttachPressHandler[t.getId()]){return}a.getMenu().attachItemSelected(function(t){this._moveFocusOnSection(t.getParameter("item"))},this);this._aMenusWithAttachPressHandler[t.getId()]=true},this);a.addCustomData(new o({key:"bHasSubMenu",value:true}))}else if(n){a=this._instantiateAnchorBarButton(false,e,u);a.attachPress(function(t){this._moveFocusOnSection(t.getSource())},this);a.attachPress(f)}else{c=s.getId()+"-"+e.getId()+"-sub-anchor";a=this._instantiateAnchorBarButton(false,e,c)}var d=e._getInternalTitle()!=""?e._getInternalTitle():e.getTitle();a.setText(d)}else{a=i.clone();a.attachPress(function(t){this._moveFocusOnSection(t.getSource())},this);a.attachPress(f);this._oObserver.observe(i,{properties:true})}this._setCustomData(a,e,r,n)}return a};function f(t){return t.substring(0,1).toUpperCase()+t.substring(1)}return l});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageLayoutRenderer",[],function(){"use strict";var e={apiVersion:2};e.render=function(e,t){var a,r=t.getHeaderTitle(),n=null,o=sap.ui.getCore().getLibraryResourceBundle("sap.uxap"),i=t.getHeaderContent()&&t.getHeaderContent().length>0&&t.getShowHeaderContent(),s=t.getShowTitleInHeaderContent()&&t.getShowHeaderContent(),l=i||s,c=t.getUseIconTabBar(),d=t.getToggleHeaderOnTitleClick()&&t.getHeaderTitle()&&t.getHeaderTitle().supportsToggleHeaderOnTitleClick(),g=t._getAriaLabelText("ROOT",true),p=t._getAriaLabelText("HEADER",true),f=t.getBackgroundDesignAnchorBar(),u=t.getLandmarkInfo(),P=t._getHeaderTag(u),C=t._getFooterTag(u),A=u&&u.getHeaderRole(),b=u&&u.getHeaderLabel(),h=u&&u.getRootRole(),I=u&&u.getRootLabel(),O=u&&u.getNavigationRole(),T=t.getShowFooter();if(t.getShowAnchorBar()&&t._getInternalAnchorBarVisible()){n=t.getAggregation("_anchorBar")}e.openStart("div",t);if(!h){e.attr("role","main")}e.attr("aria-roledescription",o.getText("ROOT_ROLE_DESCRIPTION"));if(!I){e.attr("aria-label",g)}e.class("sapUxAPObjectPageLayout");if(T){e.class("sapUxAPObjectPageLayoutFooterVisible")}if(d){e.class("sapUxAPObjectPageLayoutTitleClickEnabled")}if(!l){e.class("sapUxAPObjectPageLayoutNoHeaderContent")}if(!n||!n.getVisible()){e.class("sapUxAPObjectPageLayoutNoAnchorBar")}e.style("height",t.getHeight());e.accessibilityState(t,t._formatLandmarkInfo(u,"Root"));e.openEnd();e.openStart(P,t.getId()+"-headerTitle");if(!A){e.attr("role","banner")}e.attr("aria-roledescription",o.getText("HEADER_ROLE_DESCRIPTION"));if(!b){e.attr("aria-label",p)}e.attr("data-sap-ui-customfastnavgroup",true).class("sapUxAPObjectPageHeaderTitle").class("sapContrastPlus").accessibilityState(t,t._formatLandmarkInfo(u,"Header")).openEnd();if(r){e.renderControl(r)}this._renderHeaderContentDOM(e,t,t._bHeaderInTitleArea,"-stickyHeaderContent");e.openStart("div",t.getId()+"-stickyAnchorBar");e.attr("data-sap-ui-customfastnavgroup",true);if(!O){e.attr("role","navigation")}e.attr("aria-roledescription",o.getText("NAVIGATION_ROLE_DESCRIPTION"));if(!t._bHeaderInTitleArea){e.attr("aria-hidden","true")}e.class("sapUxAPObjectPageStickyAnchorBar").class("sapUxAPObjectPageNavigation").class("ui-helper-clearfix");if(f){e.class("sapUxAPObjectPageNavigation"+f)}e.accessibilityState(t,t._formatLandmarkInfo(u,"Navigation"));e.openEnd();this._renderAnchorBar(e,t,n,t._bHeaderInTitleArea);e.close("div");e.close(P);e.openStart("div",t.getId()+"-opwrapper").class("sapUxAPObjectPageWrapper");if(r&&(!r.supportsTitleInHeaderContent()||!(t.getShowTitleInHeaderContent()&&r.getShowTitleSelector()))){e.class("sapUxAPObjectPageWrapperTransform")}e.openEnd();e.openStart("div",t.getId()+"-scroll").class("sapUxAPObjectPageScroll").openEnd();this._renderHeaderContentDOM(e,t,!t._bHeaderInTitleArea,"-headerContent",true);e.openStart("section",t.getId()+"-anchorBar");e.attr("data-sap-ui-customfastnavgroup",true);if(!O){e.attr("role","navigation")}e.attr("aria-roledescription",o.getText("NAVIGATION_ROLE_DESCRIPTION"));e.class("sapUxAPObjectPageNavigation").class("ui-helper-clearfix").class("sapContrastPlus");if(f){e.class("sapUxAPObjectPageNavigation"+f)}e.accessibilityState(t,t._formatLandmarkInfo(u,"Navigation"));e.openEnd();this._renderAnchorBar(e,t,n,!t._bHeaderInTitleArea);e.close("section");e.openStart("section",t.getId()+"-sectionsContainer");e.class("sapUxAPObjectPageContainer");e.class("ui-helper-clearfix");if(!n){e.class("sapUxAPObjectPageContainerNoBar")}e.accessibilityState(t,t._formatLandmarkInfo(u,"Content"));e.openEnd();a=t._getSectionsToRender();if(Array.isArray(a)){a.forEach(function(a){e.renderControl(a);if(c){t._oCurrentTabSection=a}})}e.close("section");this.renderFooterContent(e,t);e.openStart("div",t.getId()+"-spacer").openEnd().close("div");e.close("div");e.close("div");this._renderFooterContentInternal(e,t,C,u,o);e.close("div")};e._renderAnchorBar=function(e,t,a,r){var n=t.getAggregation("sections"),o;if(r){o=t._getHeaderContent();if(t.getIsChildPage()&&o&&o.supportsChildPageDesign()){e.openStart("div",t.getId()+"-childPageBar");if(Array.isArray(n)&&n.length>1){e.class("sapUxAPObjectChildPage")}e.openEnd();e.close("div")}if(a){e.renderControl(a)}}};e._renderHeaderContentDOM=function(e,t,a,r,n){e.openStart("header",t.getId()+r).class("ui-helper-clearfix").class("sapUxAPObjectPageHeaderDetails").class("sapUxAPObjectPageHeaderDetailsDesign-"+t._getHeaderDesign());if(n){e.class("sapContrastPlus")}e.attr("data-sap-ui-customfastnavgroup",true).openEnd();if(a){this.renderHeaderContent(e,t)}e.close("header")};e.renderHeaderContent=function(e,t){e.renderControl(t._getHeaderContent())};e.renderFooterContent=function(e,t){};e._renderFooterContentInternal=function(e,t,a,r,n){var o=t.getFooter(),i=r&&r.getFooterRole();if(!o){return}e.openStart(a,t.getId()+"-footerWrapper");e.class("sapUxAPObjectPageFooter").class("sapMFooter-CTX").class("sapContrast").class("sapContrastPlus");if(!t.getShowFooter()){e.class("sapUiHidden")}if(!i){e.attr("role","region")}e.attr("aria-roledescription",n.getText("FOOTER_ROLE_DESCRIPTION"));e.accessibilityState(t,t._formatLandmarkInfo(r,"Footer"));e.openEnd();o.addStyleClass("sapUxAPObjectPageFloatingFooter");e.renderControl(o);e.close(a)};e._rerenderHeaderContentArea=function(e,t){var a=t._bHeaderInTitleArea?"stickyHeaderContent":"headerContent",r;this.renderHeaderContent(e,t);r=t.$(a)[0];if(r){e.flush(r)}};return e},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageLazyLoader",["./library","sap/ui/core/Element","sap/ui/core/StashedControlSupport","sap/base/assert"],function(e,t,a,n){"use strict";var r=t.extend("sap.uxap.ObjectPageLazyLoader",{metadata:{library:"sap.uxap",aggregations:{content:{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},defaultAggregation:"content"}});a.mixInto(r);r.prototype.setParent=function(e){if(!(e===null||e instanceof sap.uxap.ObjectPageSubSection)){n(false,"setParent(): oParent must be an instance of sap.uxap.ObjectPageSubSection or null")}return t.prototype.setParent.apply(this,arguments)};return r});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageSection",["./ObjectPageSectionBase","sap/ui/Device","sap/m/Button","sap/ui/core/ResizeHandler","sap/ui/core/StashedControlSupport","sap/ui/base/ManagedObjectObserver","./ObjectPageSubSection","./library","sap/m/library","./ObjectPageSectionRenderer"],function(t,e,i,o,n,s,r,a,u,l){"use strict";var p=u.ButtonType;var d=t.extend("sap.uxap.ObjectPageSection",{metadata:{library:"sap.uxap",properties:{showTitle:{type:"boolean",group:"Appearance",defaultValue:true},titleUppercase:{type:"boolean",group:"Appearance",defaultValue:true},wrapTitle:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"subSections",aggregations:{subSections:{type:"sap.uxap.ObjectPageSubSection",multiple:true,singularName:"subSection",forwarding:{getter:"_getGrid",aggregation:"content"}},heading:{type:"sap.ui.core.Control",multiple:false},_showHideAllButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"},_showHideButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}},associations:{selectedSubSection:{type:"sap.uxap.ObjectPageSubSection",multiple:false}},designtime:"sap/uxap/designtime/ObjectPageSection.designtime"},renderer:l});d.MEDIA_RANGE=e.media.RANGESETS.SAP_STANDARD;d._getClosestSection=function(t){var e=typeof t==="string"&&sap.ui.getCore().byId(t)||t;return e instanceof r?e.getParent():e};d._getLibraryResourceBundle=function(){return sap.ui.getCore().getLibraryResourceBundle("sap.uxap")};d.prototype.getSectionText=function(t){return d._getLibraryResourceBundle().getText("SECTION_CONTROL_NAME")};d.prototype._expandSection=function(){t.prototype._expandSection.call(this)._updateShowHideAllButton(!this._thereAreHiddenSubSections())};d.prototype.init=function(){t.prototype.init.call(this);this._sContainerSelector=".sapUxAPObjectPageSectionContainer";this._onResizeRef=this._onResize.bind(this);this._oGridContentObserver=new s(this._onGridContentChange.bind(this))};d.prototype.exit=function(){this._detachMediaContainerWidthChange(this._updateImportance,this);if(this._iResizeHandlerId){o.deregister(this._iResizeHandlerId);this._iResizeHandlerId=null}};d.prototype._onResize=function(){this._updateMultilineContent()};d.prototype._getImportanceLevelToHide=function(t){var e=this._getObjectPageLayout(),i=t||this._getCurrentMediaContainerRange(),o=e&&e.getShowOnlyHighImportance();return this._determineTheLowestLevelOfImportanceToShow(i.name,o)};d.prototype._updateImportance=function(t){var e=this._getObjectPageLayout(),i=this._getImportanceLevelToHide(t),o=this.bOutput&&this.getDomRef("header");this.getSubSections().forEach(function(t){t._applyImportanceRules(i)});this._applyImportanceRules(i);this._updateShowHideAllButton(false);o&&o.classList.toggle("sapUxAPObjectPageSectionHeaderHidden",!this._isTitleVisible());o&&o.setAttribute("aria-hidden",!this._isTitleVisible());if(e&&this.getDomRef()){e._requestAdjustLayout()}};d.prototype._updateMultilineContent=function(){var t=this.getSubSections(),e=t.find(function(t){return t.getVisible()});if(e&&e.getDomRef()){var i=e._getTitleDomId(),o,n,s,r,a;if(!i){return}a=document.getElementById(e._getTitleDomId());o=a?a.offsetWidth:0;n=this.$().find(".sapUxAPObjectPageSubSectionHeaderActions").width();s=this.$("header").width();r=o+n>s;e._toggleMultiLineSectionContent(r)}};d.prototype._determineTheLowestLevelOfImportanceToShow=function(t,e){if(e||t==="Phone"){return a.Importance.High}if(t==="Tablet"){return a.Importance.Medium}return a.Importance.Low};d.prototype.connectToModels=function(){this.getSubSections().forEach(function(t){t.connectToModels()})};d.prototype._allowPropagationToLoadedViews=function(t){this.getSubSections().forEach(function(e){e._allowPropagationToLoadedViews(t)})};d.prototype.onBeforeRendering=function(){t.prototype.onBeforeRendering.call(this);this._detachMediaContainerWidthChange(this._updateImportance,this);this._updateImportance();this._applyLayout()};d.prototype.onAfterRendering=function(){this._updateMultilineContent();this._attachMediaContainerWidthChange(this._updateImportance,this);this._iResizeHandlerId=o.register(this,this._onResizeRef)};d.prototype._applyLayout=function(){var t={M:2,L:3,XL:4},e=this.getSubSections();this._resetLayoutData(e);this._assignLayoutData(e,t);return this};d.prototype._getMinRequiredColspanForChild=function(t){return t?t._getMinRequiredColspan():0};d.prototype._allowAutoextendColspanForChild=function(t){return true};d.prototype._onGridContentChange=function(t){var e;if(t.type==="aggregation"&&t.name==="content"){this.invalidate();e=t.mutation;if(e==="add"||e==="insert"){this._oGridContentObserver.observe(t.child,{properties:["visible"]})}else if(t.mutation==="remove"){this._oGridContentObserver.unobserve(t.child)}}if(t.type==="property"&&t.name==="visible"){this.invalidate()}};d.prototype._isTitleVisible=function(){return this.getShowTitle()&&this._getInternalTitleVisible()||this._getShouldDisplayExpandCollapseButton()||this._getShouldDisplayShowHideAllButton()};d.prototype._setSubSectionsFocusValues=function(){var t=this._getVisibleSubSections()||[],e=this.getSelectedSubSection(),i;if(t.length===0){return this}if(t.length===1){t[0]._setToFocusable(false);return this}t.forEach(function(t){if(e===t.getId()){t._setToFocusable(true);i=true}else{t._setToFocusable(false)}});if(!i){t[0]._setToFocusable(true)}return this};d.prototype._disableSubSectionsFocus=function(){var t=this.getSubSections()||[];t.forEach(function(t){t._setToFocusable(false)});return this};d.prototype._thereAreHiddenSubSections=function(){return this.getSubSections().some(function(t){return t._getIsHidden()})};d.prototype._updateShowHideSubSections=function(t){this.getSubSections().forEach(function(e){if(t&&e._shouldBeHidden()){e._updateShowHideState(true)}else if(!t){e._updateShowHideState(false)}})};d.prototype._getShouldDisplayShowHideAllButton=function(){return this.getSubSections().some(function(t){return t._shouldBeHidden()})};d.prototype._getShouldDisplayExpandCollapseButton=function(){return this._getIsHidden()};d.prototype._showHideContentAllContent=function(){var t=this._thereAreHiddenSubSections();if(this._getIsHidden()&&t){this._updateShowHideState(false)}this._updateShowHideSubSections(!t);this._updateShowHideAllButton(t)};d.prototype._updateShowHideState=function(e){if(this._getIsHidden()===e){return this}this._updateShowHideButton(e);this._getShowHideAllButton().setVisible(this._getShouldDisplayShowHideAllButton());return t.prototype._updateShowHideState.call(this,e)};d.prototype._updateShowHideAllButton=function(t){this._getShowHideAllButton().setVisible(this._getShouldDisplayShowHideAllButton()).setText(this._getShowHideAllButtonText(t))};d.prototype._getVisibleSubSections=function(){return this.getSubSections().filter(function(t){return t.getVisible()&&t._getInternalVisible()})};d.prototype._getShowHideAllButton=function(){if(!this.getAggregation("_showHideAllButton")){this.setAggregation("_showHideAllButton",new i({visible:this._getShouldDisplayShowHideAllButton(),text:this._getShowHideAllButtonText(!this._thereAreHiddenSubSections()),press:this._showHideContentAllContent.bind(this),type:p.Transparent}).addStyleClass("sapUxAPSectionShowHideButton"),true)}return this.getAggregation("_showHideAllButton")};d.prototype._getShowHideButtonText=function(t){return d._getLibraryResourceBundle().getText(t?"HIDE":"SHOW")};d.prototype._getShowHideAllButtonText=function(t){return d._getLibraryResourceBundle().getText(t?"HIDE_ALL":"SHOW_ALL")};d.prototype._updateShowHideButton=function(t){this._getShowHideButton().setVisible(this._shouldBeHidden()).setText(this._getShowHideButtonText(!t))};d.prototype._getShowHideButton=function(){if(!this.getAggregation("_showHideButton")){this.setAggregation("_showHideButton",new i({visible:this._shouldBeHidden(),text:this._getShowHideButtonText(!this._getIsHidden()),press:this._showHideContent.bind(this),type:p.Transparent}).addStyleClass("sapUxAPSectionShowHideButton"),true)}return this.getAggregation("_showHideButton")};n.mixInto(d);return d});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageSectionBase",["sap/ui/core/InvisibleText","sap/ui/thirdparty/jquery","sap/ui/core/Control","sap/ui/core/library","./library","sap/base/Log","sap/ui/events/KeyCodes","sap/ui/core/Configuration","sap/ui/layout/Grid","sap/ui/layout/GridData","sap/ui/dom/jquery/Focusable"],function(t,e,i,n,o,a,r,s,l,u){"use strict";var c=n.TitleLevel;var g=i.extend("sap.uxap.ObjectPageSectionBase",{metadata:{abstract:true,library:"sap.uxap",properties:{title:{type:"string",group:"Appearance",defaultValue:null},titleLevel:{type:"sap.ui.core.TitleLevel",group:"Appearance",defaultValue:c.Auto},visible:{type:"boolean",group:"Appearance",defaultValue:true},importance:{type:"sap.uxap.Importance",group:"Behavior",defaultValue:o.Importance.High}},aggregations:{ariaLabelledBy:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"},customAnchorBarButton:{type:"sap.m.Button",multiple:false},_grid:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},renderer:null});g.prototype.init=function(){this._bInternalVisible=true;this._bInternalTitleVisible=true;this._sInternalTitle="";this._sInternalTitleLevel=c.Auto;this._isHidden=false;this._oGridContentObserver=null;this._bRtl=s.getRTL()};g.prototype.onAfterRendering=function(){if(this._getObjectPageLayout()){this._getObjectPageLayout()._requestAdjustLayout().catch(function(){a.debug("ObjectPageSectionBase :: cannot adjustLayout",this)});this._getObjectPageLayout()._setSectionsFocusValues()}};g.prototype.onBeforeRendering=function(){var t="ariaLabelledBy";this.setInvisibleTextLabelValue(this._getTitle());if(!this.getAggregation(t)){this.setAggregation(t,this._getAriaLabelledBy(),true)}};g.prototype._getGrid=function(){if(!this.getAggregation("_grid")&&!this._bIsBeingDestroyed){this.setAggregation("_grid",new l({id:this.getId()+"-innerGrid",defaultSpan:"XL12 L12 M12 S12",hSpacing:1,vSpacing:1,width:"100%",containerQuery:true}),true);if(this._oGridContentObserver){this._oGridContentObserver.observe(this.getAggregation("_grid"),{aggregations:["content"]})}}return this.getAggregation("_grid")};g.prototype._resetLayoutData=function(t){t.forEach(function(t){if(t.getLayoutData()){t.destroyLayoutData()}},this)};g.prototype._assignLayoutData=function(t,e){var i=12,n=[],o=[],a,r,s,l;a={iRemaining:e.M,iColumnConfig:e.M};r={iRemaining:e.L,iColumnConfig:e.L};s={iRemaining:e.XL,iColumnConfig:e.XL};l=[s,r,a];t.forEach(function(t){if(t.getVisible&&t.getVisible()){n.push(t)}else{o.push(t)}});n.forEach(function(t,e){l.forEach(function(i){i.iCalculatedSize=this._getEffectiveColspanForGridItem(t,i.iRemaining,n,e,i.iColumnConfig)},this);t.setLayoutData(new u({spanS:i,spanM:a.iCalculatedSize*(i/a.iColumnConfig),spanL:r.iCalculatedSize*(i/r.iColumnConfig),spanXL:s.iCalculatedSize*(i/s.iColumnConfig),linebreakM:e>0&&a.iRemaining===a.iColumnConfig,linebreakL:e>0&&r.iRemaining===r.iColumnConfig,linebreakXL:e>0&&s.iRemaining===s.iColumnConfig}));if(t.isA("sap.uxap.ObjectPageSubSection")){t._oLayoutConfig={M:a.iCalculatedSize,L:r.iCalculatedSize,XL:s.iCalculatedSize}}l.forEach(function(t){t.iRemaining-=t.iCalculatedSize;if(t.iRemaining<1){t.iRemaining=t.iColumnConfig}})},this);o.forEach(function(t){t.setLayoutData(new u({visibleS:false,visibleM:false,visibleL:false,visibleXL:false}))});return n};g.prototype._getEffectiveColspanForGridItem=function(t,e,i,n,o){var a,r=o,s,l=this._getMinRequiredColspanForChild(t);if(!this._allowAutoextendColspanForChild(t)){return Math.min(o,l)}for(s=1;s<=r;s++){a=this._getMinRequiredColspanForChild(i[n+s]);if(a<=e-l){e-=a}else{break}}return e};g.prototype._getMinRequiredColspanForChild=function(t){};g.prototype._allowAutoextendColspanForChild=function(t){};g.prototype.setCustomAnchorBarButton=function(t){var e=this.setAggregation("customAnchorBarButton",t,true);if(this._getObjectPageLayout()){this._getObjectPageLayout()._updateNavigation()}return e};g.prototype.getSectionText=function(){return""};g.prototype.setInvisibleTextLabelValue=function(t){var e=this.getAggregation("ariaLabelledBy"),i="";i=t||this.getSectionText();if(e){sap.ui.getCore().byId(e.getId()).setText(i)}return this};g.prototype._getAriaLabelledBy=function(){var e="";e=this._getTitle()||this.getSectionText();return new t({text:e}).toStatic()};g.prototype._setInternalVisible=function(t,e){if(t!=this._bInternalVisible){this._bInternalVisible=t;if(e){this.invalidate()}}};g.prototype._getInternalVisible=function(){return this._bInternalVisible};g.prototype._setInternalTitleVisible=function(t,e){if(t!=this._bInternalTitleVisible){this._bInternalTitleVisible=t;if(e){this.invalidate()}}};g.prototype._getInternalTitleVisible=function(){return this._bInternalTitleVisible};g.prototype._setInternalTitle=function(t,e){if(t!=this._sInternalTitle){this._sInternalTitle=t;if(e){this.invalidate()}}};g.prototype._getTitle=function(){return this._getInternalTitle()||this.getTitle()};g.prototype._getInternalTitle=function(){return this._sInternalTitle};g.prototype._getARIALevel=function(){var t=this._getTitleLevel();if(t===c.Auto){t=c.H2}return t.slice(-1)};g.prototype._getTitleLevel=function(){var t=this.getTitleLevel();return t===c.Auto?this._getInternalTitleLevel():t};g.prototype._setInternalTitleLevel=function(t,e){if(t!==this._sInternalTitleLevel){this._sInternalTitleLevel=t;if(e){this.invalidate()}}};g.prototype._getInternalTitleLevel=function(){return this._sInternalTitleLevel};g.prototype._getObjectPageLayout=function(){return o.Utilities.getClosestOPL(this)};g.prototype._notifyObjectPageLayout=function(){if(this._getObjectPageLayout()&&this._getObjectPageLayout().$().length){this._getObjectPageLayout()._requestAdjustLayoutAndUxRules()}};["addAggregation","insertAggregation","removeAllAggregation","removeAggregation","destroyAggregation"].forEach(function(t){g.prototype[t]=function(e,n,o,a){if(["addAggregation","removeAggregation"].indexOf(t)>-1){a=o}if(["removeAllAggregation","destroyAggregation"].indexOf(t)>-1){a=n}var r=i.prototype[t].apply(this,arguments);if(a!==true){this._notifyObjectPageLayout()}return r}});g.prototype.setVisible=function(t,e){if(this.getVisible()===t){return this}if(!this._getObjectPageLayout()){return this.setProperty("visible",t,e)}this.setProperty("visible",t,true);this._notifyObjectPageLayout();this.invalidate();return this};g.prototype.setTitle=function(t,e){this.setProperty("title",t,e);this._notifyObjectPageLayout();this.setInvisibleTextLabelValue(t);return this};g.prototype._shouldBeHidden=function(){return g._importanceMap[this.getImportance()]>g._importanceMap[this._sCurrentLowestImportanceLevelToShow]};g._importanceMap={Low:3,Medium:2,High:1};g.prototype._updateShowHideState=function(t){var e=this._getObjectPageLayout();this._isHidden=t;this.$().children(this._sContainerSelector).toggle(!t);if(e){e._requestAdjustLayout()}return this};g.prototype._getIsHidden=function(){return this._isHidden};g.prototype._expandSection=function(){return this._updateShowHideState(false)};g.prototype._showHideContent=function(){return this._updateShowHideState(!this._getIsHidden())};g.prototype._applyImportanceRules=function(t){this._sCurrentLowestImportanceLevelToShow=t;if(this.getDomRef()){this._updateShowHideState(this._shouldBeHidden())}else{this._isHidden=this._shouldBeHidden()}};g.PAGEUP_AND_PAGEDOWN_JUMP_SIZE=5;g.prototype.onkeydown=function(t){if(t.keyCode===r.SPACE&&t.srcControl.isA("sap.uxap.ObjectPageSection")){t.preventDefault()}if(t.keyCode===r.F7){var e=this.getSubSections(),i=e[0],n;if(e.length===1){n=i._oLastFocusedControlF7;if(n){n.$().trigger("focus")}else{i.$().firstFocusableDomRef().focus()}}else{if(i.getActions().length){i.getActions()[0].$().trigger("focus")}}}};g.prototype.onsapdown=function(t){var e=t.currentTarget,i=e.nextSibling;if(e.classList.contains("sapUxAPObjectPageSubSection")){i=e.parentElement.nextElementSibling.querySelector(".sapUxAPObjectPageSubSection")}this._handleFocusing(t,i)};g.prototype._handleFocusing=function(t,i){var n;if(this._targetIsCorrect(t)&&i){n=e(t.currentTarget).parent().children();t.preventDefault();i.focus();if(n.length>1){this._scrollParent(e(i).attr("id"))}}};g.prototype._targetIsCorrect=function(t){return t.srcControl===this};g.prototype.onsapright=function(t){var e=this._bRtl?"onsapup":"onsapdown";this[e](t)};g.prototype.onsapup=function(t){var e=t.currentTarget,i=e.previousSibling;if(e.classList.contains("sapUxAPObjectPageSubSection")){i=e.parentElement.previousElementSibling.querySelector(".sapUxAPObjectPageSubSection")}this._handleFocusing(t,i)};g.prototype.onsapleft=function(t){var e=this._bRtl?"onsapdown":"onsapup";this[e](t)};g.prototype.onsaphome=function(t){var e=t.currentTarget,i=e.parentElement.firstChild;if(e.classList.contains("sapUxAPObjectPageSubSection")){i=e.closest(".sapUxAPObjectPageSection").querySelector(".sapUxAPObjectPageSubSection")}this._handleFocusing(t,i)};g.prototype.onsapend=function(t){var e=t.currentTarget,i=e.parentElement.lastChild,n;if(e.classList.contains("sapUxAPObjectPageSubSection")){n=e.closest(".sapUxAPObjectPageSection").querySelectorAll(".sapUxAPObjectPageSubSection");i=n[n.length-1]}this._handleFocusing(t,i)};g.prototype.onsappageup=function(t){if(!this._targetIsCorrect(t)){return}t.preventDefault();var i,n=t.currentTarget;var o=e(n).parent().children();var a;if(n.classList.contains("sapUxAPObjectPageSubSection")){o=e(n.closest(".sapUxAPObjectPageSection")).find(".sapUxAPObjectPageSubSection")}o.each(function(n,o){if(e(o).attr("id")===t.currentTarget.id){i=n-(g.PAGEUP_AND_PAGEDOWN_JUMP_SIZE+1);return}});if(i&&o[i]){o[i].focus();a=e(o[i]).attr("id")}else if(o[0]){o[0].focus();a=e(o[0]).attr("id")}if(o.length>1){this._scrollParent(a)}};g.prototype.onsappagedown=function(t){if(!this._targetIsCorrect(t)){return}t.preventDefault();var i,n=t.currentTarget;var o=e(n).parent().children();var a;if(n.classList.contains("sapUxAPObjectPageSubSection")){o=e(n.closest(".sapUxAPObjectPageSection")).find(".sapUxAPObjectPageSubSection")}o.each(function(n,o){if(e(o).attr("id")===t.currentTarget.id){i=n+g.PAGEUP_AND_PAGEDOWN_JUMP_SIZE+1;return}});if(i&&o[i]){o[i].focus();a=e(o[i]).attr("id")}else if(o[o.length-1]){o[o.length-1].focus();a=e(o[o.length-1]).attr("id")}if(o.length>1){this._scrollParent(a)}};g.prototype._scrollParent=function(t){if(this._getObjectPageLayout()){this._getObjectPageLayout().scrollToSection(t,0,10)}};return g});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageSectionRenderer",["sap/ui/core/Configuration"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,a){var i,n,r=e.getAccessibility(),o=a.getAggregation("ariaLabelledBy"),s=a.getHeading(),l=a.getWrapTitle();if(!a.getVisible()||!a._getInternalVisible()){return}i=a._getTitle();n=a._isTitleVisible();t.openStart("section",a).class("sapUxAPObjectPageSection");if(!n){t.class("sapUxAPObjectPageSectionNoTitle")}if(l){t.class("sapUxAPObjectPageSectionWrapTitle")}t.attr("role","region");if(r&&o){t.attr("aria-labelledby",o.getId())}t.attr("data-sap-ui-customfastnavgroup",true);t.openEnd();if(s){t.openStart("div").class("sapUxAPObjectPageSectionHeading").openEnd();t.renderControl(s);t.close("div")}t.openStart("div",a.getId()+"-header").attr("role","heading").attr("aria-level",a._getARIALevel()).attr("aria-hidden",!n).class("sapUxAPObjectPageSectionHeader").class(n?"":"sapUxAPObjectPageSectionHeaderHidden").openEnd();t.openStart("div",a.getId()+"-title").class("sapUxAPObjectPageSectionTitle");if(a.getTitleUppercase()){t.class("sapUxAPObjectPageSectionTitleUppercase")}t.openEnd();t.text(i);t.close("div");if(n){t.renderControl(a._getShowHideAllButton());t.renderControl(a._getShowHideButton())}t.close("div");t.openStart("div").class("sapUxAPObjectPageSectionContainer");if(a._isHidden){t.style("display","none")}t.openEnd();t.renderControl(a._getGrid());t.close("div");t.close("section")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageSubSection",["sap/ui/thirdparty/jquery","sap/ui/core/Core","./ObjectPageSectionBase","./ObjectPageLazyLoader","./BlockBase","sap/m/Button","sap/ui/core/StashedControlSupport","sap/ui/base/ManagedObjectObserver","sap/m/TitlePropagationSupport","./library","sap/m/library","./ObjectPageSubSectionRenderer","sap/base/Log","sap/ui/base/DataType","sap/ui/events/KeyCodes","sap/ui/dom/jquery/Focusable"],function(t,e,o,i,r,s,n,a,u,g,l,c,p,h,f){"use strict";var d=l.ButtonType;var y=g.ObjectPageSubSectionMode;var _=g.ObjectPageSubSectionLayout;var b=o.extend("sap.uxap.ObjectPageSubSection",{metadata:{library:"sap.uxap",properties:{showTitle:{type:"boolean",group:"Appearance",defaultValue:true},_columnSpan:{type:"string",group:"Appearance",defaultValue:"all",visibility:"hidden"},mode:{type:"sap.uxap.ObjectPageSubSectionMode",group:"Appearance",defaultValue:y.Collapsed},titleUppercase:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"blocks",aggregations:{blocks:{type:"sap.ui.core.Control",multiple:true,singularName:"block"},moreBlocks:{type:"sap.ui.core.Control",multiple:true,singularName:"moreBlock"},actions:{type:"sap.ui.core.Control",multiple:true,singularName:"action"}},designtime:"sap/uxap/designtime/ObjectPageSubSection.designtime"},renderer:c});u.call(b.prototype,"blocks",function(){return this._getTitleDomId()});b.FIT_CONTAINER_CLASS="sapUxAPObjectPageSubSectionFitContainer";b.COLUMN_SPAN={all:"all",auto:"auto"};b._getLibraryResourceBundle=function(){return e.getLibraryResourceBundle("sap.uxap")};b.prototype.init=function(){o.prototype.init.call(this);this._aStashedControls=[];this._bRenderedFirstTime=false;this._aAggregationProxy={blocks:[],moreBlocks:[]};this._$spacer=[];this._sContainerSelector=".sapUxAPBlockContainer";this._sMoreContainerSelector=".sapUxAPSubSectionSeeMoreContainer";this._oObserver=new a(b.prototype._observeChanges.bind(this));this._oObserver.observe(this,{aggregations:["actions"]});this._oBlocksObserver=new a(this._onBlocksChange.bind(this));this._switchSubSectionMode(this.getMode());this._initTitlePropagationSupport();this._sBorrowedTitleDomId=false;this._height=""};b.prototype.getParent=function(){var t=o.prototype.getParent.apply(this,arguments);if(t&&t.isA("sap.ui.layout.Grid")){t=t.getParent()}return t};b.prototype._getColumnSpan=function(){return this.getProperty("_columnSpan")};b.prototype._setColumnSpan=function(t){var e=this.getProperty("_columnSpan"),o;if(e===t){return}this.setProperty("_columnSpan",t);o=this.getParent();o&&o.invalidate();return this};b.prototype._getHeight=function(){return this._height};b.prototype._setHeight=function(t){var e,o;if(this._height===t){return}e=h.getType("sap.ui.core.CSSSize");if(!e.isValid(t)){throw new Error('"'+t+'" is of type '+typeof t+", expected "+e.getName()+' for property "_height" of '+this)}this._height=t;o=this.getDomRef();if(o){o.style.height=t}};b.prototype.getSectionText=function(t){return b._getLibraryResourceBundle().getText("SUBSECTION_CONTROL_NAME")};b.prototype._getTitleDomId=function(){if(this._sBorrowedTitleDomId){return this._sBorrowedTitleDomId}if(!this.getTitle().trim()){return false}if(this._getInternalTitleVisible()){return this.getId()+"-headerTitle"}return false};b.prototype._setBorrowedTitleDomId=function(t){this._sBorrowedTitleDomId=t};b.prototype._toggleMultiLineSectionContent=function(t){this.toggleStyleClass("sapUxAPObjectPageSectionMultilineContent",t);this._bMultiLine=t};b.prototype._expandSection=function(){o.prototype._expandSection.call(this);var t=this.getParent();t&&typeof t._expandSection==="function"&&t._expandSection();return this};b.prototype._hasVisibleActions=function(){var t=this.getActions()||[];if(t.length===0){return false}return t.filter(function(t){return t.getVisible()}).length>0};b.prototype._observeChanges=function(t){var e=t.object,o=t.name,i=t.mutation,r=t.child,s;if(e===this){if(o==="actions"){if(i==="insert"){this._observeAction(r)}else if(i==="remove"){this._unobserveAction(r)}}}else if(o==="visible"){s=this._getInternalTitleVisible()&&this.getTitle().trim()!=="";if(!s){this.$("header").toggleClass("sapUiHidden",!this._hasVisibleActions())}}};b.prototype._onBlocksChange=function(){var t=this._getObjectPageLayout();if(!this._bRenderedFirstTime){return}this._applyLayout(t)};b.prototype._observeAction=function(t){this._oObserver.observe(t,{properties:["visible"]})};b.prototype._unobserveAction=function(t){this._oObserver.unobserve(t,{properties:["visible"]})};["addStyleClass","toggleStyleClass","removeStyleClass"].forEach(function(t){b.prototype[t]=function(e,i){if(e===b.FIT_CONTAINER_CLASS){this._notifyObjectPageLayout()}return o.prototype[t].apply(this,arguments)}});b.prototype._unStashControls=function(){var t;this._aStashedControls.forEach(function(o){o.control.unstash();t=e.byId(o.control.getId());this.addAggregation(o.aggregationName,t,true)}.bind(this));this._aStashedControls=[]};b.prototype.connectToModels=function(){var t=this.getBlocks()||[],e=this.getMoreBlocks()||[],o=this.getMode();this._unStashControls();t.forEach(function(t){if(t instanceof r){if(!t.getMode()){t.setMode(o)}t.connectToModels()}});if(e.length>0&&o===y.Expanded){e.forEach(function(t){if(t instanceof r){if(!t.getMode()){t.setMode(o)}t.connectToModels()}})}};b.prototype._allowPropagationToLoadedViews=function(t){var e=this.getBlocks()||[],o=this.getMoreBlocks()||[];e.forEach(function(e){if(e instanceof r){e._allowPropagationToLoadedViews(t)}});o.forEach(function(e){if(e instanceof r){e._allowPropagationToLoadedViews(t)}})};b.prototype.clone=function(){Object.keys(this._aAggregationProxy).forEach(function(t){var e=this.mAggregations[t];if(!e||e.length===0){this.mAggregations[t]=this._aAggregationProxy[t]}},this);return o.prototype.clone.apply(this,arguments)};b.prototype._cleanProxiedAggregations=function(){var t=this._aAggregationProxy;Object.keys(t).forEach(function(e){t[e].forEach(function(t){t.destroy()})})};b.prototype._unobserveBlocks=function(){var t=this.getBlocks().concat(this.getMoreBlocks());t.forEach(function(t){t&&this._oBlocksObserver.unobserve(t,{properties:["visible"]})},this)};b.prototype.exit=function(){if(this._oSeeMoreButton){this._oSeeMoreButton.destroy();this._oSeeMoreButton=null}if(this._oSeeLessButton){this._oSeeLessButton.destroy();this._oSeeLessButton=null}this._unobserveBlocks();this._oCurrentlyVisibleSeeMoreLessButton=null;this._cleanProxiedAggregations();if(o.prototype.exit){o.prototype.exit.call(this)}};b.prototype.onAfterRendering=function(){var t=this._getObjectPageLayout();if(o.prototype.onAfterRendering){o.prototype.onAfterRendering.call(this)}if(!t){return}this._$spacer=t.$("spacer");if(this._bShouldFocusSeeMoreLessButton&&document.activeElement===document.body){this._oCurrentlyVisibleSeeMoreLessButton.focus()}this._bShouldFocusSeeMoreLessButton=false};b.prototype.onBeforeRendering=function(){var t=this._getObjectPageLayout();if(!t){return}if(o.prototype.onBeforeRendering){o.prototype.onBeforeRendering.call(this)}this._setAggregationProxy();this._getGrid().removeAllContent();this._applyLayout(t);this.refreshSeeMoreVisibility()};b.prototype._applyLayout=function(t){var e,o=this._getGrid(),i=o.getAggregation("content"),r=this.getMode(),s=t.getSubSectionLayout(),n=this._calculateLayoutConfiguration(s,t),a=this.getBlocks(),u=a.concat(this.getMoreBlocks());this._oLayoutConfig=n;this._resetLayoutData(u);if(r===y.Expanded){e=u}else{e=a}this._assignLayoutData(e,n);try{e.forEach(function(t){this._setBlockMode(t,r);if(!i||i&&i.indexOf(t)<0){o.addAggregation("content",t,true)}},this)}catch(t){p.error("ObjectPageSubSection :: error while building layout "+s+": "+t)}return this};b.prototype._calculateLayoutConfiguration=function(t,e){var o={M:2,L:3,XL:4},i=o.L,r=o.XL,s=t===_.TitleOnLeft,n=e.getUseTwoColumnsForLargeScreen();if(s){i-=1;r-=1}if(n){i-=1}o.L=i;o.XL=r;return o};b.prototype.refreshSeeMoreVisibility=function(){var t=this._getSeeMoreButton(),e=this._getSeeLessButton();this._bBlockHasMore=!!this.getMoreBlocks().length;if(!this._bBlockHasMore){this._bBlockHasMore=this.getBlocks().some(function(t){if(t instanceof r&&t.getVisible()&&t.getShowSubSectionMore()){return true}})}this.toggleStyleClass("sapUxAPObjectPageSubSectionWithSeeMore",this._bBlockHasMore);t.toggleStyleClass("sapUxAPSubSectionSeeMoreButtonVisible",this._bBlockHasMore);e.toggleStyleClass("sapUxAPSubSectionSeeMoreButtonVisible",this._bBlockHasMore);return this._bBlockHasMore};b.prototype.setMode=function(t){if(this.getMode()!==t){this._switchSubSectionMode(t);if(this._bRenderedFirstTime){this.rerender()}}return this};b.prototype.onkeydown=function(t){if(t.keyCode===f.SPACE&&t.srcControl.isA("sap.uxap.ObjectPageSubSection")){t.preventDefault()}if(t.keyCode===f.F7){t.stopPropagation();var o=e.byId(t.target.id);if(o instanceof b){this._handleSubSectionF7()}else{this._handleInteractiveElF7();this._oLastFocusedControlF7=o}}};b.prototype._handleInteractiveElF7=function(){if(this.getParent().getSubSections().length>1){this.$().trigger("focus")}else{this.getParent().$().trigger("focus")}};b.prototype._handleSubSectionF7=function(t){if(this._oLastFocusedControlF7){this._oLastFocusedControlF7.$().trigger("focus")}else{this.$().firstFocusableDomRef().focus()}};b.prototype._getMinRequiredColspan=function(){var t=this._getColumnSpan(),e,o,i;if(t===b.COLUMN_SPAN.auto){e=this.getBlocks().concat(this.getMoreBlocks());o=e.filter(function(t){return t.getVisible&&t.getVisible()});return o.reduce(function(t,e){return t+this._getMinRequiredColspanForChild(e)}.bind(this),0)}i=parseInt(t);if(i>0&&i<=4){return i}return 4};b.prototype._getMinRequiredColspanForChild=function(t){var e=1;if(!t){e=0}else if(t instanceof r&&t.getColumnLayout()!="auto"){e=parseInt(t.getColumnLayout())}return e};b.prototype._allowAutoextendColspanForChild=function(t){return this._hasAutoLayout(t)};b.prototype._hasAutoLayout=function(t){return!(t instanceof r)||t.getColumnLayout()=="auto"};b.prototype._setAggregationProxy=function(){var e;if(this._bRenderedFirstTime){return}t.each(this._aAggregationProxy,t.proxy(function(t,o){e=this.removeAllAggregation(t,true);e.forEach(this._onAddBlock,this);this._setAggregation(t,e,true)},this));this._bRenderedFirstTime=true};b.prototype.hasProxy=function(t){return this._bRenderedFirstTime&&this._aAggregationProxy.hasOwnProperty(t)};b.prototype._getAggregation=function(t){return this._aAggregationProxy[t]};b.prototype._setAggregation=function(t,e,o){this._aAggregationProxy[t]=e;if(o!==true){this._notifyObjectPageLayout();this.invalidate()}return this._aAggregationProxy[t]};b.prototype.addAggregation=function(t,e,s){var n;if(e instanceof i){if(e.isStashed()){this._aStashedControls.push({aggregationName:t,control:e})}else{e.getContent().forEach(function(e){this.addAggregation(t,e)},this);e.removeAllContent();e.destroy();this.invalidate()}}else if(this.hasProxy(t)){n=this._getAggregation(t);n.push(e);this._onAddBlock(e);this._setAggregation(t,n,s);if(e instanceof r||e instanceof i){e.setParent(this)}}else{o.prototype.addAggregation.apply(this,arguments)}return this};b.prototype.insertBlock=function(t,e){p.warning("ObjectPageSubSection :: usage of insertBlock is not supported - addBlock is performed instead.");return this.addAggregation("blocks",t)};b.prototype._onAddBlock=function(t){t&&this._oBlocksObserver.observe(t,{properties:["visible"]})};b.prototype._onRemoveBlock=function(t){t&&this._oBlocksObserver.unobserve(t,{properties:["visible"]})};b.prototype.insertMoreBlock=function(t,e){p.warning("ObjectPageSubSection :: usage of insertMoreBlock is not supported - addMoreBlock is performed instead.");return this.addAggregation("moreBlocks",t)};b.prototype.removeAllAggregation=function(t,e){var i;if(this.hasProxy(t)){i=this._getAggregation(t);this._unobserveBlocks();this._setAggregation(t,[],e);return i.slice()}return o.prototype.removeAllAggregation.apply(this,arguments)};b.prototype.removeAggregation=function(t,e){var i=false,r;if(this.hasProxy(t)){r=this._getAggregation(t);r.forEach(function(o,s){if(o.getId()===e.getId()){r.splice(s,1);this._onRemoveBlock(e);this._setAggregation(t,r);i=true}return!i},this);return i?e:null}return o.prototype.removeAggregation.apply(this,arguments)};b.prototype.indexOfAggregation=function(t,e){var i=-1;if(this.hasProxy(t)){this._getAggregation(t).some(function(t,o){if(t.getId()===e.getId()){i=o;return true}},this);return i}return o.prototype.indexOfAggregation.apply(this,arguments)};b.prototype.getAggregation=function(t){if(this.hasProxy(t)){return this._getAggregation(t)}return o.prototype.getAggregation.apply(this,arguments)};b.prototype.destroyAggregation=function(t){if(this.hasProxy(t)){this._getAggregation(t).forEach(function(t){t.destroy()});this._setAggregation(t,[]);return this}return o.prototype.destroyAggregation.apply(this,arguments)};b.prototype.destroy=function(){this._aStashedControls.forEach(function(t){t.control.destroy()});o.prototype.destroy.apply(this,arguments)};b.prototype._getSeeMoreButton=function(){if(!this._oSeeMoreButton){this._oSeeMoreButton=new s(this.getId()+"--seeMore",{type:d.Transparent,iconFirst:false,text:b._getLibraryResourceBundle().getText("SHOW_MORE")}).addStyleClass("sapUxAPSubSectionSeeMoreButton").attachPress(this._seeMoreLessControlPressHandler,this)}return this._oSeeMoreButton};b.prototype._getSeeLessButton=function(){if(!this._oSeeLessButton){this._oSeeLessButton=new s(this.getId()+"--seeLess",{type:d.Transparent,iconFirst:false,text:b._getLibraryResourceBundle().getText("SHOW_LESS")}).addStyleClass("sapUxAPSubSectionSeeMoreButton").attachPress(this._seeMoreLessControlPressHandler,this)}return this._oSeeLessButton};b.prototype._seeMoreLessControlPressHandler=function(t){var e=this.getMode(),o,i=this.getMoreBlocks()||[];if(e===y.Expanded){o=y.Collapsed}else{o=y.Expanded;i.forEach(function(t){if(t instanceof r){t.setMode(e);t.connectToModels()}},this)}this._switchSubSectionMode(o);this._bShouldFocusSeeMoreLessButton=true};b.prototype._switchSubSectionMode=function(t){t=this.validateProperty("mode",t);if(t===y.Collapsed){this.setProperty("mode",y.Collapsed);this._oCurrentlyVisibleSeeMoreLessButton=this._getSeeMoreButton().setVisible(true);this._getSeeLessButton().setVisible(false)}else{this.setProperty("mode",y.Expanded);this._getSeeMoreButton().setVisible(false);this._oCurrentlyVisibleSeeMoreLessButton=this._getSeeLessButton().setVisible(true)}};b.prototype._setBlockMode=function(t,e){if(t instanceof r){t.setMode(e)}else{p.debug("ObjectPageSubSection :: cannot propagate mode "+e+" to "+t.getMetadata().getName())}};b.prototype._setToFocusable=function(t){var e="0",o="-1",i="tabindex";if(t){this.$().attr(i,e)}else{this.$().attr(i,o)}return this};b.prototype._getUseTitleOnTheLeft=function(){var t=this._getObjectPageLayout();return t&&t.getSubSectionLayout()===_.TitleOnLeft};b.prototype._updateShowHideState=function(t){if(this._getIsHidden()===t){return this}this.$().children(this._sMoreContainerSelector).toggle(!t);return o.prototype._updateShowHideState.call(this,t)};b.prototype.getVisibleBlocksCount=function(){var t=this._aStashedControls.length;(this.getBlocks()||[]).forEach(function(e){if(e.getVisible&&!e.getVisible()){return true}t++});(this.getMoreBlocks()||[]).forEach(function(e){if(e.getVisible&&!e.getVisible()){return true}t++});return t};return b});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ObjectPageSubSectionRenderer",["sap/ui/core/Configuration"],function(e){"use strict";var t={apiVersion:2};t.render=function(t,i){var a,n,s,r,o,l,c,d=e.getAccessibility(),p=i.getAggregation("ariaLabelledBy");if(!i.getVisible()||!i._getInternalVisible()){return}a=i.getActions()||[];o=a.length>0;s=i.getShowTitle();n=i._getInternalTitleVisible()&&i.getTitle().trim()!==""&&s;r=n||o;c=i._hasVisibleActions();t.openStart("div",i).attr("role","region").style("height",i._getHeight());if(i._bBlockHasMore){t.class("sapUxAPObjectPageSubSectionWithSeeMore")}if(i._bMultiLine){t.class("sapUxAPObjectPageSectionMultilineContent")}t.class("sapUxAPObjectPageSubSection").class("ui-helper-clearfix");if(d&&p){t.attr("aria-labelledby",p.getId())}t.openEnd();if(r){t.openStart("div",i.getId()+"-header").class("sapUxAPObjectPageSubSectionHeader");if(!n&&!c){t.class("sapUiHidden")}l=i._getUseTitleOnTheLeft();if(l){t.class("titleOnLeftLayout")}t.openEnd();t.openStart("div",i.getId()+"-headerTitle");if(n){t.attr("role","heading").attr("aria-level",i._getARIALevel())}t.class("sapUxAPObjectPageSubSectionHeaderTitle");if(i.getTitleUppercase()){t.class("sapUxAPObjectPageSubSectionHeaderTitleUppercase")}t.attr("data-sap-ui-customfastnavgroup",true).openEnd();if(n){t.text(i.getTitle())}t.close("div");if(o){t.openStart("div").class("sapUxAPObjectPageSubSectionHeaderActions").attr("data-sap-ui-customfastnavgroup",true).openEnd();a.forEach(t.renderControl,t);t.close("div")}t.close("div")}t.openStart("div").class("ui-helper-clearfix").class("sapUxAPBlockContainer");if(i._isHidden){t.style("display","none")}t.openEnd();t.renderControl(i._getGrid());t.close("div");t.openStart("div").class("sapUxAPSubSectionSeeMoreContainer");if(i._isHidden){t.style("display","none")}t.openEnd();t.renderControl(i._getSeeMoreButton());t.renderControl(i._getSeeLessButton());t.close("div");t.close("div")};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/ThrottledTaskHelper",["sap/ui/thirdparty/jquery","sap/ui/base/Object"],function(i,t){"use strict";var s=t.extend("sap.uxap.ThrottledTask",{constructor:function(i,t,s){this._fnTask=i;this._iDelay=t;this._oContext=s;this._oPromise=null;this._fnResolvePromise=null;this._fnRejectPromise=null;this._iTimer=null;this._oTaskOptions=null},reSchedule:function(i,t){var s=this._getPromise();if(this._iTimer){clearTimeout(this._iTimer);this._iTimer=null}this._oTaskOptions=this._mergeOptions(this._oTaskOptions||{},t);if(i){var e=this._fnTask.call(this._oContext,this._oTaskOptions);this._completePromise(e);return s}this._iTimer=setTimeout(function(){if(this._oPromise){var i=this._fnTask.call(this._oContext,this._oTaskOptions);this._completePromise(i)}}.bind(this),this._iDelay);return s},isPending:function(){return this._iTimer!=null},_getPromise:function(){if(!this._oPromise){this._oPromise=new Promise(function(i,t){this._fnResolvePromise=i;this._fnRejectPromise=t}.bind(this))}return this._oPromise},_completePromise:function(i){var t=i?this._fnResolvePromise:this._fnRejectPromise;t();this._oPromise=null;this._fnResolvePromise=null;this._fnRejectPromise=null;this._oTaskOptions=null},_mergeOptions:function(t,s){var e=i.extend({},t,s);i.each(e,function(i){e[i]=t[i]||s[i]});return e}});return s});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/uxap/library",["sap/ui/core/Core","sap/ui/base/DataType","sap/ui/Device","sap/ui/thirdparty/jquery","sap/ui/core/library","sap/f/library","sap/m/library","sap/ui/layout/library"],function(e,a,t,i){"use strict";var n=sap.ui.getCore().initLibrary({name:"sap.uxap",dependencies:["sap.ui.core","sap.f","sap.m","sap.ui.layout"],designtime:"sap/uxap/designtime/library.designtime",types:["sap.uxap.BlockBaseColumnLayout","sap.uxap.BlockBaseFormAdjustment","sap.uxap.Importance","sap.uxap.ObjectPageConfigurationMode","sap.uxap.ObjectPageHeaderDesign","sap.uxap.ObjectPageHeaderPictureShape","sap.uxap.ObjectPageSubSectionLayout","sap.uxap.ObjectPageSubSectionMode"],interfaces:["sap.uxap.IHeaderTitle","sap.uxap.IHeaderContent"],controls:["sap.uxap.AnchorBar","sap.uxap.BlockBase","sap.uxap.BreadCrumbs","sap.uxap.HierarchicalSelect","sap.uxap.ObjectPageHeader","sap.uxap.ObjectPageDynamicHeaderTitle","sap.uxap.ObjectPageDynamicHeaderContent","sap.uxap.ObjectPageHeaderActionButton","sap.uxap.ObjectPageHeaderContent","sap.uxap.ObjectPageLayout","sap.uxap.ObjectPageSection","sap.uxap.ObjectPageSectionBase","sap.uxap.ObjectPageSubSection"],elements:["sap.uxap.ModelMapping","sap.uxap.ObjectPageAccessibleLandmarkInfo","sap.uxap.ObjectPageHeaderLayoutData","sap.uxap.ObjectPageLazyLoader"],version:"1.108.3",extensions:{flChangeHandlers:{"sap.uxap.ObjectPageHeader":"sap/uxap/flexibility/ObjectPageHeader","sap.uxap.ObjectPageLayout":"sap/uxap/flexibility/ObjectPageLayout","sap.uxap.ObjectPageSection":"sap/uxap/flexibility/ObjectPageSection","sap.uxap.ObjectPageSubSection":"sap/uxap/flexibility/ObjectPageSubSection","sap.uxap.ObjectPageDynamicHeaderTitle":"sap/uxap/flexibility/ObjectPageDynamicHeaderTitle","sap.uxap.ObjectPageHeaderActionButton":"sap/uxap/flexibility/ObjectPageHeaderActionButton","sap.ui.core._StashedControl":{unstashControl:{changeHandler:"default",layers:{USER:true}},stashControl:{changeHandler:"default",layers:{USER:true}}}},"sap.ui.support":{publicRules:true}}});n.BlockBaseColumnLayout=a.createType("sap.uxap.BlockBaseColumnLayout",{isValid:function(e){return/^(auto|[1-4]{1})$/.test(e)}},a.getType("string"));n.BlockBaseFormAdjustment={BlockColumns:"BlockColumns",OneColumn:"OneColumn",None:"None"};n.ObjectPageConfigurationMode={JsonURL:"JsonURL",JsonModel:"JsonModel"};n.ObjectPageHeaderDesign={Light:"Light",Dark:"Dark"};n.ObjectPageHeaderPictureShape={Circle:"Circle",Square:"Square"};n.ObjectPageSubSectionLayout={TitleOnTop:"TitleOnTop",TitleOnLeft:"TitleOnLeft"};n.ObjectPageSubSectionMode={Collapsed:"Collapsed",Expanded:"Expanded"};n.Importance={Low:"Low",Medium:"Medium",High:"High"};n.Utilities={getClosestOPL:function(e){while(e&&!(e instanceof sap.uxap.ObjectPageLayout)){e=e.getParent()}return e},isPhoneScenario:function(e){if(t.system.phone){return true}return n.Utilities._isCurrentMediaSize("Phone",e)},isTabletScenario:function(e){return n.Utilities._isCurrentMediaSize("Tablet",e)},_isCurrentMediaSize:function(e,a){return a&&a.name===e},getChildPosition:function(e,a){var t=e instanceof i?e:i(e),n=a instanceof i?a:i(a),p=i(document.documentElement),s=t.position(),u=t.offsetParent(),o;while(!u.is(n)&&!u.is(p)){o=u.position();s.top+=o.top;s.left+=o.left;u=u.offsetParent()}return s}};return n});
sap.ui.require.preload({
	"sap/ui/thirdparty/caja-html-sanitizer.js":function(){(function(){
/* Copyright Google Inc.
 * Licensed under the Apache Licence Version 2.0
 * Autogenerated at Tue May 22 10:18:21 PDT 2012
 * \@overrides window
 * \@provides cssSchema, CSS_PROP_BIT_QUANTITY, CSS_PROP_BIT_HASH_VALUE, CSS_PROP_BIT_NEGATIVE_QUANTITY, CSS_PROP_BIT_QSTRING_CONTENT, CSS_PROP_BIT_QSTRING_URL, CSS_PROP_BIT_HISTORY_INSENSITIVE, CSS_PROP_BIT_Z_INDEX, CSS_PROP_BIT_ALLOWED_IN_LINK */
var e=1;var r=2;var t=4;var s=8;var o=16;var i=32;var a=64;var n=128;var c=function(){var e=["rgb(?:\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)|a\\(\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0|\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+|0(?:\\.\\d+)?|\\.\\d+|1(?:\\.0+)?|0|\\d+(?:\\.\\d+)?%)) *\\)"],r=[/^ *$/i,RegExp("^ *(?:\\s*"+e[0]+"|(?:\\s*"+e[0]+")?)+ *$","i"),RegExp("^ *\\s*"+e[0]+" *$","i"),RegExp("^ *\\s*"+e[0]+"\\s*"+e[0]+" *$","i")],t=[["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],["all-scroll","col-resize","crosshair","default","e-resize","hand","help","move","n-resize","ne-resize","no-drop","not-allowed","nw-resize","pointer","progress","row-resize","s-resize","se-resize","sw-resize","text","vertical-text","w-resize","wait"],["-moz-inline-box","-moz-inline-stack","block","inline","inline-block","inline-table","list-item","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],["armenian","circle","decimal","decimal-leading-zero","disc","georgian","lower-alpha","lower-greek","lower-latin","lower-roman","square","upper-alpha","upper-latin","upper-roman"],["100","200","300","400","500","600","700","800","900","bold","bolder","lighter"],["condensed","expanded","extra-condensed","extra-expanded","narrower","semi-condensed","semi-expanded","ultra-condensed","ultra-expanded","wider"],["behind","center-left","center-right","far-left","far-right","left-side","leftwards","right-side","rightwards"],["large","larger","small","smaller","x-large","x-small","xx-large","xx-small"],["-moz-pre-wrap","-o-pre-wrap","-pre-wrap","nowrap","pre","pre-line","pre-wrap"],["dashed","dotted","double","groove","outset","ridge","solid"],["baseline","middle","sub","super","text-bottom","text-top"],["caption","icon","menu","message-box","small-caption","status-bar"],["fast","faster","slow","slower","x-fast","x-slow"],["above","below","higher","level","lower"],["border-box","contain","content-box","cover","padding-box"],["cursive","fantasy","monospace","sans-serif","serif"],["loud","silent","soft","x-loud","x-soft"],["no-repeat","repeat-x","repeat-y","round","space"],["blink","line-through","overline","underline"],["high","low","x-high","x-low"],["absolute","relative","static"],["capitalize","lowercase","uppercase"],["child","female","male"],["bidi-override","embed"],["bottom","top"],["clip","ellipsis"],["continuous","digits"],["hide","show"],["inside","outside"],["italic","oblique"],["left","right"],["ltr","rtl"],["no-content","no-display"],["suppress","unrestricted"],["thick","thin"],[","],["/"],["always"],["auto"],["avoid"],["both"],["break-word"],["center"],["code"],["collapse"],["fixed"],["hidden"],["inherit"],["inset"],["invert"],["justify"],["local"],["medium"],["mix"],["none"],["normal"],["once"],["repeat"],["scroll"],["separate"],["small-caps"],["spell-out"],["transparent"],["visible"]];return{"-moz-border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"-moz-border-radius-bottomleft":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-bottomright":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-topleft":{cssExtra:r[0],cssPropBits:5},"-moz-border-radius-topright":{cssExtra:r[0],cssPropBits:5},"-moz-box-shadow":{cssExtra:r[1],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"-moz-opacity":{cssPropBits:1,cssLitGroup:[t[47]]},"-moz-outline":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[49],t[52],t[54]]},"-moz-outline-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[49]]},"-moz-outline-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"-moz-outline-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"-o-text-overflow":{cssPropBits:0,cssLitGroup:[t[25]]},"-webkit-border-bottom-left-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-bottom-right-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"-webkit-border-radius-bottom-left":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-bottom-right":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-top-left":{cssExtra:r[0],cssPropBits:5},"-webkit-border-radius-top-right":{cssExtra:r[0],cssPropBits:5},"-webkit-border-top-left-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-border-top-right-radius":{cssExtra:r[0],cssPropBits:5},"-webkit-box-shadow":{cssExtra:r[1],cssAlternates:["boxShadow"],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},azimuth:{cssPropBits:5,cssLitGroup:[t[6],t[30],t[42],t[47]]},background:{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){0,2} *$","i"),cssPropBits:23,cssLitGroup:[t[0],t[14],t[17],t[24],t[30],t[35],t[36],t[38],t[42],t[45],t[47],t[51],t[54],t[57],t[58],t[62]]},"background-attachment":{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[35],t[45],t[51],t[58]]},"background-color":{cssExtra:r[2],cssPropBits:130,cssLitGroup:[t[0],t[47],t[62]]},"background-image":{cssExtra:r[0],cssPropBits:16,cssLitGroup:[t[35],t[54]]},"background-position":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[24],t[30],t[35],t[42]]},"background-repeat":{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[17],t[35],t[57]]},border:{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-bottom":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-bottom-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-bottom-left-radius":{cssExtra:r[0],cssPropBits:5},"border-bottom-right-radius":{cssExtra:r[0],cssPropBits:5},"border-bottom-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-bottom-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-collapse":{cssPropBits:0,cssLitGroup:[t[44],t[47],t[59]]},"border-color":{cssExtra:RegExp("^ *(?:\\s*"+e[0]+"){1,4} *$","i"),cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-left":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-left-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-left-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-left-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-radius":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[36]]},"border-right":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-right-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-right-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-right-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-spacing":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47]]},"border-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-top":{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[52],t[54],t[62]]},"border-top-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[62]]},"border-top-left-radius":{cssExtra:r[0],cssPropBits:5},"border-top-right-radius":{cssExtra:r[0],cssPropBits:5},"border-top-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"border-top-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},"border-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},bottom:{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"box-shadow":{cssExtra:r[1],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"caption-side":{cssPropBits:0,cssLitGroup:[t[24],t[47]]},clear:{cssPropBits:0,cssLitGroup:[t[30],t[40],t[47],t[54]]},clip:{cssExtra:/^ *\s*rect\(\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto)\s*,\s*(?:0|[+\-]?\d+(?:\.\d+)?(?:[cem]m|ex|in|p[ctx])|auto) *\) *$/i,cssPropBits:0,cssLitGroup:[t[38],t[47]]},color:{cssExtra:r[2],cssPropBits:130,cssLitGroup:[t[0],t[47]]},content:{cssPropBits:0},"counter-increment":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47],t[54]]},"counter-reset":{cssExtra:r[0],cssPropBits:5,cssLitGroup:[t[47],t[54]]},cue:{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"cue-after":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"cue-before":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},cursor:{cssExtra:r[0],cssPropBits:144,cssLitGroup:[t[1],t[35],t[38],t[47]]},direction:{cssPropBits:0,cssLitGroup:[t[31],t[47]]},display:{cssPropBits:32,cssLitGroup:[t[2],t[47],t[54]]},elevation:{cssPropBits:5,cssLitGroup:[t[13],t[47]]},"empty-cells":{cssPropBits:0,cssLitGroup:[t[27],t[47]]},filter:{cssExtra:/^ *(?:\s*alpha\(\s*opacity\s*=\s*(?:0|\d+(?:\.\d+)?%|[+\-]?\d+(?:\.\d+)?) *\))+ *$/i,cssPropBits:32},float:{cssAlternates:["cssFloat","styleFloat"],cssPropBits:32,cssLitGroup:[t[30],t[47],t[54]]},font:{cssExtra:r[0],cssPropBits:9,cssLitGroup:[t[4],t[7],t[11],t[15],t[29],t[35],t[36],t[47],t[52],t[55],t[60]]},"font-family":{cssExtra:r[0],cssPropBits:8,cssLitGroup:[t[15],t[35],t[47]]},"font-size":{cssPropBits:1,cssLitGroup:[t[7],t[47],t[52]]},"font-stretch":{cssPropBits:0,cssLitGroup:[t[5],t[55]]},"font-style":{cssPropBits:0,cssLitGroup:[t[29],t[47],t[55]]},"font-variant":{cssPropBits:0,cssLitGroup:[t[47],t[55],t[60]]},"font-weight":{cssPropBits:0,cssLitGroup:[t[4],t[47],t[55]]},height:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},left:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},"letter-spacing":{cssPropBits:5,cssLitGroup:[t[47],t[55]]},"line-height":{cssPropBits:1,cssLitGroup:[t[47],t[55]]},"list-style":{cssPropBits:16,cssLitGroup:[t[3],t[28],t[47],t[54]]},"list-style-image":{cssPropBits:16,cssLitGroup:[t[47],t[54]]},"list-style-position":{cssPropBits:0,cssLitGroup:[t[28],t[47]]},"list-style-type":{cssPropBits:0,cssLitGroup:[t[3],t[47],t[54]]},margin:{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-bottom":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-left":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-right":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"margin-top":{cssPropBits:5,cssLitGroup:[t[38],t[47]]},"max-height":{cssPropBits:1,cssLitGroup:[t[38],t[47],t[54]]},"max-width":{cssPropBits:1,cssLitGroup:[t[38],t[47],t[54]]},"min-height":{cssPropBits:1,cssLitGroup:[t[38],t[47]]},"min-width":{cssPropBits:1,cssLitGroup:[t[38],t[47]]},opacity:{cssPropBits:33,cssLitGroup:[t[47]]},outline:{cssExtra:r[3],cssPropBits:7,cssLitGroup:[t[0],t[9],t[34],t[46],t[47],t[48],t[49],t[52],t[54]]},"outline-color":{cssExtra:r[2],cssPropBits:2,cssLitGroup:[t[0],t[47],t[49]]},"outline-style":{cssPropBits:0,cssLitGroup:[t[9],t[46],t[47],t[48],t[54]]},"outline-width":{cssPropBits:5,cssLitGroup:[t[34],t[47],t[52]]},overflow:{cssPropBits:32,cssLitGroup:[t[38],t[46],t[47],t[58],t[63]]},"overflow-x":{cssPropBits:0,cssLitGroup:[t[32],t[38],t[46],t[58],t[63]]},"overflow-y":{cssPropBits:0,cssLitGroup:[t[32],t[38],t[46],t[58],t[63]]},padding:{cssPropBits:1,cssLitGroup:[t[47]]},"padding-bottom":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-left":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-right":{cssPropBits:33,cssLitGroup:[t[47]]},"padding-top":{cssPropBits:33,cssLitGroup:[t[47]]},"page-break-after":{cssPropBits:0,cssLitGroup:[t[30],t[37],t[38],t[39],t[47]]},"page-break-before":{cssPropBits:0,cssLitGroup:[t[30],t[37],t[38],t[39],t[47]]},"page-break-inside":{cssPropBits:0,cssLitGroup:[t[38],t[39],t[47]]},pause:{cssPropBits:5,cssLitGroup:[t[47]]},"pause-after":{cssPropBits:5,cssLitGroup:[t[47]]},"pause-before":{cssPropBits:5,cssLitGroup:[t[47]]},pitch:{cssPropBits:5,cssLitGroup:[t[19],t[47],t[52]]},"pitch-range":{cssPropBits:5,cssLitGroup:[t[47]]},"play-during":{cssExtra:r[0],cssPropBits:16,cssLitGroup:[t[38],t[47],t[53],t[54],t[57]]},position:{cssPropBits:32,cssLitGroup:[t[20],t[47]]},quotes:{cssExtra:r[0],cssPropBits:0,cssLitGroup:[t[47],t[54]]},richness:{cssPropBits:5,cssLitGroup:[t[47]]},right:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},speak:{cssPropBits:0,cssLitGroup:[t[47],t[54],t[55],t[61]]},"speak-header":{cssPropBits:0,cssLitGroup:[t[37],t[47],t[56]]},"speak-numeral":{cssPropBits:0,cssLitGroup:[t[26],t[47]]},"speak-punctuation":{cssPropBits:0,cssLitGroup:[t[43],t[47],t[54]]},"speech-rate":{cssPropBits:5,cssLitGroup:[t[12],t[47],t[52]]},stress:{cssPropBits:5,cssLitGroup:[t[47]]},"table-layout":{cssPropBits:0,cssLitGroup:[t[38],t[45],t[47]]},"text-align":{cssPropBits:0,cssLitGroup:[t[30],t[42],t[47],t[50]]},"text-decoration":{cssPropBits:0,cssLitGroup:[t[18],t[47],t[54]]},"text-indent":{cssPropBits:5,cssLitGroup:[t[47]]},"text-overflow":{cssPropBits:0,cssLitGroup:[t[25]]},"text-shadow":{cssExtra:r[1],cssPropBits:7,cssLitGroup:[t[0],t[35],t[48],t[54]]},"text-transform":{cssPropBits:0,cssLitGroup:[t[21],t[47],t[54]]},"text-wrap":{cssPropBits:0,cssLitGroup:[t[33],t[54],t[55]]},top:{cssPropBits:37,cssLitGroup:[t[38],t[47]]},"unicode-bidi":{cssPropBits:0,cssLitGroup:[t[23],t[47],t[55]]},"vertical-align":{cssPropBits:5,cssLitGroup:[t[10],t[24],t[47]]},visibility:{cssPropBits:32,cssLitGroup:[t[44],t[46],t[47],t[63]]},"voice-family":{cssExtra:r[0],cssPropBits:8,cssLitGroup:[t[22],t[35],t[47]]},volume:{cssPropBits:1,cssLitGroup:[t[16],t[47],t[52]]},"white-space":{cssPropBits:0,cssLitGroup:[t[8],t[47],t[55]]},width:{cssPropBits:33,cssLitGroup:[t[38],t[47]]},"word-spacing":{cssPropBits:5,cssLitGroup:[t[47],t[55]]},"word-wrap":{cssPropBits:0,cssLitGroup:[t[41],t[55]]},"z-index":{cssPropBits:69,cssLitGroup:[t[38],t[47]]},zoom:{cssPropBits:1,cssLitGroup:[t[55]]}}}();if(typeof window!=="undefined"){window["cssSchema"]=c}
// Copyright (C) 2011 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var l;var u;(function(){function e(e){var r=parseInt(e.substring(1),16);if(r>65535){return r-=65536,String.fromCharCode(55296+(r>>10),56320+(r&1023))}else if(r==r){return String.fromCharCode(r)}else if(e[1]<" "){return""}else{return e[1]}}function r(e,r){return'"'+e.replace(/[\u0000-\u001f\\\"<>]/g,r)+'"'}function t(e){return o[e]||(o[e]="\\"+e.charCodeAt(0).toString(16)+" ")}function s(e){return i[e]||(i[e]=(e<""?"%0":"%")+e.charCodeAt(0).toString(16))}var o={"\\":"\\\\"};var i={"\\":"%5c"};var a="[\\t\\n\\f ]";var n=a+"*";var c="[\\n\\f]";var p="[\\ud800-\\udbff][\\udc00-\\udfff]";var d="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+p;var f="[0-9a-fA-F]{1,6}"+a+"?";var h="\\\\"+f;var m="(?:"+f+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+p+")";var g="\\\\"+m;var b="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+d+"|"+g+")";var v="[^'\"\\n\\f\\\\]|\\\\[\\s\\S]";var w="\"(?:'|"+v+')*"'+"|'(?:\"|"+v+")*'";var L="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)";var P="(?:[a-zA-Z_]|"+d+"|"+g+")";var x="(?:[a-zA-Z0-9_-]|"+d+"|"+g+")";var y=x+"+";var B="-?"+P+x+"*";var E="@"+B;var G="#"+y;var k=L;var A="(?:@?-?"+P+"|#)"+x+"*";var T=L+"%";var S=L+B;var C=L+"(?:%|"+B+")?";var z="url[(]"+n+"(?:"+w+"|"+b+"*)"+n+"[)]";var N="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?";var R="\x3c!--";var M="--\x3e";var D=a+"+";var O="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)";var $="(?!url[(])(?=("+B+"))\\1[(]";var j="~=";var I="[|]=";var _="[^]=";var q="[$]=";var F="[*]=";var U="[~|^$*]=";var Y="[^\"'\\\\/]|/(?![/*])";var Z="\\uFEFF";var H=new RegExp([Z,N,z,$,A,w,C,R,M,D,O,U,Y].join("|"),"gi");u=function(r){return r.replace(new RegExp("\\\\(?:"+m+"|"+c+")","g"),e)};l=function(e){e=""+e;var o=e.replace(/\r\n?/g,"\n").match(H)||[];var i=0;var a=" ";for(var c=0,l=o.length;c<l;++c){var p=u(o[c]);var d=p.length;var f=p.charCodeAt(0);p=f=='"'.charCodeAt(0)||f=="'".charCodeAt(0)?r(p.substring(1,d-1),t):f=="/".charCodeAt(0)&&d>1||p=="\\"||p==M||p==R||p=="\ufeff"||f<=" ".charCodeAt(0)?" ":/url\(/i.test(p)?"url("+r(p.replace(new RegExp("^url\\("+n+"[\"']?|[\"']?"+n+"\\)$","gi"),""),s)+")":p;if(a!=p||p!=" "){o[i++]=a=p}}o.length=i;return o}})();if(typeof window!=="undefined"){window["lexCss"]=l;window["decodeCss"]=u}
// Copyright (C) 2011 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var p=function(){var i='url("about:blank")';var n=/[\n\f\r\"\'()*<>]/g;var c={"\n":"%0a","\f":"%0c","\r":"%0d",'"':"%22","'":"%27","(":"%28",")":"%29","*":"%2a","<":"%3c",">":"%3e"};function l(e){if("string"===typeof e){return'url("'+e.replace(n,p)+'")'}else{return i}}function p(e){return c[e]}var d=new RegExp("^"+"(?:"+"([^:/?# ]+)"+":)?");var f=/^(?:https?|mailto)$/i;function h(e,r,t){if(!t){return null}var s=(""+e).match(d);if(s&&(!s[1]||f.test(s[1]))){return t(e,r)}else{return null}}function m(e){var r={};for(var t=e.length;--t>=0;){var s=e[t];for(var o=s.length;--o>=0;){r[s[o]]=b}}return r}function g(e,r){var t=1,s=r+1,o=e.length;while(s<o&&t){var i=e[s++];t+=i==="("?1:i===")"?-1:0}return s}var b={};return function(n,c,p,d){var f=c.cssPropBits;var v=f&(s|o);var w=NaN;var L=0,P=0;for(;L<p.length;++L){var x=p[L].toLowerCase();var y=x.charCodeAt(0),B,E,G,k,A;var T,S;x=y===" ".charCodeAt(0)?"":y==='"'.charCodeAt(0)?v===o&&d?l(h(u(p[L].substring(1,x.length-1)),n,d)):v===s?x:"":y==="#".charCodeAt(0)&&/^#(?:[0-9a-f]{3}){1,2}$/.test(x)?f&r?x:"":"0".charCodeAt(0)<=y&&y<="9".charCodeAt(0)?f&e?f&a?x.match(/^\d{1,7}$/)?x:"":x:"":(B=x.charCodeAt(1),E=x.charCodeAt(2),G="0".charCodeAt(0)<=B&&B<="9".charCodeAt(0),k="0".charCodeAt(0)<=E&&E<="9".charCodeAt(0),y==="+".charCodeAt(0)&&(G||B===".".charCodeAt(0)&&k))?f&e?f&a?x.match(/^\+\d{1,7}$/)?x:"":(G?"":"0")+x.substring(1):"":y==="-".charCodeAt(0)&&(G||B===".".charCodeAt(0)&&k)?f&t?f&a?x.match(/^\-\d{1,7}$/)?x:"":(G?"-":"-0")+x.substring(1):f&e?"0":"":y===".".charCodeAt(0)&&G?f&e?"0"+x:"":"url("===x.substring(0,4)?d&&v&o?l(h(p[L].substring(5,x.length-2),n,d)):"":(x.charAt(x.length-1)==="("&&(A=g(p,L),p.splice(L,A-L,x=p.slice(L,A).join(" "))),T=c.cssLitGroup,S=T?c.cssLitMap||(c.cssLitMap=m(T)):b,S[x]===b||c.cssExtra&&c.cssExtra.test(x))?x:/^\w+$/.test(x)&&v===s?w+1===P?(p[w]=p[w].substring(0,p[w].length-1)+" "+x+'"',x=""):(w=P,'"'+x+'"'):"";if(x){p[P++]=x}}if(P===1&&p[0]===i){P=0}p.length=P}}();function d(e,r){var t=[];var s=[];var o=0,i;for(i=0;i<e.length;++i){if(!(e[i]==" "&&(e[i-1]==">"||e[i+1]==">"))){e[o++]=e[i]}}e.length=o;var a=e.length,n=0;for(i=0;i<a;++i){if(e[i]==","){c(n,i);n=i+1}}c(n,a);function c(o,i){var a=false;if(e[o]===" "){++o}if(i-1!==o&&e[i]===" "){--i}var n=[];var c=o;var l="";for(var u=o;u<i;++u){var p=e[u];var d=p===">";if(d||p===" "){l=f(c,u,false);if(!l||d&&/^html/i.test(l)){return}c=u+1;n.push(l,d?" > ":" ")}}l=f(c,i,true);if(!l){return}n.push(l);function f(t,s,o){var i=t,n=s;var c,l,u,p,d;c="";if(t<s){p=e[t].toLowerCase();if(p==="*"||p==="body"&&t+1!==s&&!o||"number"===typeof(d=g.ELEMENTS[p])&&!(d&g.eflags.UNSAFE)){++t;c=p}}l="";while(t<s){p=e[t];if(p.charAt(0)==="#"){if(/^#_|__$|[^#0-9A-Za-z:_\-]/.test(p)){return null}l+=p+"-"+r}else if(p==="."){if(++t<s&&/^[0-9A-Za-z:_\-]+$/.test(p=e[t])&&!/^_|__$/.test(p)){l+="."+p}else{return null}}else{break}++t}u="";if(t<s&&e[t]===":"){p=e[++t];if(p==="visited"||p==="link"){if(!/^[a*]?$/.test(c)){return null}a=true;u=":"+p;c="a";++t}}if(t===s){return c+l+u}return null}var h=n.join("");if(/^body\b/.test(h)){h=".vdoc-body___."+r+h.substring(4)}else{h="."+r+" "+h}(a?t:s).push(h)}return[s,t]}var f=function(){var e={};var r={braille:e,embossed:e,handheld:e,print:e,projection:e,screen:e,speech:e,tty:e,tv:e};function t(e){var r=false;for(var t=0,s=e.length;t<s-1;++t){var o=e[t];if(":"===e[t+1]){r=!(c[o].cssPropBits&n)}if(r){e[t]=""}if(";"===o){r=false}}return e.join("")}return function(s,o,i){var a=void 0;var n=[];var l=false;h(s,{startStylesheet:function(){a=[]},endStylesheet:function(){},startAtrule:function(t,s){if(l){t=null}else if(t==="@media"){s=s.filter(function(t){return r[t]==e});if(s.length){a.push(t,s.join(","),"{")}else{t=null}}else{if(t==="@import"){if(window.console){window.console.log("@import "+s.join(" ")+" elided")}}t=null}l=!t;n.push(t)},endAtrule:function(){var e=n.pop();if(!l){a.push(";")}u()},startBlock:function(){if(!l){a.push("{")}},endBlock:function(){if(!l){a.push("}");l=true}},startRuleset:function(e){var r=void 0;var t=false;if(!l){var s=d(e,o);var i=s[0];r=s[1];if(!i.length&&!r.length){l=true}else{var c=i.join(", ");if(!c){c="head > html";t=true}a.push(c,"{")}}n.push(l?null:{historySensitiveSelectors:r,endOfSelectors:a.length-1,removeHistoryInsensitiveSelectors:t})},endRuleset:function(){var e=n.pop();var r=a.length;if(!l){a.push("}");if(e){var s=e.historySensitiveSelectors;if(s.length){var o=a.slice(e.endOfSelectors);a.push(s.join(", "),t(o))}}}if(e&&e.removeHistoryInsensitiveSelectors){a.splice(e.endOfSelectors-1,r+1)}u()},declaration:function(e,r){if(!l){var t=c[e];if(t){p(e,t,r,i);if(r.length){a.push(e,":",r.join(" "),";")}}}}});function u(){l=n.length!==0&&n[n.length-1]!==null}return a.join("")}}();if(typeof window!=="undefined"){window["sanitizeCssProperty"]=p;window["sanitizeCssSelectors"]=d;window["sanitizeStylesheet"]=f}
// Copyright (C) 2010 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var h;var m;(function(){h=function(r,t){var s=l(r);if(t.startStylesheet){t.startStylesheet()}for(var o=0,i=s.length;o<i;){o=s[o]===" "?o+1:e(s,o,i,t)}if(t.endStylesheet){t.endStylesheet()}};function e(e,t,o,i){if(t<o){var a=e[t];if(a.charAt(0)==="@"){return r(e,t,o,i,true)}else{return s(e,t,o,i)}}else{return t}}function r(e,r,s,o,i){var a=r++;while(r<s&&e[r]!=="{"&&e[r]!==";"){++r}if(r<s&&(i||e[r]===";")){var n=a+1,c=r;if(n<s&&e[n]===" "){++n}if(c>n&&e[c-1]===" "){--c}if(o.startAtrule){o.startAtrule(e[a].toLowerCase(),e.slice(n,c))}r=e[r]==="{"?t(e,r,s,o):r+1;if(o.endAtrule){o.endAtrule()}}return r}function t(e,o,i,a){++o;if(a.startBlock){a.startBlock()}while(o<i){var n=e[o].charAt(0);if(n=="}"){++o;break}if(n===" "||n===";"){o=o+1}else if(n==="@"){o=r(e,o,i,a,false)}else if(n==="{"){o=t(e,o,i,a)}else{o=s(e,o,i,a)}}if(a.endBlock){a.endBlock()}return o}function s(e,r,t,s){var i=r,n=o(e,r,t,true);if(n<0){n=~n;return r===n?n+1:n}r=n;if(n>i&&e[n-1]===" "){--n}var c=e[r];++r;if(c!=="{"){return r}if(s.startRuleset){s.startRuleset(e.slice(i,n))}while(r<t){c=e[r];if(c==="}"){++r;break}if(c===" "){r=r+1}else{r=a(e,r,t,s)}}if(s.endRuleset){s.endRuleset()}return r<t?r+1:r}function o(e,r,t,s){var o=r;var i;var a=[],n=-1;for(;r<t;++r){i=e[r].charAt(0);if(i==="["||i==="("){a[++n]=i}else if(i==="]"&&a[n]==="["||i===")"&&a[n]==="("){--n}else if(i==="{"||i==="}"||i===";"||i==="@"||i===":"&&!s){break}}if(n>=0){r=~(r+1)}return r}var i=/^-?[a-z]/i;function a(e,r,t,s){var a=e[r++];if(!i.test(a)){return r+1}var n;if(r<t&&e[r]===" "){++r}if(r==t||e[r]!==":"){while(r<t&&(n=e[r])!==";"&&n!=="}"){++r}return r}++r;if(r<t&&e[r]===" "){++r}var c=r,l=o(e,r,t,false);if(l<0){l=~l}else{var u=[],p=0;for(var d=c;d<l;++d){n=e[d];if(n!==" "){u[p++]=n}}if(l<t){do{n=e[l];if(n===";"||n==="}"){break}p=0}while(++l<t);if(n===";"){++l}}if(p&&s.declaration){s.declaration(a.toLowerCase(),u)}}return l}m=function(e,r){var t=l(e);for(var s=0,o=t.length;s<o;){s=t[s]!==" "?a(t,s,o,r):s+1}}})();if(typeof window!=="undefined"){window["parseCssStylesheet"]=h;window["parseCssDeclarations"]=m}
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */var g={};g.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10};g.ATTRIBS={"*::accesskey":0,"*::class":9,"*::contenteditable":0,"*::contextmenu":0,"*::dir":0,"*::draggable":0,"*::dropzone":0,"*::hidden":0,"*::id":4,"*::lang":0,"*::onabort":2,"*::onblur":2,"*::oncanplay":2,"*::oncanplaythrough":2,"*::onchange":2,"*::onclick":2,"*::oncontextmenu":2,"*::oncuechange":2,"*::ondblclick":2,"*::ondrag":2,"*::ondragend":2,"*::ondragenter":2,"*::ondragleave":2,"*::ondragover":2,"*::ondragstart":2,"*::ondrop":2,"*::ondurationchange":2,"*::onemptied":2,"*::onended":2,"*::onerror":2,"*::onfocus":2,"*::oninput":2,"*::oninvalid":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onloadeddata":2,"*::onloadedmetadata":2,"*::onloadstart":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onmousewheel":2,"*::onpause":2,"*::onplay":2,"*::onplaying":2,"*::onprogress":2,"*::onratechange":2,"*::onreadystatechange":2,"*::onreset":2,"*::onscroll":2,"*::onseeked":2,"*::onseeking":2,"*::onselect":2,"*::onshow":2,"*::onstalled":2,"*::onsubmit":2,"*::onsuspend":2,"*::ontimeupdate":2,"*::onvolumechange":2,"*::onwaiting":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"a::href":1,"a::hreflang":0,"a::media":0,"a::rel":0,"a::target":0,"a::type":0,"area::alt":0,"area::coords":0,"area::href":1,"area::hreflang":0,"area::media":0,"area::rel":0,"area::shape":0,"area::target":10,"area::type":0,"audio::autoplay":0,"audio::controls":0,"audio::loop":0,"audio::mediagroup":0,"audio::preload":0,"audio::src":1,"base::href":1,"base::target":10,"blockquote::cite":1,"body::onafterprint":2,"body::onbeforeprint":2,"body::onbeforeunload":2,"body::onblur":2,"body::onerror":2,"body::onfocus":2,"body::onhashchange":2,"body::onload":2,"body::onmessage":2,"body::onoffline":2,"body::ononline":2,"body::onpagehide":2,"body::onpageshow":2,"body::onpopstate":2,"body::onredo":2,"body::onresize":2,"body::onscroll":2,"body::onstorage":2,"body::onundo":2,"body::onunload":2,"button::autofocus":0,"button::disabled":0,"button::form":0,"button::formaction":1,"button::formenctype":0,"button::formmethod":0,"button::formnovalidate":0,"button::formtarget":10,"button::name":8,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"col::span":0,"colgroup::span":0,"command::checked":0,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"del::cite":1,"del::datetime":0,"details::open":0,"embed::height":0,"embed::src":1,"embed::type":0,"embed::width":0,"fieldset::disabled":0,"fieldset::form":0,"fieldset::name":8,"form::accept-charset":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::target":10,"html:: manifest":1,"iframe::height":0,"iframe::name":7,"iframe::sandbox":0,"iframe::seamless":0,"iframe::src":1,"iframe::srcdoc":10,"iframe::width":0,"img::alt":0,"img::height":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::width":0,"input::accept":0,"input::alt":0,"input::autocomplete":0,"input::autofocus":0,"input::checked":0,"input::dirname":0,"input::disabled":0,"input::form":0,"input::formaction":1,"input::formenctype":0,"input::formmethod":0,"input::formnovalidate":0,"input::formtarget":10,"input::height":0,"input::list":0,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::step":0,"input::size":0,"input::src":1,"input::type":0,"input::value":0,"input::width":0,"ins::cite":1,"ins::datetime":0,"keygen::autofocus":0,"keygen::challenge":0,"keygen::disabled":0,"keygen::form":0,"keygen::keytype":0,"keygen::name":8,"label::for":5,"label::form":0,"link::href":1,"link::hreflang":0,"link::media":0,"link::rel":0,"link::sizes":0,"link::type":0,"li::value":0,"map::name":7,"menu::label":0,"menu::type":0,"meta::charset":0,"meta::content":0,"meta::http-equiv":0,"meta::name":7,"meter::form":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::optimum":0,"meter::value":0,"object::data":1,"object::form":0,"object::height":0,"object::name":8,"object::type":0,"object::usemap":11,"object::width":0,"ol::reversed":0,"ol::start":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":5,"output::form":0,"output::name":8,"param::name":8,"param::value":0,"progress::form":0,"progress::max":0,"progress::value":0,"q::cite":1,"script::async":0,"script::charset":0,"script::defer":0,"script::src":1,"script::type":0,"select::autofocus":0,"select::disabled":0,"select::form":0,"select::multiple":0,"select::name":8,"select::required":0,"select::size":0,"source::media":0,"source::src":1,"source::type":0,"style::media":0,"style::scoped":0,"style::type":0,"table::border":0,"td::colspan":0,"td::headers":6,"td::rowspan":0,"textarea::autofocus":0,"textarea::cols":0,"textarea::disabled":0,"textarea::form":0,"textarea::maxlength":0,"textarea::name":8,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"th::colspan":0,"th::headers":6,"th::rowspan":0,"th::scope":0,"time::datetime":0,"time::pubdate":0,"track::default":0,"track::kind":0,"track::label":0,"track::src":1,"track::srclang":0,"video::autoplay":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0};g.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128};g.ELEMENTS={a:0,abbr:0,address:0,area:2,article:0,aside:0,audio:0,b:0,base:18,bdi:0,bdo:0,blockquote:0,body:49,br:2,button:0,canvas:0,caption:0,cite:0,code:0,col:2,colgroup:1,command:2,datalist:0,dd:1,del:0,details:0,dfn:0,div:0,dl:0,dt:1,em:0,embed:18,fieldset:0,figcaption:0,figure:0,footer:0,form:0,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,header:0,hgroup:0,hr:2,html:49,i:0,iframe:4,img:2,input:2,ins:0,kbd:0,keygen:2,label:0,legend:0,li:1,link:18,map:0,mark:0,menu:0,meta:18,meter:0,nav:0,noscript:20,object:16,ol:0,optgroup:1,option:1,output:0,p:1,param:18,pre:0,progress:0,q:0,rp:1,rt:1,ruby:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:24,tr:1,track:2,u:0,ul:0,var:0,video:0,wbr:2};g.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2};g.URIEFFECTS={"a::href":2,"area::href":2,"audio::src":1,"base::href":2,"blockquote::cite":0,"button::formaction":2,"command::icon":1,"del::cite":0,"embed::src":1,"form::action":2,"html:: manifest":1,"iframe::src":1,"img::src":1,"input::formaction":2,"input::src":1,"ins::cite":0,"link::href":2,"object::data":1,"q::cite":0,"script::src":1,"source::src":1,"track::src":1,"video::poster":1,"video::src":1};g.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0};g.LOADERTYPES={"a::href":2,"area::href":2,"audio::src":1,"base::href":2,"blockquote::cite":2,"button::formaction":2,"command::icon":1,"del::cite":2,"embed::src":1,"form::action":2,"html:: manifest":1,"iframe::src":1,"img::src":1,"input::formaction":2,"input::src":1,"ins::cite":2,"link::href":2,"object::data":0,"q::cite":2,"script::src":1,"source::src":1,"track::src":1,"video::poster":1,"video::src":1};if(typeof window!=="undefined"){window["html4"]=g}// Copyright (C) 2006 Google Inc.
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//      http://www.apache.org/licenses/LICENSE-2.0
// distributed under the License is distributed on an "AS IS" BASIS,
// See the License for the specific language governing permissions and
// limitations under the License.
var b=function(e){var r,t,s;if("undefined"!==typeof window){r=window["parseCssDeclarations"];t=window["sanitizeCssProperty"];s=window["cssSchema"]}var o;if("script"==="SCRIPT".toLowerCase()){o=function(e){return e.toLowerCase()}}else{o=function(e){return e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)|32)})}}var i={lt:"<",gt:">",amp:"&",nbsp:" ",quot:'"',apos:"'"};var a=/^#(\d+)$/;var n=/^#x([0-9A-Fa-f]+)$/;function c(e){e=o(e);if(i.hasOwnProperty(e)){return i[e]}var r=e.match(a);if(r){return String.fromCharCode(parseInt(r[1],10))}else if(!!(r=e.match(n))){return String.fromCharCode(parseInt(r[1],16))}return""}function l(e,r){return c(r)}var u=/\0/g;function p(e){return e.replace(u,"")}var d=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function f(e){return e.replace(d,l)}var h=/&/g;var m=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;var g=/[<]/g;var b=/>/g;var v=/\"/g;function w(e){return(""+e).replace(h,"&amp;").replace(g,"&lt;").replace(b,"&gt;").replace(v,"&#34;")}function L(e){return e.replace(m,"&amp;$1").replace(g,"&lt;").replace(b,"&gt;")}var P=new RegExp("^\\s*"+"([a-z][a-z-]*)"+"(?:"+("\\s*(=)\\s*"+"("+('(")[^"]*("|$)'+"|"+"(')[^']*('|$)"+"|"+"(?=[a-z][a-z-]*\\s*=)"+"|"+"[^\"'\\s]*")+")")+")?","i");var x=/^(#[0-9]+|#x[0-9a-f]+|\w+);/i;var y="a,b".split(/(,)/).length===3;var B=e.eflags.CDATA|e.eflags.RCDATA;function E(e){return function(r,t){return k(r,e,t)}}var G={};function k(e,r,t){var s=r;var o,i,a;var n=S(e);var c={noMoreGT:false,noMoreEndComments:false};T(r,n,0,c,t)}function A(e,r,t,s,o){return function(){T(e,r,t,s,o)}}function T(r,t,s,i,a){try{if(r.startDoc&&s==0){r.startDoc(a)}var n,c,l;for(var u=s,p=t.length;u<p;){var d=t[u++];var f=t[u];switch(d){case"&":if(x.test(f)){if(r.pcdata){r.pcdata("&"+f,a,G,A(r,t,u,i,a))}u++}else{if(r.pcdata){r.pcdata("&amp;",a,G,A(r,t,u,i,a))}}break;case"</":if(n=/^(\w+)[^\'\"]*/.exec(f)){if(n[0].length===f.length&&t[u+1]===">"){u+=2;l=o(n[1]);if(e.ELEMENTS.hasOwnProperty(l)){if(r.endTag){r.endTag(l,a,G,A(r,t,u,i,a))}}}else{u=C(t,u,r,a,G,i)}}else{if(r.pcdata){r.pcdata("&lt;/",a,G,A(r,t,u,i,a))}}break;case"<":if(n=/^(\w+)\s*\/?/.exec(f)){if(n[0].length===f.length&&t[u+1]===">"){u+=2;l=o(n[1]);if(e.ELEMENTS.hasOwnProperty(l)){if(r.startTag){r.startTag(l,[],a,G,A(r,t,u,i,a))}var h=e.ELEMENTS[l];if(h&B){var m={name:l,next:u,eflags:h};u=R(t,m,r,a,G,i)}}}else{u=z(t,u,r,a,G,i)}}else{if(r.pcdata){r.pcdata("&lt;",a,G,A(r,t,u,i,a))}}break;case"\x3c!--":if(!i.noMoreEndComments){for(c=u+1;c<p;c++){if(t[c]===">"&&/--$/.test(t[c-1])){break}}if(c<p){u=c+1}else{i.noMoreEndComments=true}}if(i.noMoreEndComments){if(r.pcdata){r.pcdata("&lt;!--",a,G,A(r,t,u,i,a))}}break;case"<!":if(!/^\w/.test(f)){if(r.pcdata){r.pcdata("&lt;!",a,G,A(r,t,u,i,a))}}else{if(!i.noMoreGT){for(c=u+1;c<p;c++){if(t[c]===">"){break}}if(c<p){u=c+1}else{i.noMoreGT=true}}if(i.noMoreGT){if(r.pcdata){r.pcdata("&lt;!",a,G,A(r,t,u,i,a))}}}break;case"<?":if(!i.noMoreGT){for(c=u+1;c<p;c++){if(t[c]===">"){break}}if(c<p){u=c+1}else{i.noMoreGT=true}}if(i.noMoreGT){if(r.pcdata){r.pcdata("&lt;?",a,G,A(r,t,u,i,a))}}break;case">":if(r.pcdata){r.pcdata("&gt;",a,G,A(r,t,u,i,a))}break;case"":break;default:if(r.pcdata){r.pcdata(d,a,G,A(r,t,u,i,a))}break}}if(r.endDoc){r.endDoc(a)}}catch(e){if(e!==G){throw e}}}function S(e){var r=/(<\/|<\!--|<[!?]|[&<>])/g;e+="";if(y){return e.split(r)}else{var t=[];var s=0;var o;while((o=r.exec(e))!==null){t.push(e.substring(s,o.index));t.push(o[0]);s=o.index+o[0].length}t.push(e.substring(s));return t}}function C(e,r,t,s,o,i){var a=M(e,r);if(!a){return e.length}if(a.eflags!==void 0){if(t.endTag){t.endTag(a.name,s,o,A(t,e,r,i,s))}}return a.next}function z(e,r,t,s,o,i){var a=M(e,r);if(!a){return e.length}if(a.eflags!==void 0){if(t.startTag){t.startTag(a.name,a.attrs,s,o,A(t,e,a.next,i,s))}if(a.eflags&B){return R(e,a,t,s,o,i)}}return a.next}var N={};function R(r,t,s,o,i,a){var n=r.length;if(!N.hasOwnProperty(t.name)){N[t.name]=new RegExp("^"+t.name+"(?:[\\s\\/]|$)","i")}var c=N[t.name];var l=t.next;var u=t.next+1;for(;u<n;u++){if(r[u-1]==="</"&&c.test(r[u])){break}}if(u<n){u-=1}var p=r.slice(l,u).join("");if(t.eflags&e.eflags.CDATA){if(s.cdata){s.cdata(p,o,i,A(s,r,u,a,o))}}else if(t.eflags&e.eflags.RCDATA){if(s.rcdata){s.rcdata(L(p),o,i,A(s,r,u,a,o))}}else{throw new Error("bug")}return u}function M(r,t){var s=/^(\w+)/.exec(r[t]);var i={name:o(s[1])};if(e.ELEMENTS.hasOwnProperty(i.name)){i.eflags=e.ELEMENTS[i.name]}else{i.eflags=void 0}var a=r[t].substr(s[0].length);var n=t+1;var c=r.length;for(;n<c;n++){if(r[n]===">"){break}a+=r[n]}if(c<=n){return void 0}var l=[];while(a!==""){s=P.exec(a);if(!s){a=a.replace(/^[\s\S][^a-z\s]*/,"")}else if(s[4]&&!s[5]||s[6]&&!s[7]){var u=s[4]||s[6];var p=false;var d=[a,r[n++]];for(;n<c;n++){if(p){if(r[n]===">"){break}}else if(0<=r[n].indexOf(u)){p=true}d.push(r[n])}if(c<=n){break}a=d.join("");continue}else{var f=o(s[1]);var h=s[2]?D(s[3]):f;l.push(f,h);a=a.substr(s[0].length)}}i.attrs=l;i.next=n+1;return i}function D(e){var r=e.charCodeAt(0);if(r===34||r===39){e=e.substr(1,e.length-2)}return f(p(e))}function O(r){var t;var s;var o=function(e,r){if(!s){r.push(e)}};return E({startDoc:function(e){t=[];s=false},startTag:function(o,i,a){if(s){return}if(!e.ELEMENTS.hasOwnProperty(o)){return}var n=e.ELEMENTS[o];if(n&e.eflags.FOLDABLE){return}i=r(o,i);if(!i){s=!(n&e.eflags.EMPTY);return}if(!(n&e.eflags.EMPTY)){t.push(o)}a.push("<",o);for(var c=0,l=i.length;c<l;c+=2){var u=i[c],p=i[c+1];if(p!==null&&p!==void 0){a.push(" ",u,'="',w(p),'"')}}a.push(">")},endTag:function(r,o){if(s){s=false;return}if(!e.ELEMENTS.hasOwnProperty(r)){return}var i=e.ELEMENTS[r];if(!(i&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var a;if(i&e.eflags.OPTIONAL_ENDTAG){for(a=t.length;--a>=0;){var n=t[a];if(n===r){break}if(!(e.ELEMENTS[n]&e.eflags.OPTIONAL_ENDTAG)){return}}}else{for(a=t.length;--a>=0;){if(t[a]===r){break}}}if(a<0){return}for(var c=t.length;--c>a;){var n=t[c];if(!(e.ELEMENTS[n]&e.eflags.OPTIONAL_ENDTAG)){o.push("</",n,">")}}t.length=a;o.push("</",r,">")}},pcdata:o,rcdata:o,cdata:o,endDoc:function(e){for(;t.length;t.length--){e.push("</",t[t.length-1],">")}}})}var $=new RegExp("^"+"(?:"+"([^:/?# ]+)"+":)?");var j=/^(?:https?|mailto)$/i;function I(e,r){if(!r){return null}var t=(""+e).match($);if(t&&(!t[1]||j.test(t[1]))){return r(e)}else{return null}}function _(o,i,a,n){for(var c=0;c<i.length;c+=2){var l=i[c];var u=i[c+1];var p=null,d;if((d=o+"::"+l,e.ATTRIBS.hasOwnProperty(d))||(d="*::"+l,e.ATTRIBS.hasOwnProperty(d))){p=e.ATTRIBS[d]}if(p!==null){switch(p){case e.atype.NONE:break;case e.atype.SCRIPT:u=null;break;case e.atype.STYLE:if("undefined"===typeof r){u=null;break}var f=[];r(u,{declaration:function(e,r){var o=e.toLowerCase();var i=s[o];if(!i){return}t(o,i,r,a);f.push(e+": "+r.join(" "))}});u=f.length>0?f.join(" ; "):null;break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:u=n?n(u):u;break;case e.atype.URI:u=I(u,a);break;case e.atype.URI_FRAGMENT:if(u&&"#"===u.charAt(0)){u=u.substring(1);u=n?n(u):u;if(u!==null&&u!==void 0){u="#"+u}}else{u=null}break;default:u=null;break}}else{u=null}i[c+1]=u}return i}function q(r,t){return function(s,o){if(!(e.ELEMENTS[s]&e.eflags.UNSAFE)){return _(s,o,r,t)}}}function F(e,r){var t=[];O(r)(e,t);return t.join("")}function U(e,r,t){var s=q(r,t);return F(e,s)}return{escapeAttrib:w,makeHtmlSanitizer:O,makeSaxParser:E,makeTagPolicy:q,normalizeRCData:L,sanitize:U,sanitizeAttribs:_,sanitizeWithPolicy:F,unescapeEntities:f}}(g);var v=b.sanitize;if(typeof window!=="undefined"){window["html"]=b;window["html_sanitize"]=v}})();
},
	"sap/ui/thirdparty/d3.js":function(){/*!
 * D3 v3.4.12 - http://d3js.org/
 *
 * Copyright (c) 2010-2014, Michael Bostock
 * All rights reserved.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!function(){var n={version:"3.4.12"};if(!Date.now)Date.now=function(){return+new Date};var t=[].slice,e=function(n){return t.call(n)};var r=document,i=r.documentElement,u=window;try{e(i.childNodes)[0].nodeType}catch(n){e=function(n){var t=n.length,e=new Array(t);while(t--)e[t]=n[t];return e}}try{r.createElement("div").style.setProperty("opacity",0,"")}catch(n){var o=u.Element.prototype,a=o.setAttribute,f=o.setAttributeNS,l=u.CSSStyleDeclaration.prototype,c=l.setProperty;o.setAttribute=function(n,t){a.call(this,n,t+"")};o.setAttributeNS=function(n,t,e){f.call(this,n,t,e+"")};l.setProperty=function(n,t,e){c.call(this,n,t+"",e)}}n.ascending=s;function s(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}n.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN};n.min=function(n,t){var e=-1,r=n.length,i,u;if(arguments.length===1){while(++e<r&&!((i=n[e])!=null&&i<=i))i=undefined;while(++e<r)if((u=n[e])!=null&&i>u)i=u}else{while(++e<r&&!((i=t.call(n,n[e],e))!=null&&i<=i))i=undefined;while(++e<r)if((u=t.call(n,n[e],e))!=null&&i>u)i=u}return i};n.max=function(n,t){var e=-1,r=n.length,i,u;if(arguments.length===1){while(++e<r&&!((i=n[e])!=null&&i<=i))i=undefined;while(++e<r)if((u=n[e])!=null&&u>i)i=u}else{while(++e<r&&!((i=t.call(n,n[e],e))!=null&&i<=i))i=undefined;while(++e<r)if((u=t.call(n,n[e],e))!=null&&u>i)i=u}return i};n.extent=function(n,t){var e=-1,r=n.length,i,u,o;if(arguments.length===1){while(++e<r&&!((i=o=n[e])!=null&&i<=i))i=o=undefined;while(++e<r)if((u=n[e])!=null){if(i>u)i=u;if(o<u)o=u}}else{while(++e<r&&!((i=o=t.call(n,n[e],e))!=null&&i<=i))i=undefined;while(++e<r)if((u=t.call(n,n[e],e))!=null){if(i>u)i=u;if(o<u)o=u}}return[i,o]};n.sum=function(n,t){var e=0,r=n.length,i,u=-1;if(arguments.length===1){while(++u<r)if(!isNaN(i=+n[u]))e+=i}else{while(++u<r)if(!isNaN(i=+t.call(n,n[u],u)))e+=i}return e};function h(n){return n!=null&&!isNaN(n)}n.mean=function(n,t){var e=0,r=n.length,i,u=-1,o=r;if(arguments.length===1){while(++u<r)if(h(i=n[u]))e+=i;else--o}else{while(++u<r)if(h(i=t.call(n,n[u],u)))e+=i;else--o}return o?e/o:undefined};n.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i};n.median=function(t,e){if(arguments.length>1)t=t.map(e);t=t.filter(h);return t.length?n.quantile(t.sort(s),.5):undefined};function p(n){return{left:function(t,e,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var u=r+i>>>1;if(n(t[u],e)<0)r=u+1;else i=u}return r},right:function(t,e,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var u=r+i>>>1;if(n(t[u],e)>0)i=u;else r=u+1}return r}}}var g=p(s);n.bisectLeft=g.left;n.bisect=n.bisectRight=g.right;n.bisector=function(n){return p(n.length===1?function(t,e){return s(n(t),e)}:n)};n.shuffle=function(n){var t=n.length,e,r;while(t){r=Math.random()*t--|0;e=n[t],n[t]=n[r],n[r]=e}return n};n.permute=function(n,t){var e=t.length,r=new Array(e);while(e--)r[e]=n[t[e]];return r};n.pairs=function(n){var t=0,e=n.length-1,r,i=n[0],u=new Array(e<0?0:e);while(t<e)u[t]=[r=i,i=n[++t]];return u};n.zip=function(){if(!(u=arguments.length))return[];for(var t=-1,e=n.min(arguments,v),r=new Array(e);++t<e;){for(var i=-1,u,o=r[t]=new Array(u);++i<u;){o[i]=arguments[i][t]}}return r};function v(n){return n.length}n.transpose=function(t){return n.zip.apply(n,t)};n.keys=function(n){var t=[];for(var e in n)t.push(e);return t};n.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t};n.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t};n.merge=function(n){var t=n.length,e,r=-1,i=0,u,o;while(++r<t)i+=n[r].length;u=new Array(i);while(--t>=0){o=n[t];e=o.length;while(--e>=0){u[--i]=o[e]}}return u};var d=Math.abs;n.range=function(n,t,e){if(arguments.length<3){e=1;if(arguments.length<2){t=n;n=0}}if((t-n)/e===Infinity)throw new Error("infinite range");var r=[],i=y(d(e)),u=-1,o;n*=i,t*=i,e*=i;if(e<0)while((o=n+e*++u)>t)r.push(o/i);else while((o=n+e*++u)<t)r.push(o/i);return r};function y(n){var t=1;while(n*t%1)t*=10;return t}function m(n,t){try{for(var e in t){Object.defineProperty(n.prototype,e,{value:t[e],enumerable:false})}}catch(e){n.prototype=t}}n.map=function(n){var t=new x;if(n instanceof x)n.forEach(function(n,e){t.set(n,e)});else for(var e in n)t.set(e,n[e]);return t};function x(){}m(x,{has:_,get:function(n){return this[M+n]},set:function(n,t){return this[M+n]=t},remove:b,keys:S,values:function(){var n=[];this.forEach(function(t,e){n.push(e)});return n},entries:function(){var n=[];this.forEach(function(t,e){n.push({key:t,value:e})});return n},size:k,empty:N,forEach:function(n){for(var t in this)if(t.charCodeAt(0)===w)n.call(this,t.slice(1),this[t])}});var M="\0",w=M.charCodeAt(0);function _(n){return M+n in this}function b(n){n=M+n;return n in this&&delete this[n]}function S(){var n=[];this.forEach(function(t){n.push(t)});return n}function k(){var n=0;for(var t in this)if(t.charCodeAt(0)===w)++n;return n}function N(){for(var n in this)if(n.charCodeAt(0)===w)return false;return true}n.nest=function(){var t={},e=[],r=[],i,u;function o(n,r,a){if(a>=e.length)return u?u.call(t,r):i?r.sort(i):r;var f=-1,l=r.length,c=e[a++],s,h,p,g=new x,v;while(++f<l){if(v=g.get(s=c(h=r[f]))){v.push(h)}else{g.set(s,[h])}}if(n){h=n();p=function(t,e){h.set(t,o(n,e,a))}}else{h={};p=function(t,e){h[t]=o(n,e,a)}}g.forEach(p);return h}function a(n,t){if(t>=e.length)return n;var i=[],u=r[t++];n.forEach(function(n,e){i.push({key:n,values:a(e,t)})});return u?i.sort(function(n,t){return u(n.key,t.key)}):i}t.map=function(n,t){return o(t,n,0)};t.entries=function(t){return a(o(n.map,t,0),0)};t.key=function(n){e.push(n);return t};t.sortKeys=function(n){r[e.length-1]=n;return t};t.sortValues=function(n){i=n;return t};t.rollup=function(n){u=n;return t};return t};n.set=function(n){var t=new E;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t};function E(){}m(E,{has:_,add:function(n){this[M+n]=true;return n},remove:function(n){n=M+n;return n in this&&delete this[n]},values:S,size:k,empty:N,forEach:function(n){for(var t in this)if(t.charCodeAt(0)===w)n.call(this,t.slice(1))}});n.behavior={};n.rebind=function(n,t){var e=1,r=arguments.length,i;while(++e<r)n[i=arguments[e]]=A(n,t,t[i]);return n};function A(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function C(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=z.length;e<r;++e){var i=z[e]+t;if(i in n)return i}}var z=["webkit","ms","moz","Moz","o","O"];function L(){}n.dispatch=function(){var n=new T,t=-1,e=arguments.length;while(++t<e)n[arguments[t]]=q(n);return n};function T(){}T.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0){r=n.slice(e+1);n=n.slice(0,e)}if(n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(arguments.length===2){if(t==null)for(n in this){if(this.hasOwnProperty(n))this[n].on(r,null)}return this}};function q(n){var t=[],e=new x;function r(){var e=t,r=-1,i=e.length,u;while(++r<i)if(u=e[r].on)u.apply(this,arguments);return n}r.on=function(r,i){var u=e.get(r),o;if(arguments.length<2)return u&&u.on;if(u){u.on=null;t=t.slice(0,o=t.indexOf(u)).concat(t.slice(o+1));e.remove(r)}if(i)t.push(e.set(r,{on:i}));return n};return r}n.event=null;function R(){n.event.preventDefault()}function D(){var t=n.event,e;while(e=t.sourceEvent)t=e;return t}function P(t){var e=new T,r=0,i=arguments.length;while(++r<i)e[arguments[r]]=q(e);e.of=function(r,i){return function(u){try{var o=u.sourceEvent=n.event;u.target=t;n.event=u;e[u.type].apply(r,i)}finally{n.event=o}}};return e}n.requote=function(n){return n.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var j={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]};function I(n){j(n,Z);return n}var H=function(n,t){return t.querySelector(n)},F=function(n,t){return t.querySelectorAll(n)},O=i.matches||i[C(i,"matchesSelector")],Y=function(n,t){return O.call(n,t)};if(typeof Sizzle==="function"){H=function(n,t){return Sizzle(n,t)[0]||null};F=Sizzle;Y=Sizzle.matchesSelector}n.selection=function(){return hn};var Z=n.selection.prototype=[];Z.select=function(n){var t=[],e,r,i,u;n=V(n);for(var o=-1,a=this.length;++o<a;){t.push(e=[]);e.parentNode=(i=this[o]).parentNode;for(var f=-1,l=i.length;++f<l;){if(u=i[f]){e.push(r=n.call(u,u.__data__,f,o));if(r&&"__data__"in u)r.__data__=u.__data__}else{e.push(null)}}}return I(t)};function V(n){return typeof n==="function"?n:function(){return H(n,this)}}Z.selectAll=function(n){var t=[],r,i;n=X(n);for(var u=-1,o=this.length;++u<o;){for(var a=this[u],f=-1,l=a.length;++f<l;){if(i=a[f]){t.push(r=e(n.call(i,i.__data__,f,u)));r.parentNode=i}}}return I(t)};function X(n){return typeof n==="function"?n:function(){return F(n,this)}}var $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:$,qualify:function(n){var t=n.indexOf(":"),e=n;if(t>=0){e=n.slice(0,t);n=n.slice(t+1)}return $.hasOwnProperty(e)?{space:$[e],local:n}:n}};Z.attr=function(t,e){if(arguments.length<2){if(typeof t==="string"){var r=this.node();t=n.ns.qualify(t);return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(e in t)this.each(B(e,t[e]));return this}return this.each(B(t,e))};function B(t,e){t=n.ns.qualify(t);function r(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function u(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);if(n==null)this.removeAttribute(t);else this.setAttribute(t,n)}function f(){var n=e.apply(this,arguments);if(n==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,n)}return e==null?t.local?i:r:typeof e==="function"?t.local?f:a:t.local?o:u}function W(n){return n.trim().replace(/\s+/g," ")}Z.classed=function(n,t){if(arguments.length<2){if(typeof n==="string"){var e=this.node(),r=(n=G(n)).length,i=-1;if(t=e.classList){while(++i<r)if(!t.contains(n[i]))return false}else{t=e.getAttribute("class");while(++i<r)if(!J(n[i]).test(t))return false}return true}for(t in n)this.each(K(t,n[t]));return this}return this.each(K(n,t))};function J(t){return new RegExp("(?:^|\\s+)"+n.requote(t)+"(?:\\s+|$)","g")}function G(n){return(n+"").trim().split(/^|\s+/)}function K(n,t){n=G(n).map(Q);var e=n.length;function r(){var r=-1;while(++r<e)n[r](this,t)}function i(){var r=-1,i=t.apply(this,arguments);while(++r<e)n[r](this,i)}return typeof t==="function"?i:r}function Q(n){var t=J(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";if(r){t.lastIndex=0;if(!t.test(i))e.setAttribute("class",W(i+" "+n))}else{e.setAttribute("class",W(i.replace(t," ")))}}}Z.style=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=="string"){if(r<2)t="";for(e in n)this.each(nn(e,n[e],t));return this}if(r<2)return u.getComputedStyle(this.node(),null).getPropertyValue(n);e=""}return this.each(nn(n,t,e))};function nn(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);if(r==null)this.style.removeProperty(n);else this.style.setProperty(n,r,e)}return t==null?r:typeof t==="function"?u:i}Z.property=function(n,t){if(arguments.length<2){if(typeof n==="string")return this.node()[n];for(t in n)this.each(tn(t,n[t]));return this}return this.each(tn(n,t))};function tn(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);if(e==null)delete this[n];else this[n]=e}return t==null?e:typeof t==="function"?i:r}Z.text=function(n){return arguments.length?this.each(typeof n==="function"?function(){var t=n.apply(this,arguments);this.textContent=t==null?"":t}:n==null?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent};Z.html=function(n){return arguments.length?this.each(typeof n==="function"?function(){var t=n.apply(this,arguments);this.innerHTML=t==null?"":t}:n==null?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML};Z.append=function(n){n=en(n);return this.select(function(){return this.appendChild(n.apply(this,arguments))})};function en(t){return typeof t==="function"?t:(t=n.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}Z.insert=function(n,t){n=en(n);t=V(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})};Z.remove=function(){return this.each(function(){var n=this.parentNode;if(n)n.removeChild(this)})};Z.data=function(n,t){var e=-1,r=this.length,i,u;if(!arguments.length){n=new Array(r=(i=this[0]).length);while(++e<r){if(u=i[e]){n[e]=u.__data__}}return n}function o(n,e){var r,i=n.length,u=e.length,o=Math.min(i,u),c=new Array(u),s=new Array(u),h=new Array(i),p,g;if(t){var v=new x,d=new x,y=[],m;for(r=-1;++r<i;){m=t.call(p=n[r],p.__data__,r);if(v.has(m)){h[r]=p}else{v.set(m,p)}y.push(m)}for(r=-1;++r<u;){m=t.call(e,g=e[r],r);if(p=v.get(m)){c[r]=p;p.__data__=g}else if(!d.has(m)){s[r]=rn(g)}d.set(m,g);v.remove(m)}for(r=-1;++r<i;){if(v.has(y[r])){h[r]=n[r]}}}else{for(r=-1;++r<o;){p=n[r];g=e[r];if(p){p.__data__=g;c[r]=p}else{s[r]=rn(g)}}for(;r<u;++r){s[r]=rn(e[r])}for(;r<i;++r){h[r]=n[r]}}s.update=c;s.parentNode=c.parentNode=h.parentNode=n.parentNode;a.push(s);f.push(c);l.push(h)}var a=fn([]),f=I([]),l=I([]);if(typeof n==="function"){while(++e<r){o(i=this[e],n.call(i,i.parentNode.__data__,e))}}else{while(++e<r){o(i=this[e],n)}}f.enter=function(){return a};f.exit=function(){return l};return f};function rn(n){return{__data__:n}}Z.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")};Z.filter=function(n){var t=[],e,r,i;if(typeof n!=="function")n=un(n);for(var u=0,o=this.length;u<o;u++){t.push(e=[]);e.parentNode=(r=this[u]).parentNode;for(var a=0,f=r.length;a<f;a++){if((i=r[a])&&n.call(i,i.__data__,a,u)){e.push(i)}}}return I(t)};function un(n){return function(){return Y(this,n)}}Z.order=function(){for(var n=-1,t=this.length;++n<t;){for(var e=this[n],r=e.length-1,i=e[r],u;--r>=0;){if(u=e[r]){if(i&&i!==u.nextSibling)i.parentNode.insertBefore(u,i);i=u}}}return this};Z.sort=function(n){n=on.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()};function on(n){if(!arguments.length)n=s;return function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}Z.each=function(n){return an(this,function(t,e,r){n.call(t,t.__data__,e,r)})};function an(n,t){for(var e=0,r=n.length;e<r;e++){for(var i=n[e],u=0,o=i.length,a;u<o;u++){if(a=i[u])t(a,u,e)}}return n}Z.call=function(n){var t=e(arguments);n.apply(t[0]=this,t);return this};Z.empty=function(){return!this.node()};Z.node=function(){for(var n=0,t=this.length;n<t;n++){for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}}return null};Z.size=function(){var n=0;an(this,function(){++n});return n};function fn(n){j(n,ln);return n}var ln=[];n.selection.enter=fn;n.selection.enter.prototype=ln;ln.append=Z.append;ln.empty=Z.empty;ln.node=Z.node;ln.call=Z.call;ln.size=Z.size;ln.select=function(n){var t=[],e,r,i,u,o;for(var a=-1,f=this.length;++a<f;){i=(u=this[a]).update;t.push(e=[]);e.parentNode=u.parentNode;for(var l=-1,c=u.length;++l<c;){if(o=u[l]){e.push(i[l]=r=n.call(u.parentNode,o.__data__,l,a));r.__data__=o.__data__}else{e.push(null)}}}return I(t)};ln.insert=function(n,t){if(arguments.length<2)t=cn(this);return Z.insert.call(this,n,t)};function cn(n){var t,e;return function(r,i,u){var o=n[u].update,a=o.length,f;if(u!=e)e=u,t=0;if(i>=t)t=i+1;while(!(f=o[t])&&++t<a);return f}}Z.transition=function(){var n=xf||++mf,t=[],e,r,i=Mf||{time:Date.now(),ease:Lu,delay:0,duration:250};for(var u=-1,o=this.length;++u<o;){t.push(e=[]);for(var a=this[u],f=-1,l=a.length;++f<l;){if(r=a[f])bf(r,f,n,i);e.push(r)}}return df(t,n)};Z.interrupt=function(){return this.each(sn)};function sn(){var n=this.__transition__;if(n)++n.active}n.select=function(n){var t=[typeof n==="string"?H(n,r):n];t.parentNode=i;return I([t])};n.selectAll=function(n){var t=e(typeof n==="string"?F(n,r):n);t.parentNode=i;return I([t])};var hn=n.select(i);Z.on=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=="string"){if(r<2)t=false;for(e in n)this.each(pn(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=false}return this.each(pn(n,t,e))};function pn(t,r,i){var u="__on"+t,o=t.indexOf("."),a=vn;if(o>0)t=t.slice(0,o);var f=gn.get(t);if(f)t=f,a=dn;function l(){var n=this[u];if(n){this.removeEventListener(t,n,n.$);delete this[u]}}function c(){var n=a(r,e(arguments));l.call(this);this.addEventListener(t,this[u]=n,n.$=i);n._=r}function s(){var e=new RegExp("^__on([^.]+)"+n.requote(t)+"$"),r;for(var i in this){if(r=i.match(e)){var u=this[i];this.removeEventListener(r[1],u,u.$);delete this[i]}}}return o?r?c:l:r?L:s}var gn=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});gn.forEach(function(n){if("on"+n in r)gn.remove(n)});function vn(t,e){return function(r){var i=n.event;n.event=r;e[0]=this.__data__;try{t.apply(this,e)}finally{n.event=i}}}function dn(n,t){var e=vn(n,t);return function(n){var t=this,r=n.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){e.call(t,n)}}}var yn="onselectstart"in r?null:C(i.style,"userSelect"),mn=0;function xn(){var t=".dragsuppress-"+ ++mn,e="click"+t,r=n.select(u).on("touchmove"+t,R).on("dragstart"+t,R).on("selectstart"+t,R);if(yn){var o=i.style,a=o[yn];o[yn]="none"}return function(n){r.on(t,null);if(yn)o[yn]=a;if(n){function i(){r.on(e,null)}r.on(e,function(){R();i()},true);setTimeout(i,0)}}}n.mouse=function(n){return wn(n,D())};var Mn=/WebKit/.test(u.navigator.userAgent)?-1:0;function wn(t,e){if(e.changedTouches)e=e.changedTouches[0];var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(Mn<0&&(u.scrollX||u.scrollY)){r=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Mn=!(o.f||o.e);r.remove()}if(Mn)i.x=e.pageX,i.y=e.pageY;else i.x=e.clientX,i.y=e.clientY;i=i.matrixTransform(t.getScreenCTM().inverse());return[i.x,i.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}n.touch=function(n,t,e){if(arguments.length<3)e=t,t=D().changedTouches;if(t)for(var r=0,i=t.length,u;r<i;++r){if((u=t[r]).identifier===e){return wn(n,u)}}};n.behavior.drag=function(){var t=P(u,"drag","dragstart","dragend"),e=null,r=o(L,n.mouse,Sn,"mousemove","mouseup"),i=o(_n,n.touch,bn,"touchmove","touchend");function u(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,u,o,a){return function(){var f=this,l=n.event.target,c=f.parentNode,s=t.of(f,arguments),h=0,p=r(),g=".drag"+(p==null?"":"-"+p),v,d=n.select(u()).on(o+g,x).on(a+g,M),y=xn(),m=i(c,p);if(e){v=e.apply(f,arguments);v=[v.x-m[0],v.y-m[1]]}else{v=[0,0]}s({type:"dragstart"});function x(){var n=i(c,p),t,e;if(!n)return;t=n[0]-m[0];e=n[1]-m[1];h|=t|e;m=n;s({type:"drag",x:n[0]+v[0],y:n[1]+v[1],dx:t,dy:e})}function M(){if(!i(c,p))return;d.on(o+g,null).on(a+g,null);y(h&&n.event.target===l);s({type:"dragend"})}}}u.origin=function(n){if(!arguments.length)return e;e=n;return u};return n.rebind(u,t,"on")};function _n(){return n.event.changedTouches[0].identifier}function bn(){return n.event.target}function Sn(){return u}n.touches=function(n,t){if(arguments.length<2)t=D().touches;return t?e(t).map(function(t){var e=wn(n,t);e.identifier=t.identifier;return e}):[]};var kn=Math.PI,Nn=2*kn,En=kn/2,An=1e-6,Cn=An*An,zn=kn/180,Ln=180/kn;function Tn(n){return n>0?1:n<0?-1:0}function qn(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function Rn(n){return n>1?0:n<-1?kn:Math.acos(n)}function Dn(n){return n>1?En:n<-1?-En:Math.asin(n)}function Pn(n){return((n=Math.exp(n))-1/n)/2}function Un(n){return((n=Math.exp(n))+1/n)/2}function jn(n){return((n=Math.exp(2*n))-1)/(n+1)}function In(n){return(n=Math.sin(n/2))*n}var Hn=Math.SQRT2,Fn=2,On=4;n.interpolateZoom=function(n,t){var e=n[0],r=n[1],i=n[2],u=t[0],o=t[1],a=t[2];var f=u-e,l=o-r,c=f*f+l*l,s=Math.sqrt(c),h=(a*a-i*i+On*c)/(2*i*Fn*s),p=(a*a-i*i-On*c)/(2*a*Fn*s),g=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(p*p+1)-p),d=v-g,y=(d||Math.log(a/i))/Hn;function m(n){var t=n*y;if(d){var u=Un(g),o=i/(Fn*s)*(u*jn(Hn*t+g)-Pn(g));return[e+o*f,r+o*l,i*u/Un(Hn*t+g)]}return[e+n*f,r+n*l,i*Math.exp(Hn*t)]}m.duration=y*1e3;return m};n.behavior.zoom=function(){var t={x:0,y:0,k:1},e,r,i,o=[960,500],a=Yn,f="mousedown.zoom",l="mousemove.zoom",c="mouseup.zoom",s,h="touchstart.zoom",p,g=P(x,"zoomstart","zoom","zoomend"),v,d,y,m;function x(n){n.on(f,A).on(Vn+".zoom",z).on("dblclick.zoom",L).on(h,C)}x.event=function(e){e.each(function(){var e=g.of(this,arguments),r=t;if(xf){n.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1};k(e)}).tween("zoom:zoom",function(){var i=o[0],u=o[1],a=i/2,f=u/2,l=n.interpolateZoom([(a-t.x)/t.k,(f-t.y)/t.k,i/t.k],[(a-r.x)/r.k,(f-r.y)/r.k,i/r.k]);return function(n){var r=l(n),u=i/r[2];this.__chart__=t={x:a-r[0]*u,y:f-r[1]*u,k:u};N(e)}}).each("end.zoom",function(){E(e)})}else{this.__chart__=t;k(e);N(e);E(e)}})};x.translate=function(n){if(!arguments.length)return[t.x,t.y];t={x:+n[0],y:+n[1],k:t.k};S();return x};x.scale=function(n){if(!arguments.length)return t.k;t={x:t.x,y:t.y,k:+n};S();return x};x.scaleExtent=function(n){if(!arguments.length)return a;a=n==null?Yn:[+n[0],+n[1]];return x};x.center=function(n){if(!arguments.length)return i;i=n&&[+n[0],+n[1]];return x};x.size=function(n){if(!arguments.length)return o;o=n&&[+n[0],+n[1]];return x};x.x=function(n){if(!arguments.length)return d;d=n;v=n.copy();t={x:0,y:0,k:1};return x};x.y=function(n){if(!arguments.length)return m;m=n;y=n.copy();t={x:0,y:0,k:1};return x};function M(n){return[(n[0]-t.x)/t.k,(n[1]-t.y)/t.k]}function w(n){return[n[0]*t.k+t.x,n[1]*t.k+t.y]}function _(n){t.k=Math.max(a[0],Math.min(a[1],n))}function b(n,e){e=w(e);t.x+=n[0]-e[0];t.y+=n[1]-e[1]}function S(){if(d)d.domain(v.range().map(function(n){return(n-t.x)/t.k}).map(v.invert));if(m)m.domain(y.range().map(function(n){return(n-t.y)/t.k}).map(y.invert))}function k(n){n({type:"zoomstart"})}function N(n){S();n({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function E(n){n({type:"zoomend"})}function A(){var t=this,e=n.event.target,r=g.of(t,arguments),i=0,o=n.select(u).on(l,s).on(c,h),a=M(n.mouse(t)),f=xn();sn.call(t);k(r);function s(){i=1;b(n.mouse(t),a);N(r)}function h(){o.on(l,null).on(c,null);f(i&&n.event.target===e);E(r)}}function C(){var e=this,r=g.of(e,arguments),i={},u=0,o,a=".zoom-"+n.event.changedTouches[0].identifier,l="touchmove"+a,c="touchend"+a,s=[],v=n.select(e),d=xn();sn.call(e);m();k(r);v.on(f,null).on(h,m);function y(){var r=n.touches(e);o=t.k;r.forEach(function(n){if(n.identifier in i)i[n.identifier]=M(n)});return r}function m(){var e=n.event.target;n.select(e).on(l,x).on(c,w);s.push(e);var o=n.event.changedTouches;for(var a=0,f=o.length;a<f;++a){i[o[a].identifier]=null}var h=y(),g=Date.now();if(h.length===1){if(g-p<500){var v=h[0],d=i[v.identifier];_(t.k*2);b(v,d);R();N(r)}p=g}else if(h.length>1){var v=h[0],m=h[1],M=v[0]-m[0],S=v[1]-m[1];u=M*M+S*S}}function x(){var t=n.touches(e),a,f,l,c;for(var s=0,h=t.length;s<h;++s,c=null){l=t[s];if(c=i[l.identifier]){if(f)break;a=l,f=c}}if(c){var g=(g=l[0]-a[0])*g+(g=l[1]-a[1])*g,v=u&&Math.sqrt(g/u);a=[(a[0]+l[0])/2,(a[1]+l[1])/2];f=[(f[0]+c[0])/2,(f[1]+c[1])/2];_(v*o)}p=null;b(a,f);N(r)}function w(){if(n.event.touches.length){var t=n.event.changedTouches;for(var e=0,u=t.length;e<u;++e){delete i[t[e].identifier]}for(var o in i){return void y()}}n.selectAll(s).on(a,null);v.on(f,A).on(h,C);d();E(r)}}function z(){var u=g.of(this,arguments);if(s)clearTimeout(s);else e=M(r=i||n.mouse(this)),sn.call(this),k(u);s=setTimeout(function(){s=null;E(u)},50);R();_(Math.pow(2,Zn()*.002)*t.k);b(r,e);N(u)}function L(){var e=g.of(this,arguments),r=n.mouse(this),i=M(r),u=Math.log(t.k)/Math.LN2;k(e);_(Math.pow(2,n.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1));b(r,i);N(e);E(e)}return n.rebind(x,g,"on")};var Yn=[0,Infinity];var Zn,Vn="onwheel"in r?(Zn=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(Zn=function(){return n.event.wheelDelta},"mousewheel"):(Zn=function(){return-n.event.detail},"MozMousePixelScroll");n.color=Xn;function Xn(){}Xn.prototype.toString=function(){return this.rgb()+""};n.hsl=$n;function $n(n,t,e){return this instanceof $n?void(this.h=+n,this.s=+t,this.l=+e):arguments.length<2?n instanceof $n?new $n(n.h,n.s,n.l):vt(""+n,dt,$n):new $n(n,t,e)}var Bn=$n.prototype=new Xn;Bn.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);return new $n(this.h,this.s,this.l/n)};Bn.darker=function(n){n=Math.pow(.7,arguments.length?n:1);return new $n(this.h,this.s,n*this.l)};Bn.rgb=function(){return Wn(this.h,this.s,this.l)};function Wn(n,t,e){var r,i;n=isNaN(n)?0:(n%=360)<0?n+360:n;t=isNaN(t)?0:t<0?0:t>1?1:t;e=e<0?0:e>1?1:e;i=e<=.5?e*(1+t):e+t-e*t;r=2*e-i;function u(n){if(n>360)n-=360;else if(n<0)n+=360;if(n<60)return r+(i-r)*n/60;if(n<180)return i;if(n<240)return r+(i-r)*(240-n)/60;return r}function o(n){return Math.round(u(n)*255)}return new ct(o(n+120),o(n),o(n-120))}n.hcl=Jn;function Jn(t,e,r){return this instanceof Jn?void(this.h=+t,this.c=+e,this.l=+r):arguments.length<2?t instanceof Jn?new Jn(t.h,t.c,t.l):t instanceof Qn?ot(t.l,t.a,t.b):ot((t=yt((t=n.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Jn(t,e,r)}var Gn=Jn.prototype=new Xn;Gn.brighter=function(n){return new Jn(this.h,this.c,Math.min(100,this.l+nt*(arguments.length?n:1)))};Gn.darker=function(n){return new Jn(this.h,this.c,Math.max(0,this.l-nt*(arguments.length?n:1)))};Gn.rgb=function(){return Kn(this.h,this.c,this.l).rgb()};function Kn(n,t,e){if(isNaN(n))n=0;if(isNaN(t))t=0;return new Qn(e,Math.cos(n*=zn)*t,Math.sin(n)*t)}n.lab=Qn;function Qn(n,t,e){return this instanceof Qn?void(this.l=+n,this.a=+t,this.b=+e):arguments.length<2?n instanceof Qn?new Qn(n.l,n.a,n.b):n instanceof Jn?Kn(n.l,n.c,n.h):yt((n=ct(n)).r,n.g,n.b):new Qn(n,t,e)}var nt=18;var tt=.95047,et=1,rt=1.08883;var it=Qn.prototype=new Xn;it.brighter=function(n){return new Qn(Math.min(100,this.l+nt*(arguments.length?n:1)),this.a,this.b)};it.darker=function(n){return new Qn(Math.max(0,this.l-nt*(arguments.length?n:1)),this.a,this.b)};it.rgb=function(){return ut(this.l,this.a,this.b)};function ut(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;i=at(i)*tt;r=at(r)*et;u=at(u)*rt;return new ct(lt(3.2404542*i-1.5371385*r-.4985314*u),lt(-.969266*i+1.8760108*r+.041556*u),lt(.0556434*i-.2040259*r+1.0572252*u))}function ot(n,t,e){return n>0?new Jn(Math.atan2(e,t)*Ln,Math.sqrt(t*t+e*e),n):new Jn(NaN,NaN,n)}function at(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function ft(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function lt(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}n.rgb=ct;function ct(n,t,e){return this instanceof ct?void(this.r=~~n,this.g=~~t,this.b=~~e):arguments.length<2?n instanceof ct?new ct(n.r,n.g,n.b):vt(""+n,ct,Wn):new ct(n,t,e)}function st(n){return new ct(n>>16,n>>8&255,n&255)}function ht(n){return st(n)+""}var pt=ct.prototype=new Xn;pt.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;if(!t&&!e&&!r)return new ct(i,i,i);if(t&&t<i)t=i;if(e&&e<i)e=i;if(r&&r<i)r=i;return new ct(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))};pt.darker=function(n){n=Math.pow(.7,arguments.length?n:1);return new ct(n*this.r,n*this.g,n*this.b)};pt.hsl=function(){return dt(this.r,this.g,this.b)};pt.toString=function(){return"#"+gt(this.r)+gt(this.g)+gt(this.b)};function gt(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function vt(n,t,e){var r=0,i=0,u=0,o,a,f;o=/([a-z]+)\((.*)\)/i.exec(n);if(o){a=o[2].split(",");switch(o[1]){case"hsl":{return e(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100)}case"rgb":{return t(xt(a[0]),xt(a[1]),xt(a[2]))}}}if(f=Mt.get(n))return t(f.r,f.g,f.b);if(n!=null&&n.charAt(0)==="#"&&!isNaN(f=parseInt(n.slice(1),16))){if(n.length===4){r=(f&3840)>>4;r=r>>4|r;i=f&240;i=i>>4|i;u=f&15;u=u<<4|u}else if(n.length===7){r=(f&16711680)>>16;i=(f&65280)>>8;u=f&255}}return t(r,i,u)}function dt(n,t,e){var r=Math.min(n/=255,t/=255,e/=255),i=Math.max(n,t,e),u=i-r,o,a,f=(i+r)/2;if(u){a=f<.5?u/(i+r):u/(2-i-r);if(n==i)o=(t-e)/u+(t<e?6:0);else if(t==i)o=(e-n)/u+2;else o=(n-t)/u+4;o*=60}else{o=NaN;a=f>0&&f<1?0:o}return new $n(o,a,f)}function yt(n,t,e){n=mt(n);t=mt(t);e=mt(e);var r=ft((.4124564*n+.3575761*t+.1804375*e)/tt),i=ft((.2126729*n+.7151522*t+.072175*e)/et),u=ft((.0193339*n+.119192*t+.9503041*e)/rt);return Qn(116*i-16,500*(r-i),200*(i-u))}function mt(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function xt(n){var t=parseFloat(n);return n.charAt(n.length-1)==="%"?Math.round(t*2.55):t}var Mt=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Mt.forEach(function(n,t){Mt.set(n,st(t))});function wt(n){return typeof n==="function"?n:function(){return n}}n.functor=wt;function _t(n){return n}n.xhr=bt(_t);function bt(n){return function(t,e,r){if(arguments.length===2&&typeof e==="function")r=e,e=null;return St(t,e,n,r)}}function St(t,r,i,o){var a={},f=n.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,s=null;if(u.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(t))c=new XDomainRequest;"onload"in c?c.onload=c.onerror=h:c.onreadystatechange=function(){c.readyState>3&&h()};function h(){var n=c.status,t;if(!n&&Nt(c)||n>=200&&n<300||n===304){try{t=i.call(a,c)}catch(n){f.error.call(a,n);return}f.load.call(a,t)}else{f.error.call(a,c)}}c.onprogress=function(t){var e=n.event;n.event=t;try{f.progress.call(a,c)}finally{n.event=e}};a.header=function(n,t){n=(n+"").toLowerCase();if(arguments.length<2)return l[n];if(t==null)delete l[n];else l[n]=t+"";return a};a.mimeType=function(n){if(!arguments.length)return r;r=n==null?null:n+"";return a};a.responseType=function(n){if(!arguments.length)return s;s=n;return a};a.response=function(n){i=n;return a};["get","post"].forEach(function(n){a[n]=function(){return a.send.apply(a,[n].concat(e(arguments)))}});a.send=function(n,e,i){if(arguments.length===2&&typeof e==="function")i=e,e=null;c.open(n,t,true);if(r!=null&&!("accept"in l))l["accept"]=r+",*/*";if(c.setRequestHeader)for(var u in l)c.setRequestHeader(u,l[u]);if(r!=null&&c.overrideMimeType)c.overrideMimeType(r);if(s!=null)c.responseType=s;if(i!=null)a.on("error",i).on("load",function(n){i(null,n)});f.beforesend.call(a,c);c.send(e==null?null:e);return a};a.abort=function(){c.abort();return a};n.rebind(a,f,"on");return o==null?a:a.get(kt(o))}function kt(n){return n.length===1?function(t,e){n(t==null?e:null)}:n}function Nt(n){var t=n.responseType;return t&&t!=="text"?n.response:n.responseText}n.dsv=function(n,t){var e=new RegExp('["'+n+"\n]"),r=n.charCodeAt(0);function i(n,e,r){if(arguments.length<3)r=e,e=null;var i=St(n,t,e==null?u:o(e),r);i.row=function(n){return arguments.length?i.response((e=n)==null?u:o(n)):e};return i}function u(n){return i.parse(n.responseText)}function o(n){return function(t){return i.parse(t.responseText,n)}}i.parse=function(n,t){var e;return i.parseRows(n,function(n,r){if(e)return e(n,r-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");e=t?function(n,e){return t(i(n),e)}:i})};i.parseRows=function(n,t){var e={},i={},u=[],o=n.length,a=0,f=0,l,c;function s(){if(a>=o)return i;if(c)return c=false,e;var t=a;if(n.charCodeAt(t)===34){var u=t;while(u++<o){if(n.charCodeAt(u)===34){if(n.charCodeAt(u+1)!==34)break;++u}}a=u+2;var f=n.charCodeAt(u+1);if(f===13){c=true;if(n.charCodeAt(u+2)===10)++a}else if(f===10){c=true}return n.slice(t+1,u).replace(/""/g,'"')}while(a<o){var f=n.charCodeAt(a++),l=1;if(f===10)c=true;else if(f===13){c=true;if(n.charCodeAt(a)===10)++a,++l}else if(f!==r)continue;return n.slice(t,a-l)}return n.slice(t)}while((l=s())!==i){var h=[];while(l!==e&&l!==i){h.push(l);l=s()}if(t&&!(h=t(h,f++)))continue;u.push(h)}return u};i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var e=new E,r=[];t.forEach(function(n){for(var t in n){if(!e.has(t)){r.push(e.add(t))}}});return[r.map(f).join(n)].concat(t.map(function(t){return r.map(function(n){return f(t[n])}).join(n)})).join("\n")};i.formatRows=function(n){return n.map(a).join("\n")};function a(t){return t.map(f).join(n)}function f(n){return e.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}return i};n.csv=n.dsv(",","text/csv");n.tsv=n.dsv("\t","text/tab-separated-values");var Et,At,Ct,zt,Lt,Tt=u[C(u,"requestAnimationFrame")]||function(n){setTimeout(n,17)};n.timer=function(n,t,e){var r=arguments.length;if(r<2)t=0;if(r<3)e=Date.now();var i=e+t,u={c:n,t:i,f:false,n:null};if(At)At.n=u;else Et=u;At=u;if(!Ct){zt=clearTimeout(zt);Ct=1;Tt(qt)}};function qt(){var n=Rt(),t=Dt()-n;if(t>24){if(isFinite(t)){clearTimeout(zt);zt=setTimeout(qt,t)}Ct=0}else{Ct=1;Tt(qt)}}n.timer.flush=function(){Rt();Dt()};function Rt(){var n=Date.now();Lt=Et;while(Lt){if(n>=Lt.t)Lt.f=Lt.c(n-Lt.t);Lt=Lt.n}return n}function Dt(){var n,t=Et,e=Infinity;while(t){if(t.f){t=n?n.n=t.n:Et=t.n}else{if(t.t<e)e=t.t;t=(n=t).n}}At=n;return e}function Pt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}n.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Ut=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(jt);n.formatPrefix=function(t,e){var r=0;if(t){if(t<0)t*=-1;if(e)t=n.round(t,Pt(t,e));r=1+Math.floor(1e-12+Math.log(t)/Math.LN10);r=Math.max(-24,Math.min(24,Math.floor((r-1)/3)*3))}return Ut[8+r/3]};function jt(n,t){var e=Math.pow(10,d(8-t)*3);return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function It(t){var e=t.decimal,r=t.thousands,i=t.grouping,u=t.currency,o=i?function(n){var t=n.length,e=[],u=0,o=i[0];while(o>0&&t>0){e.push(n.substring(t-=o,t+o));o=i[u=(u+1)%i.length]}return e.reverse().join(r)}:_t;return function(t){var r=Ht.exec(t),i=r[1]||" ",a=r[2]||">",f=r[3]||"",l=r[4]||"",c=r[5],s=+r[6],h=r[7],p=r[8],g=r[9],v=1,d="",y="",m=false;if(p)p=+p.substring(1);if(c||i==="0"&&a==="="){c=i="0";a="=";if(h)s-=Math.floor((s-1)/4)}switch(g){case"n":h=true;g="g";break;case"%":v=100;y="%";g="f";break;case"p":v=100;y="%";g="r";break;case"b":case"o":case"x":case"X":if(l==="#")d="0"+g.toLowerCase();case"c":case"d":m=true;p=0;break;case"s":v=-1;g="r";break}if(l==="$")d=u[0],y=u[1];if(g=="r"&&!p)g="g";if(p!=null){if(g=="g")p=Math.max(1,Math.min(21,p));else if(g=="e"||g=="f")p=Math.max(0,Math.min(20,p))}g=Ft.get(g)||Ot;var x=c&&h;return function(t){var r=y;if(m&&t%1)return"";var u=t<0||t===0&&1/t<0?(t=-t,"-"):f;if(v<0){var l=n.formatPrefix(t,p);t=l.scale(t);r=l.symbol+y}else{t*=v}t=g(t,p);var M=t.lastIndexOf("."),w=M<0?t:t.substring(0,M),_=M<0?"":e+t.substring(M+1);if(!c&&h)w=o(w);var b=d.length+w.length+_.length+(x?0:u.length),S=b<s?new Array(b=s-b+1).join(i):"";if(x)w=o(S+w);u+=d;t=w+_;return(a==="<"?u+t+S:a===">"?S+u+t:a==="^"?S.substring(0,b>>=1)+u+t+S.substring(b):u+(x?t:S+t))+r}}}var Ht=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var Ft=n.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(t,e){return(t=n.round(t,Pt(t,e))).toFixed(Math.max(0,Math.min(20,Pt(t*(1+1e-15),e))))}});function Ot(n){return n+""}var Yt=n.time={},Zt=Date;function Vt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Xt.setUTCDate.apply(this._,arguments)},setDay:function(){Xt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Xt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Xt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Xt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Xt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Xt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Xt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Xt.setTime.apply(this._,arguments)}};var Xt=Date.prototype;function $t(n,t,e){function r(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r}function i(e){t(e=n(new Zt(e-1)),1);return e}function u(n,e){t(n=new Zt(+n),e);return n}function o(n,r,u){var o=i(n),a=[];if(u>1){while(o<r){if(!(e(o)%u))a.push(new Date(+o));t(o,1)}}else{while(o<r)a.push(new Date(+o)),t(o,1)}return a}function a(n,t,e){try{Zt=Vt;var r=new Vt;r._=n;return o(r,t,e)}finally{Zt=Date}}n.floor=n;n.round=r;n.ceil=i;n.offset=u;n.range=o;var f=n.utc=Bt(n);f.floor=f;f.round=Bt(r);f.ceil=Bt(i);f.offset=Bt(u);f.range=a;return n}function Bt(n){return function(t,e){try{Zt=Vt;var r=new Vt;r._=t;return n(r,e)._}finally{Zt=Date}}}Yt.year=$t(function(n){n=Yt.day(n);n.setMonth(0,1);return n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()});Yt.years=Yt.year.range;Yt.years.utc=Yt.year.utc.range;Yt.day=$t(function(n){var t=new Zt(2e3,0);t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());return t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1});Yt.days=Yt.day.range;Yt.days.utc=Yt.day.utc.range;Yt.dayOfYear=function(n){var t=Yt.year(n);return Math.floor((n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=Yt[n]=$t(function(n){(n=Yt.day(n)).setDate(n.getDate()-(n.getDay()+t)%7);return n},function(n,t){n.setDate(n.getDate()+Math.floor(t)*7)},function(n){var e=Yt.year(n).getDay();return Math.floor((Yt.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});Yt[n+"s"]=e.range;Yt[n+"s"].utc=e.utc.range;Yt[n+"OfYear"]=function(n){var e=Yt.year(n).getDay();return Math.floor((Yt.dayOfYear(n)+(e+t)%7)/7)}});Yt.week=Yt.sunday;Yt.weeks=Yt.sunday.range;Yt.weeks.utc=Yt.sunday.utc.range;Yt.weekOfYear=Yt.sundayOfYear;function Wt(t){var e=t.dateTime,r=t.date,i=t.time,u=t.periods,o=t.days,a=t.shortDays,f=t.months,l=t.shortMonths;function c(n){var t=n.length;function e(e){var r=[],i=-1,u=0,o,a,f;while(++i<t){if(n.charCodeAt(i)===37){r.push(n.slice(u,i));if((a=Jt[o=n.charAt(++i)])!=null)o=n.charAt(++i);if(f=w[o])o=f(e,a==null?o==="e"?" ":"0":a);r.push(o);u=i+1}}r.push(n.slice(u,i));return r.join("")}e.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=s(e,n,t,0);if(r!=t.length)return null;if("p"in e)e.H=e.H%12+e.p*12;var i=e.Z!=null&&Zt!==Vt,u=new(i?Vt:Zt);if("j"in e)u.setFullYear(e.y,0,e.j);else if("w"in e&&("W"in e||"U"in e)){u.setFullYear(e.y,0,1);u.setFullYear(e.y,0,"W"in e?(e.w+6)%7+e.W*7-(u.getDay()+5)%7:e.w+e.U*7-(u.getDay()+6)%7)}else u.setFullYear(e.y,e.m,e.d);u.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L);return i?u._:u};e.toString=function(){return n};return e}function s(n,t,e,r){var i,u,o,a=0,f=t.length,l=e.length;while(a<f){if(r>=l)return-1;i=t.charCodeAt(a++);if(i===37){o=t.charAt(a++);u=_[o in Jt?t.charAt(a++):o];if(!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++)){return-1}}return r}c.utc=function(n){var t=c(n);function e(n){try{Zt=Vt;var e=new Zt;e._=n;return t(e)}finally{Zt=Date}}e.parse=function(n){try{Zt=Vt;var e=t.parse(n);return e&&e._}finally{Zt=Date}};e.toString=t.toString;return e};c.multi=c.utc.multi=me;var h=n.map(),p=ne(o),g=te(o),v=ne(a),d=te(a),y=ne(f),m=te(f),x=ne(l),M=te(l);u.forEach(function(n,t){h.set(n.toLowerCase(),t)});var w={a:function(n){return a[n.getDay()]},A:function(n){return o[n.getDay()]},b:function(n){return l[n.getMonth()]},B:function(n){return f[n.getMonth()]},c:c(e),d:function(n,t){return Qt(n.getDate(),t,2)},e:function(n,t){return Qt(n.getDate(),t,2)},H:function(n,t){return Qt(n.getHours(),t,2)},I:function(n,t){return Qt(n.getHours()%12||12,t,2)},j:function(n,t){return Qt(1+Yt.dayOfYear(n),t,3)},L:function(n,t){return Qt(n.getMilliseconds(),t,3)},m:function(n,t){return Qt(n.getMonth()+1,t,2)},M:function(n,t){return Qt(n.getMinutes(),t,2)},p:function(n){return u[+(n.getHours()>=12)]},S:function(n,t){return Qt(n.getSeconds(),t,2)},U:function(n,t){return Qt(Yt.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Qt(Yt.mondayOfYear(n),t,2)},x:c(r),X:c(i),y:function(n,t){return Qt(n.getFullYear()%100,t,2)},Y:function(n,t){return Qt(n.getFullYear()%1e4,t,4)},Z:de,"%":function(){return"%"}};var _={a:b,A:S,b:k,B:N,c:E,d:ce,e:ce,H:he,I:he,j:se,L:ve,m:le,M:pe,p:z,S:ge,U:re,w:ee,W:ie,x:A,X:C,y:oe,Y:ue,Z:ae,"%":ye};function b(n,t,e){v.lastIndex=0;var r=v.exec(t.slice(e));return r?(n.w=d.get(r[0].toLowerCase()),e+r[0].length):-1}function S(n,t,e){p.lastIndex=0;var r=p.exec(t.slice(e));return r?(n.w=g.get(r[0].toLowerCase()),e+r[0].length):-1}function k(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.m=M.get(r[0].toLowerCase()),e+r[0].length):-1}function N(n,t,e){y.lastIndex=0;var r=y.exec(t.slice(e));return r?(n.m=m.get(r[0].toLowerCase()),e+r[0].length):-1}function E(n,t,e){return s(n,w.c.toString(),t,e)}function A(n,t,e){return s(n,w.x.toString(),t,e)}function C(n,t,e){return s(n,w.X.toString(),t,e)}function z(n,t,e){var r=h.get(t.slice(e,e+=2).toLowerCase());return r==null?-1:(n.p=r,e)}return c}var Jt={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,Kt=/^%/;function Qt(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(t)+i:i)}function ne(t){return new RegExp("^(?:"+t.map(n.requote).join("|")+")","i")}function te(n){var t=new x,e=-1,r=n.length;while(++e<r)t.set(n[e].toLowerCase(),e);return t}function ee(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function re(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function ie(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function ue(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function oe(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.y=fe(+r[0]),e+r[0].length):-1}function ae(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function fe(n){return n+(n>68?1900:2e3)}function le(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function ce(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function se(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function he(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function pe(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function ge(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ve(n,t,e){Gt.lastIndex=0;var r=Gt.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function de(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=d(t)/60|0,i=d(t)%60;return e+Qt(r,"0",2)+Qt(i,"0",2)}function ye(n,t,e){Kt.lastIndex=0;var r=Kt.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function me(n){var t=n.length,e=-1;while(++e<t)n[e][0]=this(n[e][0]);return function(t){var e=0,r=n[e];while(!r[1](t))r=n[++e];return r[0](t)}}n.locale=function(n){return{numberFormat:It(n),timeFormat:Wt(n)}};var xe=n.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});n.format=xe.numberFormat;n.geo={};function Me(){}Me.prototype={s:0,t:0,add:function(n){_e(n,this.t,we);_e(we.s,this.s,this);if(this.s)this.t+=we.t;else this.s=we.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var we=new Me;function _e(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}n.geo.stream=function(n,t){if(n&&Se.hasOwnProperty(n.type)){Se[n.type](n,t)}else{be(n,t)}};function be(n,t){if(n&&ke.hasOwnProperty(n.type)){ke[n.type](n,t)}}var Se={Feature:function(n,t){be(n.geometry,t)},FeatureCollection:function(n,t){var e=n.features,r=-1,i=e.length;while(++r<i)be(e[r].geometry,t)}};var ke={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates;t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){Ne(n.coordinates,t,0)},MultiLineString:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)Ne(e[r],t,0)},Polygon:function(n,t){Ee(n.coordinates,t)},MultiPolygon:function(n,t){var e=n.coordinates,r=-1,i=e.length;while(++r<i)Ee(e[r],t)},GeometryCollection:function(n,t){var e=n.geometries,r=-1,i=e.length;while(++r<i)be(e[r],t)}};function Ne(n,t,e){var r=-1,i=n.length-e,u;t.lineStart();while(++r<i)u=n[r],t.point(u[0],u[1],u[2]);t.lineEnd()}function Ee(n,t){var e=-1,r=n.length;t.polygonStart();while(++e<r)Ne(n[e],t,1);t.polygonEnd()}n.geo.area=function(t){Ae=0;n.geo.stream(t,ze);return Ae};var Ae,Ce=new Me;var ze={sphere:function(){Ae+=4*kn},point:L,lineStart:L,lineEnd:L,polygonStart:function(){Ce.reset();ze.lineStart=Le},polygonEnd:function(){var n=2*Ce;Ae+=n<0?4*kn+n:n;ze.lineStart=ze.lineEnd=ze.point=L}};function Le(){var n,t,e,r,i;ze.point=function(o,a){ze.point=u;e=(n=o)*zn,r=Math.cos(a=(t=a)*zn/2+kn/4),i=Math.sin(a)};function u(n,t){n*=zn;t=t*zn/2+kn/4;var u=n-e,o=u>=0?1:-1,a=o*u,f=Math.cos(t),l=Math.sin(t),c=i*l,s=r*f+c*Math.cos(a),h=c*o*Math.sin(a);Ce.add(Math.atan2(h,s));e=n,r=f,i=l}ze.lineEnd=function(){u(n,t)}}function Te(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function qe(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Re(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function De(n,t){n[0]+=t[0];n[1]+=t[1];n[2]+=t[2]}function Pe(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Ue(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t;n[1]/=t;n[2]/=t}function je(n){return[Math.atan2(n[1],n[0]),Dn(n[2])]}function Ie(n,t){return d(n[0]-t[0])<An&&d(n[1]-t[1])<An}n.geo.bounds=function(){var t,e,r,i,u,o,a,f,l,c,s;var h={point:p,lineStart:v,lineEnd:y,polygonStart:function(){h.point=m;h.lineStart=x;h.lineEnd=M;l=0;ze.polygonStart()},polygonEnd:function(){ze.polygonEnd();h.point=p;h.lineStart=v;h.lineEnd=y;if(Ce<0)t=-(r=180),e=-(i=90);else if(l>An)i=90;else if(l<-An)e=-90;s[0]=t,s[1]=r}};function p(n,u){c.push(s=[t=n,r=n]);if(u<e)e=u;if(u>i)i=u}function g(n,o){var a=Te([n*zn,o*zn]);if(f){var l=Re(f,a),c=[l[1],-l[0],0],s=Re(c,l);Ue(s);s=je(s);var h=n-u,g=h>0?1:-1,v=s[0]*Ln*g,y=d(h)>180;if(y^(g*u<v&&v<g*n)){var m=s[1]*Ln;if(m>i)i=m}else if(v=(v+360)%360-180,y^(g*u<v&&v<g*n)){var m=-s[1]*Ln;if(m<e)e=m}else{if(o<e)e=o;if(o>i)i=o}if(y){if(n<u){if(w(t,n)>w(t,r))r=n}else{if(w(n,r)>w(t,r))t=n}}else{if(r>=t){if(n<t)t=n;if(n>r)r=n}else{if(n>u){if(w(t,n)>w(t,r))r=n}else{if(w(n,r)>w(t,r))t=n}}}}else{p(n,o)}f=a,u=n}function v(){h.point=g}function y(){s[0]=t,s[1]=r;h.point=p;f=null}function m(n,t){if(f){var e=n-u;l+=d(e)>180?e+(e>0?360:-360):e}else o=n,a=t;ze.point(n,t);g(n,t)}function x(){ze.lineStart()}function M(){m(o,a);ze.lineEnd();if(d(l)>An)t=-(r=180);s[0]=t,s[1]=r;f=null}function w(n,t){return(t-=n)<0?t+360:t}function _(n,t){return n[0]-t[0]}function b(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}return function(u){i=r=-(t=e=Infinity);c=[];n.geo.stream(u,h);var o=c.length;if(o){c.sort(_);for(var a=1,f=c[0],l,p=[f];a<o;++a){l=c[a];if(b(l[0],f)||b(l[1],f)){if(w(f[0],l[1])>w(f[0],f[1]))f[1]=l[1];if(w(l[0],f[1])>w(f[0],f[1]))f[0]=l[0]}else{p.push(f=l)}}var g=-Infinity,v;for(var o=p.length-1,a=0,f=p[o],l;a<=o;f=l,++a){l=p[a];if((v=w(f[1],l[0]))>g)g=v,t=l[0],r=f[1]}}c=s=null;return t===Infinity||e===Infinity?[[NaN,NaN],[NaN,NaN]]:[[t,e],[r,i]]}}();n.geo.centroid=function(t){He=Fe=Oe=Ye=Ze=Ve=Xe=$e=Be=We=Je=0;n.geo.stream(t,Ge);var e=Be,r=We,i=Je,u=e*e+r*r+i*i;if(u<Cn){e=Ve,r=Xe,i=$e;if(Fe<An)e=Oe,r=Ye,i=Ze;u=e*e+r*r+i*i;if(u<Cn)return[NaN,NaN]}return[Math.atan2(r,e)*Ln,Dn(i/Math.sqrt(u))*Ln]};var He,Fe,Oe,Ye,Ze,Ve,Xe,$e,Be,We,Je;var Ge={sphere:L,point:Ke,lineStart:nr,lineEnd:tr,polygonStart:function(){Ge.lineStart=er},polygonEnd:function(){Ge.lineStart=nr}};function Ke(n,t){n*=zn;var e=Math.cos(t*=zn);Qe(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function Qe(n,t,e){++He;Oe+=(n-Oe)/He;Ye+=(t-Ye)/He;Ze+=(e-Ze)/He}function nr(){var n,t,e;Ge.point=function(i,u){i*=zn;var o=Math.cos(u*=zn);n=o*Math.cos(i);t=o*Math.sin(i);e=Math.sin(u);Ge.point=r;Qe(n,t,e)};function r(r,i){r*=zn;var u=Math.cos(i*=zn),o=u*Math.cos(r),a=u*Math.sin(r),f=Math.sin(i),l=Math.atan2(Math.sqrt((l=t*f-e*a)*l+(l=e*o-n*f)*l+(l=n*a-t*o)*l),n*o+t*a+e*f);Fe+=l;Ve+=l*(n+(n=o));Xe+=l*(t+(t=a));$e+=l*(e+(e=f));Qe(n,t,e)}}function tr(){Ge.point=Ke}function er(){var n,t,e,r,i;Ge.point=function(o,a){n=o,t=a;Ge.point=u;o*=zn;var f=Math.cos(a*=zn);e=f*Math.cos(o);r=f*Math.sin(o);i=Math.sin(a);Qe(e,r,i)};Ge.lineEnd=function(){u(n,t);Ge.lineEnd=tr;Ge.point=Ke};function u(n,t){n*=zn;var u=Math.cos(t*=zn),o=u*Math.cos(n),a=u*Math.sin(n),f=Math.sin(t),l=r*f-i*a,c=i*o-e*f,s=e*a-r*o,h=Math.sqrt(l*l+c*c+s*s),p=e*o+r*a+i*f,g=h&&-Rn(p)/h,v=Math.atan2(h,p);Be+=g*l;We+=g*c;Je+=g*s;Fe+=v;Ve+=v*(e+(e=o));Xe+=v*(r+(r=a));$e+=v*(i+(i=f));Qe(e,r,i)}}function rr(){return true}function ir(n,t,e,r,i){var u=[],o=[];n.forEach(function(n){if((t=n.length-1)<=0)return;var t,e=n[0],r=n[t];if(Ie(e,r)){i.lineStart();for(var a=0;a<t;++a)i.point((e=n[a])[0],e[1]);i.lineEnd();return}var f=new or(e,n,null,true),l=new or(e,null,f,false);f.o=l;u.push(f);o.push(l);f=new or(r,n,null,false);l=new or(r,null,f,true);f.o=l;u.push(f);o.push(l)});o.sort(t);ur(u);ur(o);if(!u.length)return;for(var a=0,f=e,l=o.length;a<l;++a){o[a].e=f=!f}var c=u[0],s,h;while(1){var p=c,g=true;while(p.v)if((p=p.n)===c)return;s=p.z;i.lineStart();do{p.v=p.o.v=true;if(p.e){if(g){for(var a=0,l=s.length;a<l;++a)i.point((h=s[a])[0],h[1])}else{r(p.x,p.n.x,1,i)}p=p.n}else{if(g){s=p.p.z;for(var a=s.length-1;a>=0;--a)i.point((h=s[a])[0],h[1])}else{r(p.x,p.p.x,-1,i)}p=p.p}p=p.o;s=p.z;g=!g}while(!p.v);i.lineEnd()}}function ur(n){if(!(t=n.length))return;var t,e=0,r=n[0],i;while(++e<t){r.n=i=n[e];i.p=r;r=i}r.n=i=n[0];i.p=r}function or(n,t,e,r){this.x=n;this.z=t;this.o=e;this.e=r;this.v=false;this.n=this.p=null}function ar(t,e,r,i){return function(u,o){var a=e(o),f=u.invert(i[0],i[1]);var l={point:c,lineStart:h,lineEnd:p,polygonStart:function(){l.point=M;l.lineStart=w;l.lineEnd=_;g=[];m=[]},polygonEnd:function(){l.point=c;l.lineStart=h;l.lineEnd=p;g=n.merge(g);var t=vr(f,m);if(g.length){if(!y)o.polygonStart(),y=true;ir(g,cr,t,r,o)}else if(t){if(!y)o.polygonStart(),y=true;o.lineStart();r(null,null,1,o);o.lineEnd()}if(y)o.polygonEnd(),y=false;g=m=null},sphere:function(){o.polygonStart();o.lineStart();r(null,null,1,o);o.lineEnd();o.polygonEnd()}};function c(n,e){var r=u(n,e);if(t(n=r[0],e=r[1]))o.point(n,e)}function s(n,t){var e=u(n,t);a.point(e[0],e[1])}function h(){l.point=s;a.lineStart()}function p(){l.point=c;a.lineEnd()}var g;var v=lr(),d=e(v),y=false,m,x;function M(n,t){x.push([n,t]);var e=u(n,t);d.point(e[0],e[1])}function w(){d.lineStart();x=[]}function _(){M(x[0][0],x[0][1]);d.lineEnd();var n=d.clean(),t=v.buffer(),e,r=t.length;x.pop();m.push(x);x=null;if(!r)return;if(n&1){e=t[0];var r=e.length-1,i=-1,u;if(r>0){if(!y)o.polygonStart(),y=true;o.lineStart();while(++i<r)o.point((u=e[i])[0],u[1]);o.lineEnd()}return}if(r>1&&n&2)t.push(t.pop().concat(t.shift()));g.push(t.filter(fr))}return l}}function fr(n){return n.length>1}function lr(){var n=[],t;return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:L,buffer:function(){var e=n;n=[];t=null;return e},rejoin:function(){if(n.length>1)n.push(n.pop().concat(n.shift()))}}}function cr(n,t){return((n=n.x)[0]<0?n[1]-En-An:En-n[1])-((t=t.x)[0]<0?t[1]-En-An:En-t[1])}var sr=ar(rr,hr,gr,[-kn,-kn/2]);function hr(n){var t=NaN,e=NaN,r=NaN,i;return{lineStart:function(){n.lineStart();i=1},point:function(u,o){var a=u>0?kn:-kn,f=d(u-t);if(d(f-kn)<An){n.point(t,e=(e+o)/2>0?En:-En);n.point(r,e);n.lineEnd();n.lineStart();n.point(a,e);n.point(u,e);i=0}else if(r!==a&&f>=kn){if(d(t-r)<An)t-=r*An;if(d(u-a)<An)u-=a*An;e=pr(t,e,u,o);n.point(r,e);n.lineEnd();n.lineStart();n.point(a,e);i=0}n.point(t=u,e=o);r=a},lineEnd:function(){n.lineEnd();t=e=NaN},clean:function(){return 2-i}}}function pr(n,t,e,r){var i,u,o=Math.sin(n-e);return d(o)>An?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function gr(n,t,e,r){var i;if(n==null){i=e*En;r.point(-kn,i);r.point(0,i);r.point(kn,i);r.point(kn,0);r.point(kn,-i);r.point(0,-i);r.point(-kn,-i);r.point(-kn,0);r.point(-kn,i)}else if(d(n[0]-t[0])>An){var u=n[0]<t[0]?kn:-kn;i=e*u/2;r.point(-u,i);r.point(0,i);r.point(u,i)}else{r.point(t[0],t[1])}}function vr(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;Ce.reset();for(var a=0,f=t.length;a<f;++a){var l=t[a],c=l.length;if(!c)continue;var s=l[0],h=s[0],p=s[1]/2+kn/4,g=Math.sin(p),v=Math.cos(p),d=1;while(true){if(d===c)d=0;n=l[d];var y=n[0],m=n[1]/2+kn/4,x=Math.sin(m),M=Math.cos(m),w=y-h,_=w>=0?1:-1,b=_*w,S=b>kn,k=g*x;Ce.add(Math.atan2(k*_*Math.sin(b),v*M+k*Math.cos(b)));u+=S?w+_*Nn:w;if(S^h>=e^y>=e){var N=Re(Te(s),Te(n));Ue(N);var E=Re(i,N);Ue(E);var A=(S^w>=0?-1:1)*Dn(E[2]);if(r>A||r===A&&(N[0]||N[1])){o+=S^w>=0?1:-1}}if(!d++)break;h=y,g=x,v=M,s=n}}return(u<-An||u<An&&Ce<0)^o&1}function dr(n){var t=Math.cos(n),e=t>0,r=d(t)>An,i=ni(n,6*zn);return ar(u,o,i,e?[0,-n]:[-kn,n-kn]);function u(n,e){return Math.cos(n)*Math.cos(e)>t}function o(n){var t,i,o,l,c;return{lineStart:function(){l=o=false;c=1},point:function(s,h){var p=[s,h],g,v=u(s,h),d=e?v?0:f(s,h):v?f(s+(s<0?kn:-kn),h):0;if(!t&&(l=o=v))n.lineStart();if(v!==o){g=a(t,p);if(Ie(t,g)||Ie(p,g)){p[0]+=An;p[1]+=An;v=u(p[0],p[1])}}if(v!==o){c=0;if(v){n.lineStart();g=a(p,t);n.point(g[0],g[1])}else{g=a(t,p);n.point(g[0],g[1]);n.lineEnd()}t=g}else if(r&&t&&e^v){var y;if(!(d&i)&&(y=a(p,t,true))){c=0;if(e){n.lineStart();n.point(y[0][0],y[0][1]);n.point(y[1][0],y[1][1]);n.lineEnd()}else{n.point(y[1][0],y[1][1]);n.lineEnd();n.lineStart();n.point(y[0][0],y[0][1])}}}if(v&&(!t||!Ie(t,p))){n.point(p[0],p[1])}t=p,o=v,i=d},lineEnd:function(){if(o)n.lineEnd();t=null},clean:function(){return c|(l&&o)<<1}}}function a(n,e,r){var i=Te(n),u=Te(e);var o=[1,0,0],a=Re(i,u),f=qe(a,a),l=a[0],c=f-l*l;if(!c)return!r&&n;var s=t*f/c,h=-t*l/c,p=Re(o,a),g=Pe(o,s),v=Pe(a,h);De(g,v);var y=p,m=qe(g,y),x=qe(y,y),M=m*m-x*(qe(g,g)-1);if(M<0)return;var w=Math.sqrt(M),_=Pe(y,(-m-w)/x);De(_,g);_=je(_);if(!r)return _;var b=n[0],S=e[0],k=n[1],N=e[1],E;if(S<b)E=b,b=S,S=E;var A=S-b,C=d(A-kn)<An,z=C||A<An;if(!C&&N<k)E=k,k=N,N=E;if(z?C?k+N>0^_[1]<(d(_[0]-b)<An?k:N):k<=_[1]&&_[1]<=N:A>kn^(b<=_[0]&&_[0]<=S)){var L=Pe(y,(-m+w)/x);De(L,g);return[_,je(L)]}}function f(t,r){var i=e?n:kn-n,u=0;if(t<-i)u|=1;else if(t>i)u|=2;if(r<-i)u|=4;else if(r>i)u|=8;return u}}function yr(n,t,e,r){return function(i){var u=i.a,o=i.b,a=u.x,f=u.y,l=o.x,c=o.y,s=0,h=1,p=l-a,g=c-f,v;v=n-a;if(!p&&v>0)return;v/=p;if(p<0){if(v<s)return;if(v<h)h=v}else if(p>0){if(v>h)return;if(v>s)s=v}v=e-a;if(!p&&v<0)return;v/=p;if(p<0){if(v>h)return;if(v>s)s=v}else if(p>0){if(v<s)return;if(v<h)h=v}v=t-f;if(!g&&v>0)return;v/=g;if(g<0){if(v<s)return;if(v<h)h=v}else if(g>0){if(v>h)return;if(v>s)s=v}v=r-f;if(!g&&v<0)return;v/=g;if(g<0){if(v>h)return;if(v>s)s=v}else if(g>0){if(v<s)return;if(v<h)h=v}if(s>0)i.a={x:a+s*p,y:f+s*g};if(h<1)i.b={x:a+h*p,y:f+h*g};return i}}var mr=1e9;n.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){if(i)i.valid=false;i=u(n);i.valid=true;return i},extent:function(a){if(!arguments.length)return[[n,t],[e,r]];u=xr(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]);if(i)i.valid=false,i=null;return o}};return o.extent([[0,0],[960,500]])};function xr(t,e,r,i){return function(f){var l=f,c=lr(),s=yr(t,e,r,i),h,p,g;var v={point:x,lineStart:A,lineEnd:C,polygonStart:function(){f=c;h=[];p=[];E=true},polygonEnd:function(){f=l;h=n.merge(h);var e=d([t,i]),r=E&&e,u=h.length;if(r||u){f.polygonStart();if(r){f.lineStart();y(null,null,1,f);f.lineEnd()}if(u){ir(h,o,e,y,f)}f.polygonEnd()}h=p=g=null}};function d(n){var t=0,e=p.length,r=n[1];for(var i=0;i<e;++i){for(var u=1,o=p[i],a=o.length,f=o[0],l;u<a;++u){l=o[u];if(f[1]<=r){if(l[1]>r&&qn(f,l,n)>0)++t}else{if(l[1]<=r&&qn(f,l,n)<0)--t}f=l}}return t!==0}function y(n,o,f,l){var c=0,s=0;if(n==null||(c=u(n,f))!==(s=u(o,f))||a(n,o)<0^f>0){do{l.point(c===0||c===3?t:r,c>1?i:e)}while((c=(c+f+4)%4)!==s)}else{l.point(o[0],o[1])}}function m(n,u){return t<=n&&n<=r&&e<=u&&u<=i}function x(n,t){if(m(n,t))f.point(n,t)}var M,w,_,b,S,k,N,E;function A(){v.point=z;if(p)p.push(g=[]);N=true;k=false;b=S=NaN}function C(){if(h){z(M,w);if(_&&k)c.rejoin();h.push(c.buffer())}v.point=x;if(k)f.lineEnd()}function z(n,t){n=Math.max(-mr,Math.min(mr,n));t=Math.max(-mr,Math.min(mr,t));var e=m(n,t);if(p)g.push([n,t]);if(N){M=n,w=t,_=e;N=false;if(e){f.lineStart();f.point(n,t)}}else{if(e&&k)f.point(n,t);else{var r={a:{x:b,y:S},b:{x:n,y:t}};if(s(r)){if(!k){f.lineStart();f.point(r.a.x,r.a.y)}f.point(r.b.x,r.b.y);if(!e)f.lineEnd();E=false}else if(e){f.lineStart();f.point(n,t);E=false}}}b=n,S=t,k=e}return v};function u(n,i){return d(n[0]-t)<An?i>0?0:3:d(n[0]-r)<An?i>0?2:1:d(n[1]-e)<An?i>0?1:0:i>0?3:2}function o(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:e===0?t[1]-n[1]:e===1?n[0]-t[0]:e===2?n[1]-t[1]:t[0]-n[0]}}function Mr(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}if(n.invert&&t.invert)e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])};return e}function wr(n){var t=0,e=kn/3,r=Xr(n),i=r(t,e);i.parallels=function(n){if(!arguments.length)return[t/kn*180,e/kn*180];return r(t=n[0]*kn/180,e=n[1]*kn/180)};return i}function _r(n,t){var e=Math.sin(n),r=(e+Math.sin(t))/2,i=1+e*(2*r-e),u=Math.sqrt(i)/r;function o(n,t){var e=Math.sqrt(i-2*r*Math.sin(t))/r;return[e*Math.sin(n*=r),u-e*Math.cos(n)]}o.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/r,Dn((i-(n*n+e*e)*r*r)/(2*r))]};return o}(n.geo.conicEqualArea=function(){return wr(_r)}).raw=_r;n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};n.geo.albersUsa=function(){var t=n.geo.albers();var e=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var r=n.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var i,u={point:function(n,t){i=[n,t]}},o,a,f;function l(n){var t=n[0],e=n[1];i=null;(o(t,e),i)||(a(t,e),i)||f(t,e);return i}l.invert=function(n){var i=t.scale(),u=t.translate(),o=(n[0]-u[0])/i,a=(n[1]-u[1])/i;return(a>=.12&&a<.234&&o>=-.425&&o<-.214?e:a>=.166&&a<.234&&o>=-.214&&o<-.115?r:t).invert(n)};l.stream=function(n){var i=t.stream(n),u=e.stream(n),o=r.stream(n);return{point:function(n,t){i.point(n,t);u.point(n,t);o.point(n,t)},sphere:function(){i.sphere();u.sphere();o.sphere()},lineStart:function(){i.lineStart();u.lineStart();o.lineStart()},lineEnd:function(){i.lineEnd();u.lineEnd();o.lineEnd()},polygonStart:function(){i.polygonStart();u.polygonStart();o.polygonStart()},polygonEnd:function(){i.polygonEnd();u.polygonEnd();o.polygonEnd()}}};l.precision=function(n){if(!arguments.length)return t.precision();t.precision(n);e.precision(n);r.precision(n);return l};l.scale=function(n){if(!arguments.length)return t.scale();t.scale(n);e.scale(n*.35);r.scale(n);return l.translate(t.translate())};l.translate=function(n){if(!arguments.length)return t.translate();var i=t.scale(),c=+n[0],s=+n[1];o=t.translate(n).clipExtent([[c-.455*i,s-.238*i],[c+.455*i,s+.238*i]]).stream(u).point;a=e.translate([c-.307*i,s+.201*i]).clipExtent([[c-.425*i+An,s+.12*i+An],[c-.214*i-An,s+.234*i-An]]).stream(u).point;f=r.translate([c-.205*i,s+.212*i]).clipExtent([[c-.214*i+An,s+.166*i+An],[c-.115*i-An,s+.234*i-An]]).stream(u).point;return l};return l.scale(1070)};var br,Sr,kr={point:L,lineStart:L,lineEnd:L,polygonStart:function(){Sr=0;kr.lineStart=Nr},polygonEnd:function(){kr.lineStart=kr.lineEnd=kr.point=L;br+=d(Sr/2)}};function Nr(){var n,t,e,r;kr.point=function(u,o){kr.point=i;n=e=u,t=r=o};function i(n,t){Sr+=r*n-e*t;e=n,r=t}kr.lineEnd=function(){i(n,t)}}var Er,Ar,Cr,zr;var Lr={point:Tr,lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L};function Tr(n,t){if(n<Er)Er=n;if(n>Cr)Cr=n;if(t<Ar)Ar=t;if(t>zr)zr=t}function qr(){var n=Rr(4.5),t=[];var e={point:r,lineStart:function(){e.point=i},lineEnd:o,polygonStart:function(){e.lineEnd=a},polygonEnd:function(){e.lineEnd=o;e.point=r},pointRadius:function(t){n=Rr(t);return e},result:function(){if(t.length){var n=t.join("");t=[];return n}}};function r(e,r){t.push("M",e,",",r,n)}function i(n,r){t.push("M",n,",",r);e.point=u}function u(n,e){t.push("L",n,",",e)}function o(){e.point=r}function a(){t.push("Z")}return e}function Rr(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}var Dr={point:Pr,lineStart:Ur,lineEnd:jr,polygonStart:function(){Dr.lineStart=Ir},polygonEnd:function(){Dr.point=Pr;Dr.lineStart=Ur;Dr.lineEnd=jr}};function Pr(n,t){Oe+=n;Ye+=t;++Ze}function Ur(){var n,t;Dr.point=function(r,i){Dr.point=e;Pr(n=r,t=i)};function e(e,r){var i=e-n,u=r-t,o=Math.sqrt(i*i+u*u);Ve+=o*(n+e)/2;Xe+=o*(t+r)/2;$e+=o;Pr(n=e,t=r)}}function jr(){Dr.point=Pr}function Ir(){var n,t,e,r;Dr.point=function(u,o){Dr.point=i;Pr(n=e=u,t=r=o)};function i(n,t){var i=n-e,u=t-r,o=Math.sqrt(i*i+u*u);Ve+=o*(e+n)/2;Xe+=o*(r+t)/2;$e+=o;o=r*n-e*t;Be+=o*(e+n);We+=o*(r+t);Je+=o*3;Pr(e=n,r=t)}Dr.lineEnd=function(){i(n,t)}}function Hr(n){var t=4.5;var e={point:r,lineStart:function(){e.point=i},lineEnd:o,polygonStart:function(){e.lineEnd=a},polygonEnd:function(){e.lineEnd=o;e.point=r},pointRadius:function(n){t=n;return e},result:L};function r(e,r){n.moveTo(e,r);n.arc(e,r,t,0,Nn)}function i(t,r){n.moveTo(t,r);e.point=u}function u(t,e){n.lineTo(t,e)}function o(){e.point=r}function a(){n.closePath()}return e}function Fr(n){var t=.5,e=Math.cos(30*zn),r=16;function i(n){return(r?o:u)(n)}function u(t){return Zr(t,function(e,r){e=n(e,r);t.point(e[0],e[1])})}function o(t){var e,i,u,o,f,l,c,s,h,p,g,v,d;var y={point:m,lineStart:x,lineEnd:w,polygonStart:function(){t.polygonStart();y.lineStart=_},polygonEnd:function(){t.polygonEnd();y.lineStart=x}};function m(e,r){e=n(e,r);t.point(e[0],e[1])}function x(){h=NaN;y.point=M;t.lineStart()}function M(e,i){var u=Te([e,i]),o=n(e,i);a(h,p,s,g,v,d,h=o[0],p=o[1],s=e,g=u[0],v=u[1],d=u[2],r,t);t.point(h,p)}function w(){y.point=m;t.lineEnd()}function _(){x();y.point=b;y.lineEnd=S}function b(n,t){M(e=n,i=t),u=h,o=p,f=g,l=v,c=d;y.point=M}function S(){a(h,p,s,g,v,d,u,o,e,f,l,c,r,t);y.lineEnd=w;w()}return y}function a(r,i,u,o,f,l,c,s,h,p,g,v,y,m){var x=c-r,M=s-i,w=x*x+M*M;if(w>4*t&&y--){var _=o+p,b=f+g,S=l+v,k=Math.sqrt(_*_+b*b+S*S),N=Math.asin(S/=k),E=d(d(S)-1)<An||d(u-h)<An?(u+h)/2:Math.atan2(b,_),A=n(E,N),C=A[0],z=A[1],L=C-r,T=z-i,q=M*L-x*T;if(q*q/w>t||d((x*L+M*T)/w-.5)>.3||o*p+f*g+l*v<e){a(r,i,u,o,f,l,C,z,E,_/=k,b/=k,S,y,m);m.point(C,z);a(C,z,E,_,b,S,c,s,h,p,g,v,y,m)}}}i.precision=function(n){if(!arguments.length)return Math.sqrt(t);r=(t=n*n)>0&&16;return i};return i}n.geo.path=function(){var t=4.5,e,r,i,u,o;function a(e){if(e){if(typeof t==="function")u.pointRadius(+t.apply(this,arguments));if(!o||!o.valid)o=i(u);n.geo.stream(e,o)}return u.result()}a.area=function(t){br=0;n.geo.stream(t,i(kr));return br};a.centroid=function(t){Oe=Ye=Ze=Ve=Xe=$e=Be=We=Je=0;n.geo.stream(t,i(Dr));return Je?[Be/Je,We/Je]:$e?[Ve/$e,Xe/$e]:Ze?[Oe/Ze,Ye/Ze]:[NaN,NaN]};a.bounds=function(t){Cr=zr=-(Er=Ar=Infinity);n.geo.stream(t,i(Lr));return[[Er,Ar],[Cr,zr]]};a.projection=function(n){if(!arguments.length)return e;i=(e=n)?n.stream||Or(n):_t;return f()};a.context=function(n){if(!arguments.length)return r;u=(r=n)==null?new qr:new Hr(n);if(typeof t!=="function")u.pointRadius(t);return f()};a.pointRadius=function(n){if(!arguments.length)return t;t=typeof n==="function"?n:(u.pointRadius(+n),+n);return a};function f(){o=null;return a}return a.projection(n.geo.albersUsa()).context(null)};function Or(n){var t=Fr(function(t,e){return n([t*Ln,e*Ln])});return function(n){return $r(t(n))}}n.geo.transform=function(n){return{stream:function(t){var e=new Yr(t);for(var r in n)e[r]=n[r];return e}}};function Yr(n){this.stream=n}Yr.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Zr(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}n.geo.projection=Vr;n.geo.projectionMutator=Xr;function Vr(n){return Xr(function(){return n})()}function Xr(t){var e,r,i,u=Fr(function(n,t){n=e(n,t);return[n[0]*o+g,v-n[1]*o]}),o=150,a=480,f=250,l=0,c=0,s=0,h=0,p=0,g,v,d=sr,y=_t,m=null,x=null,M;function w(n){n=i(n[0]*zn,n[1]*zn);return[n[0]*o+g,v-n[1]*o]}function _(n){n=i.invert((n[0]-g)/o,(v-n[1])/o);return n&&[n[0]*Ln,n[1]*Ln]}w.stream=function(n){if(M)M.valid=false;M=$r(d(r,u(y(n))));M.valid=true;return M};w.clipAngle=function(n){if(!arguments.length)return m;d=n==null?(m=n,sr):dr((m=+n)*zn);return S()};w.clipExtent=function(n){if(!arguments.length)return x;x=n;y=n?xr(n[0][0],n[0][1],n[1][0],n[1][1]):_t;return S()};w.scale=function(n){if(!arguments.length)return o;o=+n;return b()};w.translate=function(n){if(!arguments.length)return[a,f];a=+n[0];f=+n[1];return b()};w.center=function(n){if(!arguments.length)return[l*Ln,c*Ln];l=n[0]%360*zn;c=n[1]%360*zn;return b()};w.rotate=function(n){if(!arguments.length)return[s*Ln,h*Ln,p*Ln];s=n[0]%360*zn;h=n[1]%360*zn;p=n.length>2?n[2]%360*zn:0;return b()};n.rebind(w,u,"precision");function b(){i=Mr(r=Jr(s,h,p),e);var n=e(l,c);g=a-n[0]*o;v=f+n[1]*o;return S()}function S(){if(M)M.valid=false,M=null;return w}return function(){e=t.apply(this,arguments);w.invert=e.invert&&_;return b()}}function $r(n){return Zr(n,function(t,e){n.point(t*zn,e*zn)})}function Br(n,t){return[n,t]}(n.geo.equirectangular=function(){return Vr(Br)}).raw=Br.invert=Br;n.geo.rotation=function(n){n=Jr(n[0]%360*zn,n[1]*zn,n.length>2?n[2]*zn:0);function t(t){t=n(t[0]*zn,t[1]*zn);return t[0]*=Ln,t[1]*=Ln,t}t.invert=function(t){t=n.invert(t[0]*zn,t[1]*zn);return t[0]*=Ln,t[1]*=Ln,t};return t};function Wr(n,t){return[n>kn?n-Nn:n<-kn?n+Nn:n,t]}Wr.invert=Br;function Jr(n,t,e){return n?t||e?Mr(Kr(n),Qr(t,e)):Kr(n):t||e?Qr(t,e):Wr}function Gr(n){return function(t,e){return t+=n,[t>kn?t-Nn:t<-kn?t+Nn:t,e]}}function Kr(n){var t=Gr(n);t.invert=Gr(-n);return t}function Qr(n,t){var e=Math.cos(n),r=Math.sin(n),i=Math.cos(t),u=Math.sin(t);function o(n,t){var o=Math.cos(t),a=Math.cos(n)*o,f=Math.sin(n)*o,l=Math.sin(t),c=l*e+a*r;return[Math.atan2(f*i-c*u,a*e-l*r),Dn(c*i+f*u)]}o.invert=function(n,t){var o=Math.cos(t),a=Math.cos(n)*o,f=Math.sin(n)*o,l=Math.sin(t),c=l*i-f*u;return[Math.atan2(f*i+l*u,a*e+c*r),Dn(c*e-a*r)]};return o}n.geo.circle=function(){var n=[0,0],t,e=6,r;function i(){var t=typeof n==="function"?n.apply(this,arguments):n,e=Jr(-t[0]*zn,-t[1]*zn,0).invert,i=[];r(null,null,1,{point:function(n,t){i.push(n=e(n,t));n[0]*=Ln,n[1]*=Ln}});return{type:"Polygon",coordinates:[i]}}i.origin=function(t){if(!arguments.length)return n;n=t;return i};i.angle=function(n){if(!arguments.length)return t;r=ni((t=+n)*zn,e*zn);return i};i.precision=function(n){if(!arguments.length)return e;r=ni(t*zn,(e=+n)*zn);return i};return i.angle(90)};function ni(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var f=o*t;if(i!=null){i=ti(e,i);u=ti(e,u);if(o>0?i<u:i>u)i+=o*Nn}else{i=n+o*Nn;u=n-.5*f}for(var l,c=i;o>0?c>u:c<u;c-=f){a.point((l=je([e,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}}function ti(n,t){var e=Te(t);e[0]-=n;Ue(e);var r=Rn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-An)%(2*Math.PI)}n.geo.distance=function(n,t){var e=(t[0]-n[0])*zn,r=n[1]*zn,i=t[1]*zn,u=Math.sin(e),o=Math.cos(e),a=Math.sin(r),f=Math.cos(r),l=Math.sin(i),c=Math.cos(i),s;return Math.atan2(Math.sqrt((s=c*u)*s+(s=f*l-a*c*o)*s),a*l+f*c*o)};n.geo.graticule=function(){var t,e,r,i,u,o,a,f,l=10,c=l,s=90,h=360,p,g,v,y,m=2.5;function x(){return{type:"MultiLineString",coordinates:M()}}function M(){return n.range(Math.ceil(i/s)*s,r,s).map(v).concat(n.range(Math.ceil(f/h)*h,a,h).map(y)).concat(n.range(Math.ceil(e/l)*l,t,l).filter(function(n){return d(n%s)>An}).map(p)).concat(n.range(Math.ceil(o/c)*c,u,c).filter(function(n){return d(n%h)>An}).map(g))}x.lines=function(){return M().map(function(n){return{type:"LineString",coordinates:n}})};x.outline=function(){return{type:"Polygon",coordinates:[v(i).concat(y(a).slice(1),v(r).reverse().slice(1),y(f).reverse().slice(1))]}};x.extent=function(n){if(!arguments.length)return x.minorExtent();return x.majorExtent(n).minorExtent(n)};x.majorExtent=function(n){if(!arguments.length)return[[i,f],[r,a]];i=+n[0][0],r=+n[1][0];f=+n[0][1],a=+n[1][1];if(i>r)n=i,i=r,r=n;if(f>a)n=f,f=a,a=n;return x.precision(m)};x.minorExtent=function(n){if(!arguments.length)return[[e,o],[t,u]];e=+n[0][0],t=+n[1][0];o=+n[0][1],u=+n[1][1];if(e>t)n=e,e=t,t=n;if(o>u)n=o,o=u,u=n;return x.precision(m)};x.step=function(n){if(!arguments.length)return x.minorStep();return x.majorStep(n).minorStep(n)};x.majorStep=function(n){if(!arguments.length)return[s,h];s=+n[0],h=+n[1];return x};x.minorStep=function(n){if(!arguments.length)return[l,c];l=+n[0],c=+n[1];return x};x.precision=function(n){if(!arguments.length)return m;m=+n;p=ei(o,u,90);g=ri(e,t,m);v=ei(f,a,90);y=ri(i,r,m);return x};return x.majorExtent([[-180,-90+An],[180,90-An]]).minorExtent([[-180,-80-An],[180,80+An]])};function ei(t,e,r){var i=n.range(t,e-An,r).concat(e);return function(n){return i.map(function(t){return[n,t]})}}function ri(t,e,r){var i=n.range(t,e-An,r).concat(e);return function(n){return i.map(function(t){return[t,n]})}}function ii(n){return n.source}function ui(n){return n.target}n.geo.greatArc=function(){var t=ii,e,r=ui,i;function u(){return{type:"LineString",coordinates:[e||t.apply(this,arguments),i||r.apply(this,arguments)]}}u.distance=function(){return n.geo.distance(e||t.apply(this,arguments),i||r.apply(this,arguments))};u.source=function(n){if(!arguments.length)return t;t=n,e=typeof n==="function"?null:n;return u};u.target=function(n){if(!arguments.length)return r;r=n,i=typeof n==="function"?null:n;return u};u.precision=function(){return arguments.length?u:0};return u};n.geo.interpolate=function(n,t){return oi(n[0]*zn,n[1]*zn,t[0]*zn,t[1]*zn)};function oi(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),f=i*Math.cos(n),l=i*Math.sin(n),c=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(In(r-t)+i*o*In(e-n))),p=1/Math.sin(h);var g=h?function(n){var t=Math.sin(n*=h)*p,e=Math.sin(h-n)*p,r=e*f+t*c,i=e*l+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Ln,Math.atan2(o,Math.sqrt(r*r+i*i))*Ln]}:function(){return[n*Ln,t*Ln]};g.distance=h;return g}n.geo.length=function(t){ai=0;n.geo.stream(t,fi);return ai};var ai;var fi={sphere:L,point:L,lineStart:li,lineEnd:L,polygonStart:L,polygonEnd:L};function li(){var n,t,e;fi.point=function(i,u){n=i*zn,t=Math.sin(u*=zn),e=Math.cos(u);fi.point=r};fi.lineEnd=function(){fi.point=fi.lineEnd=L};function r(r,i){var u=Math.sin(i*=zn),o=Math.cos(i),a=d((r*=zn)-n),f=Math.cos(a);ai+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=e*u-t*o*f)*a),t*u+e*o*f);n=r,t=u,e=o}}function ci(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]};return e}var si=ci(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(n.geo.azimuthalEqualArea=function(){return Vr(si)}).raw=si;var hi=ci(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},_t);(n.geo.azimuthalEquidistant=function(){return Vr(hi)}).raw=hi;function pi(n,t){var e=Math.cos(n),r=function(n){return Math.tan(kn/4+n/2)},i=n===t?Math.sin(n):Math.log(e/Math.cos(t))/Math.log(r(t)/r(n)),u=e*Math.pow(r(n),i)/i;if(!i)return di;function o(n,t){if(u>0){if(t<-En+An)t=-En+An}else{if(t>En-An)t=En-An}var e=u/Math.pow(r(t),i);return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}o.invert=function(n,t){var e=u-t,r=Tn(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(u/r,1/i))-En]};return o}(n.geo.conicConformal=function(){return wr(pi)}).raw=pi;function gi(n,t){var e=Math.cos(n),r=n===t?Math.sin(n):(e-Math.cos(t))/(t-n),i=e/r+n;if(d(r)<An)return Br;function u(n,t){var e=i-t;return[e*Math.sin(r*n),i-e*Math.cos(r*n)]}u.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/r,i-Tn(r)*Math.sqrt(n*n+e*e)]};return u}(n.geo.conicEquidistant=function(){return wr(gi)}).raw=gi;var vi=ci(function(n){return 1/n},Math.atan);(n.geo.gnomonic=function(){return Vr(vi)}).raw=vi;function di(n,t){return[n,Math.log(Math.tan(kn/4+t/2))]}di.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-En]};function yi(n){var t=Vr(n),e=t.scale,r=t.translate,i=t.clipExtent,u;t.scale=function(){var n=e.apply(t,arguments);return n===t?u?t.clipExtent(null):t:n};t.translate=function(){var n=r.apply(t,arguments);return n===t?u?t.clipExtent(null):t:n};t.clipExtent=function(n){var o=i.apply(t,arguments);if(o===t){if(u=n==null){var a=kn*e(),f=r();i([[f[0]-a,f[1]-a],[f[0]+a,f[1]+a]])}}else if(u){o=null}return o};return t.clipExtent(null)}(n.geo.mercator=function(){return yi(di)}).raw=di;var mi=ci(function(){return 1},Math.asin);(n.geo.orthographic=function(){return Vr(mi)}).raw=mi;var xi=ci(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(n.geo.stereographic=function(){return Vr(xi)}).raw=xi;function Mi(n,t){return[Math.log(Math.tan(kn/4+t/2)),-n]}Mi.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-En]};(n.geo.transverseMercator=function(){var n=yi(Mi),t=n.center,e=n.rotate;n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])};n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])};return e([0,0,90])}).raw=Mi;n.geom={};function wi(n){return n[0]}function _i(n){return n[1]}n.geom.hull=function(n){var t=wi,e=_i;if(arguments.length)return r(n);function r(n){if(n.length<3)return[];var r=wt(t),i=wt(e),u,o=n.length,a=[],f=[];for(u=0;u<o;u++){a.push([+r.call(this,n[u],u),+i.call(this,n[u],u),u])}a.sort(Si);for(u=0;u<o;u++)f.push([a[u][0],-a[u][1]]);var l=bi(a),c=bi(f);var s=c[0]===l[0],h=c[c.length-1]===l[l.length-1],p=[];for(u=l.length-1;u>=0;--u)p.push(n[a[l[u]][2]]);for(u=+s;u<c.length-h;++u)p.push(n[a[c[u]][2]]);return p}r.x=function(n){return arguments.length?(t=n,r):t};r.y=function(n){return arguments.length?(e=n,r):e};return r};function bi(n){var t=n.length,e=[0,1],r=2;for(var i=2;i<t;i++){while(r>1&&qn(n[e[r-2]],n[e[r-1]],n[i])<=0)--r;e[r++]=i}return e.slice(0,r)}function Si(n,t){return n[0]-t[0]||n[1]-t[1]}n.geom.polygon=function(n){j(n,ki);return n};var ki=n.geom.polygon.prototype=[];ki.area=function(){var n=-1,t=this.length,e,r=this[t-1],i=0;while(++n<t){e=r;r=this[n];i+=e[1]*r[0]-e[0]*r[1]}return i*.5};ki.centroid=function(n){var t=-1,e=this.length,r=0,i=0,u,o=this[e-1],a;if(!arguments.length)n=-1/(6*this.area());while(++t<e){u=o;o=this[t];a=u[0]*o[1]-o[0]*u[1];r+=(u[0]+o[0])*a;i+=(u[1]+o[1])*a}return[r*n,i*n]};ki.clip=function(n){var t,e=Ai(n),r=-1,i=this.length-Ai(this),u,o,a=this[i-1],f,l,c;while(++r<i){t=n.slice();n.length=0;f=this[r];l=t[(o=t.length-e)-1];u=-1;while(++u<o){c=t[u];if(Ni(c,a,f)){if(!Ni(l,a,f)){n.push(Ei(l,c,a,f))}n.push(c)}else if(Ni(l,a,f)){n.push(Ei(l,c,a,f))}l=c}if(e)n.push(n[0]);a=f}return n};function Ni(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Ei(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,f=n[1],l=e[1],c=t[1]-f,s=r[1]-l,h=(a*(f-l)-s*(i-u))/(s*o-a*c);return[i+h*o,f+h*c]}function Ai(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}var Ci,zi,Li,Ti=[],qi,Ri,Di=[];function Pi(){ru(this);this.edge=this.site=this.circle=null}function Ui(n){var t=Ti.pop()||new Pi;t.site=n;return t}function ji(n){Bi(n);Li.remove(n);Ti.push(n);ru(n)}function Ii(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];ji(n);var f=u;while(f.circle&&d(e-f.circle.x)<An&&d(r-f.circle.cy)<An){u=f.P;a.unshift(f);ji(f);f=u}a.unshift(f);Bi(f);var l=o;while(l.circle&&d(e-l.circle.x)<An&&d(r-l.circle.cy)<An){o=l.N;a.push(l);ji(l);l=o}a.push(l);Bi(l);var c=a.length,s;for(s=1;s<c;++s){l=a[s];f=a[s-1];nu(l.edge,f.site,l.site,i)}f=a[0];l=a[c-1];l.edge=Ki(f.site,l.site,null,i);$i(f);$i(l)}function Hi(n){var t=n.x,e=n.y,r,i,u,o,a=Li._;while(a){u=Fi(a,e)-t;if(u>An)a=a.L;else{o=t-Oi(a,e);if(o>An){if(!a.R){r=a;break}a=a.R}else{if(u>-An){r=a.P;i=a}else if(o>-An){r=a;i=a.N}else{r=i=a}break}}}var f=Ui(n);Li.insert(r,f);if(!r&&!i)return;if(r===i){Bi(r);i=Ui(r.site);Li.insert(f,i);f.edge=i.edge=Ki(r.site,f.site);$i(r);$i(i);return}if(!i){f.edge=Ki(r.site,f.site);return}Bi(r);Bi(i);var l=r.site,c=l.x,s=l.y,h=n.x-c,p=n.y-s,g=i.site,v=g.x-c,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,x=v*v+d*d,M={x:(d*m-p*x)/y+c,y:(h*x-v*m)/y+s};nu(i.edge,l,g,M);f.edge=Ki(l,n,null,M);i.edge=Ki(n,g,null,M);$i(r);$i(i)}function Fi(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-Infinity;e=o.site;var a=e.x,f=e.y,l=f-t;if(!l)return a;var c=a-r,s=1/u-1/l,h=c/l;if(s)return(-h+Math.sqrt(h*h-2*s*(c*c/(-2*l)-f+l/2+i-u/2)))/s+r;return(r+a)/2}function Oi(n,t){var e=n.N;if(e)return Fi(e,t);var r=n.site;return r.y===t?r.x:Infinity}function Yi(n){this.site=n;this.edges=[]}Yi.prototype.prepare=function(){var n=this.edges,t=n.length,e;while(t--){e=n[t].edge;if(!e.b||!e.a)n.splice(t,1)}n.sort(Vi);return n.length};function Zi(n){var t=n[0][0],e=n[1][0],r=n[0][1],i=n[1][1],u,o,a,f,l=zi,c=l.length,s,h,p,g,v,y;while(c--){s=l[c];if(!s||!s.prepare())continue;p=s.edges;g=p.length;h=0;while(h<g){y=p[h].end(),a=y.x,f=y.y;v=p[++h%g].start(),u=v.x,o=v.y;if(d(a-u)>An||d(f-o)>An){p.splice(h,0,new tu(Qi(s.site,y,d(a-t)<An&&i-f>An?{x:t,y:d(u-t)<An?o:i}:d(f-i)<An&&e-a>An?{x:d(o-i)<An?u:e,y:i}:d(a-e)<An&&f-r>An?{x:e,y:d(u-e)<An?o:r}:d(f-r)<An&&a-t>An?{x:d(o-r)<An?u:t,y:r}:null),s.site,null));++g}}}}function Vi(n,t){return t.angle-n.angle}function Xi(){ru(this);this.x=this.y=this.arc=this.site=this.cy=null}function $i(n){var t=n.P,e=n.N;if(!t||!e)return;var r=t.site,i=n.site,u=e.site;if(r===u)return;var o=i.x,a=i.y,f=r.x-o,l=r.y-a,c=u.x-o,s=u.y-a;var h=2*(f*s-l*c);if(h>=-Cn)return;var p=f*f+l*l,g=c*c+s*s,v=(s*p-l*g)/h,d=(f*g-c*p)/h,s=d+a;var y=Di.pop()||new Xi;y.arc=n;y.site=i;y.x=v+o;y.y=s+Math.sqrt(v*v+d*d);y.cy=s;n.circle=y;var m=null,x=Ri._;while(x){if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(x.L)x=x.L;else{m=x.P;break}}else{if(x.R)x=x.R;else{m=x;break}}}Ri.insert(m,y);if(!m)qi=y}function Bi(n){var t=n.circle;if(t){if(!t.P)qi=t.N;Ri.remove(t);Di.push(t);ru(t);n.circle=null}}function Wi(n){var t=Ci,e=yr(n[0][0],n[0][1],n[1][0],n[1][1]),r=t.length,i;while(r--){i=t[r];if(!Ji(i,n)||!e(i)||d(i.a.x-i.b.x)<An&&d(i.a.y-i.b.y)<An){i.a=i.b=null;t.splice(r,1)}}}function Ji(n,t){var e=n.b;if(e)return true;var r=n.a,i=t[0][0],u=t[1][0],o=t[0][1],a=t[1][1],f=n.l,l=n.r,c=f.x,s=f.y,h=l.x,p=l.y,g=(c+h)/2,v=(s+p)/2,d,y;if(p===s){if(g<i||g>=u)return;if(c>h){if(!r)r={x:g,y:o};else if(r.y>=a)return;e={x:g,y:a}}else{if(!r)r={x:g,y:a};else if(r.y<o)return;e={x:g,y:o}}}else{d=(c-h)/(p-s);y=v-d*g;if(d<-1||d>1){if(c>h){if(!r)r={x:(o-y)/d,y:o};else if(r.y>=a)return;e={x:(a-y)/d,y:a}}else{if(!r)r={x:(a-y)/d,y:a};else if(r.y<o)return;e={x:(o-y)/d,y:o}}}else{if(s<p){if(!r)r={x:i,y:d*i+y};else if(r.x>=u)return;e={x:u,y:d*u+y}}else{if(!r)r={x:u,y:d*u+y};else if(r.x<i)return;e={x:i,y:d*i+y}}}}n.a=r;n.b=e;return true}function Gi(n,t){this.l=n;this.r=t;this.a=this.b=null}function Ki(n,t,e,r){var i=new Gi(n,t);Ci.push(i);if(e)nu(i,n,t,e);if(r)nu(i,t,n,r);zi[n.i].edges.push(new tu(i,n,t));zi[t.i].edges.push(new tu(i,t,n));return i}function Qi(n,t,e){var r=new Gi(n,null);r.a=t;r.b=e;Ci.push(r);return r}function nu(n,t,e,r){if(!n.a&&!n.b){n.a=r;n.l=t;n.r=e}else if(n.l===e){n.b=r}else{n.a=r}}function tu(n,t,e){var r=n.a,i=n.b;this.edge=n;this.site=t;this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}tu.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function eu(){this._=null}function ru(n){n.U=n.C=n.L=n.R=n.P=n.N=null}eu.prototype={insert:function(n,t){var e,r,i;if(n){t.P=n;t.N=n.N;if(n.N)n.N.P=t;n.N=t;if(n.R){n=n.R;while(n.L)n=n.L;n.L=t}else{n.R=t}e=n}else if(this._){n=ou(this._);t.P=null;t.N=n;n.P=n.L=t;e=n}else{t.P=t.N=null;this._=t;e=null}t.L=t.R=null;t.U=e;t.C=true;n=t;while(e&&e.C){r=e.U;if(e===r.L){i=r.R;if(i&&i.C){e.C=i.C=false;r.C=true;n=r}else{if(n===e.R){iu(this,e);n=e;e=n.U}e.C=false;r.C=true;uu(this,r)}}else{i=r.L;if(i&&i.C){e.C=i.C=false;r.C=true;n=r}else{if(n===e.L){uu(this,e);n=e;e=n.U}e.C=false;r.C=true;iu(this,r)}}e=n.U}this._.C=false},remove:function(n){if(n.N)n.N.P=n.P;if(n.P)n.P.N=n.N;n.N=n.P=null;var t=n.U,e,r=n.L,i=n.R,u,o;if(!r)u=i;else if(!i)u=r;else u=ou(i);if(t){if(t.L===n)t.L=u;else t.R=u}else{this._=u}if(r&&i){o=u.C;u.C=n.C;u.L=r;r.U=u;if(u!==i){t=u.U;u.U=n.U;n=u.R;t.L=n;u.R=i;i.U=u}else{u.U=t;t=u;n=u.R}}else{o=n.C;n=u}if(n)n.U=t;if(o)return;if(n&&n.C){n.C=false;return}do{if(n===this._)break;if(n===t.L){e=t.R;if(e.C){e.C=false;t.C=true;iu(this,t);e=t.R}if(e.L&&e.L.C||e.R&&e.R.C){if(!e.R||!e.R.C){e.L.C=false;e.C=true;uu(this,e);e=t.R}e.C=t.C;t.C=e.R.C=false;iu(this,t);n=this._;break}}else{e=t.L;if(e.C){e.C=false;t.C=true;uu(this,t);e=t.L}if(e.L&&e.L.C||e.R&&e.R.C){if(!e.L||!e.L.C){e.R.C=false;e.C=true;iu(this,e);e=t.L}e.C=t.C;t.C=e.L.C=false;uu(this,t);n=this._;break}}e.C=true;n=t;t=t.U}while(!n.C);if(n)n.C=false}};function iu(n,t){var e=t,r=t.R,i=e.U;if(i){if(i.L===e)i.L=r;else i.R=r}else{n._=r}r.U=i;e.U=r;e.R=r.L;if(e.R)e.R.U=e;r.L=e}function uu(n,t){var e=t,r=t.L,i=e.U;if(i){if(i.L===e)i.L=r;else i.R=r}else{n._=r}r.U=i;e.U=r;e.L=r.R;if(e.L)e.L.U=e;r.R=e}function ou(n){while(n.L)n=n.L;return n}function au(n,t){var e=n.sort(fu).pop(),r,i,u;Ci=[];zi=new Array(n.length);Li=new eu;Ri=new eu;while(true){u=qi;if(e&&(!u||e.y<u.y||e.y===u.y&&e.x<u.x)){if(e.x!==r||e.y!==i){zi[e.i]=new Yi(e);Hi(e);r=e.x,i=e.y}e=n.pop()}else if(u){Ii(u.arc)}else{break}}if(t)Wi(t),Zi(t);var o={cells:zi,edges:Ci};Li=Ri=Ci=zi=null;return o}function fu(n,t){return t.y-n.y||t.x-n.x}n.geom.voronoi=function(n){var t=wi,e=_i,r=t,i=e,u=lu;if(n)return o(n);function o(n){var t=new Array(n.length),e=u[0][0],r=u[0][1],i=u[1][0],o=u[1][1];au(a(n),u).cells.forEach(function(u,a){var f=u.edges,l=u.site,c=t[a]=f.length?f.map(function(n){var t=n.start();return[t.x,t.y]}):l.x>=e&&l.x<=i&&l.y>=r&&l.y<=o?[[e,o],[i,o],[i,r],[e,r]]:[];c.point=n[a]});return t}function a(n){return n.map(function(n,t){return{x:Math.round(r(n,t)/An)*An,y:Math.round(i(n,t)/An)*An,i:t}})}o.links=function(n){return au(a(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})};o.triangles=function(n){var t=[];au(a(n)).cells.forEach(function(e,r){var i=e.site,u=e.edges.sort(Vi),o=-1,a=u.length,f,l,c=u[a-1].edge,s=c.l===i?c.r:c.l;while(++o<a){f=c;l=s;c=u[o].edge;s=c.l===i?c.r:c.l;if(r<l.i&&r<s.i&&cu(i,l,s)<0){t.push([n[r],n[l.i],n[s.i]])}}});return t};o.x=function(n){return arguments.length?(r=wt(t=n),o):t};o.y=function(n){return arguments.length?(i=wt(e=n),o):e};o.clipExtent=function(n){if(!arguments.length)return u===lu?null:u;u=n==null?lu:n;return o};o.size=function(n){if(!arguments.length)return u===lu?null:u&&u[1];return o.clipExtent(n&&[[0,0],n])};return o};var lu=[[-1e6,-1e6],[1e6,1e6]];function cu(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}n.geom.delaunay=function(t){return n.geom.voronoi().triangles(t)};n.geom.quadtree=function(n,t,e,r,i){var u=wi,o=_i,a;if(a=arguments.length){u=su;o=hu;if(a===3){i=e;r=t;e=t=0}return f(n)}function f(n){var f,l=wt(u),c=wt(o),s,h,p,g,v,y,m,x;if(t!=null){v=t,y=e,m=r,x=i}else{m=x=-(v=y=Infinity);s=[],h=[];g=n.length;if(a)for(p=0;p<g;++p){f=n[p];if(f.x<v)v=f.x;if(f.y<y)y=f.y;if(f.x>m)m=f.x;if(f.y>x)x=f.y;s.push(f.x);h.push(f.y)}else for(p=0;p<g;++p){var M=+l(f=n[p],p),w=+c(f,p);if(M<v)v=M;if(w<y)y=w;if(M>m)m=M;if(w>x)x=w;s.push(M);h.push(w)}}var _=m-v,b=x-y;if(_>b)x=y+_;else m=v+b;function S(n,t,e,r,i,u,o,a){if(isNaN(e)||isNaN(r))return;if(n.leaf){var f=n.x,l=n.y;if(f!=null){if(d(f-e)+d(l-r)<.01){k(n,t,e,r,i,u,o,a)}else{var c=n.point;n.x=n.y=n.point=null;k(n,c,f,l,i,u,o,a);k(n,t,e,r,i,u,o,a)}}else{n.x=e,n.y=r,n.point=t}}else{k(n,t,e,r,i,u,o,a)}}function k(n,t,e,r,i,u,o,a){var f=(i+o)*.5,l=(u+a)*.5,c=e>=f,s=r>=l,h=(s<<1)+c;n.leaf=false;n=n.nodes[h]||(n.nodes[h]=pu());if(c)i=f;else o=f;if(s)u=l;else a=l;S(n,t,e,r,i,u,o,a)}var N=pu();N.add=function(n){S(N,n,+l(n,++p),+c(n,p),v,y,m,x)};N.visit=function(n){gu(n,N,v,y,m,x)};p=-1;if(t==null){while(++p<g){S(N,n[p],s[p],h[p],v,y,m,x)}--p}else n.forEach(N.add);s=h=n=f=null;return N}f.x=function(n){return arguments.length?(u=n,f):u};f.y=function(n){return arguments.length?(o=n,f):o};f.extent=function(n){if(!arguments.length)return t==null?null:[[t,e],[r,i]];if(n==null)t=e=r=i=null;else t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1];return f};f.size=function(n){if(!arguments.length)return t==null?null:[r-t,i-e];if(n==null)t=e=r=i=null;else t=e=0,r=+n[0],i=+n[1];return f};return f};function su(n){return n.x}function hu(n){return n.y}function pu(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function gu(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=(e+i)*.5,a=(r+u)*.5,f=t.nodes;if(f[0])gu(n,f[0],e,r,o,a);if(f[1])gu(n,f[1],o,r,i,a);if(f[2])gu(n,f[2],e,a,o,u);if(f[3])gu(n,f[3],o,a,i,u)}}n.interpolateRgb=vu;function vu(t,e){t=n.rgb(t);e=n.rgb(e);var r=t.r,i=t.g,u=t.b,o=e.r-r,a=e.g-i,f=e.b-u;return function(n){return"#"+gt(Math.round(r+o*n))+gt(Math.round(i+a*n))+gt(Math.round(u+f*n))}}n.interpolateObject=du;function du(n,t){var e={},r={},i;for(i in n){if(i in t){e[i]=wu(n[i],t[i])}else{r[i]=n[i]}}for(i in t){if(!(i in n)){r[i]=t[i]}}return function(n){for(i in e)r[i]=e[i](n);return r}}n.interpolateNumber=yu;function yu(n,t){t-=n=+n;return function(e){return n+t*e}}n.interpolateString=mu;function mu(n,t){var e=xu.lastIndex=Mu.lastIndex=0,r,i,u,o=-1,a=[],f=[];n=n+"",t=t+"";while((r=xu.exec(n))&&(i=Mu.exec(t))){if((u=i.index)>e){u=t.slice(e,u);if(a[o])a[o]+=u;else a[++o]=u}if((r=r[0])===(i=i[0])){if(a[o])a[o]+=i;else a[++o]=i}else{a[++o]=null;f.push({i:o,x:yu(r,i)})}e=Mu.lastIndex}if(e<t.length){u=t.slice(e);if(a[o])a[o]+=u;else a[++o]=u}return a.length<2?f[0]?(t=f[0].x,function(n){return t(n)+""}):function(){return t}:(t=f.length,function(n){for(var e=0,r;e<t;++e)a[(r=f[e]).i]=r.x(n);return a.join("")})}var xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mu=new RegExp(xu.source,"g");n.interpolate=wu;function wu(t,e){var r=n.interpolators.length,i;while(--r>=0&&!(i=n.interpolators[r](t,e)));return i}n.interpolators=[function(n,t){var e=typeof t;return(e==="string"?Mt.has(t)||/^(#|rgb\(|hsl\()/.test(t)?vu:mu:t instanceof Xn?vu:Array.isArray(t)?_u:e==="object"&&isNaN(t)?du:yu)(n,t)}];n.interpolateArray=_u;function _u(n,t){var e=[],r=[],i=n.length,u=t.length,o=Math.min(n.length,t.length),a;for(a=0;a<o;++a)e.push(wu(n[a],t[a]));for(;a<i;++a)r[a]=n[a];for(;a<u;++a)r[a]=t[a];return function(n){for(a=0;a<o;++a)r[a]=e[a](n);return r}}var bu=function(){return _t};var Su=n.map({linear:bu,poly:Tu,quad:function(){return Cu},cubic:function(){return zu},sin:function(){return qu},exp:function(){return Ru},circle:function(){return Du},elastic:Pu,back:Uu,bounce:function(){return ju}});var ku=n.map({in:_t,out:Eu,"in-out":Au,"out-in":function(n){return Au(Eu(n))}});n.ease=function(n){var e=n.indexOf("-"),r=e>=0?n.slice(0,e):n,i=e>=0?n.slice(e+1):"in";r=Su.get(r)||bu;i=ku.get(i)||_t;return Nu(i(r.apply(null,t.call(arguments,1))))};function Nu(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function Eu(n){return function(t){return 1-n(1-t)}}function Au(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function Cu(n){return n*n}function zu(n){return n*n*n}function Lu(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function Tu(n){return function(t){return Math.pow(t,n)}}function qu(n){return 1-Math.cos(n*En)}function Ru(n){return Math.pow(2,10*(n-1))}function Du(n){return 1-Math.sqrt(1-n*n)}function Pu(n,t){var e;if(arguments.length<2)t=.45;if(arguments.length)e=t/Nn*Math.asin(1/n);else n=1,e=t/4;return function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*Nn/t)}}function Uu(n){if(!n)n=1.70158;return function(t){return t*t*((n+1)*t-n)}}function ju(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}n.interpolateHcl=Iu;function Iu(t,e){t=n.hcl(t);e=n.hcl(e);var r=t.h,i=t.c,u=t.l,o=e.h-r,a=e.c-i,f=e.l-u;if(isNaN(a))a=0,i=isNaN(i)?e.c:i;if(isNaN(o))o=0,r=isNaN(r)?e.h:r;else if(o>180)o-=360;else if(o<-180)o+=360;return function(n){return Kn(r+o*n,i+a*n,u+f*n)+""}}n.interpolateHsl=Hu;function Hu(t,e){t=n.hsl(t);e=n.hsl(e);var r=t.h,i=t.s,u=t.l,o=e.h-r,a=e.s-i,f=e.l-u;if(isNaN(a))a=0,i=isNaN(i)?e.s:i;if(isNaN(o))o=0,r=isNaN(r)?e.h:r;else if(o>180)o-=360;else if(o<-180)o+=360;return function(n){return Wn(r+o*n,i+a*n,u+f*n)+""}}n.interpolateLab=Fu;function Fu(t,e){t=n.lab(t);e=n.lab(e);var r=t.l,i=t.a,u=t.b,o=e.l-r,a=e.a-i,f=e.b-u;return function(n){return ut(r+o*n,i+a*n,u+f*n)+""}}n.interpolateRound=Ou;function Ou(n,t){t-=n;return function(e){return Math.round(n+t*e)}}n.transform=function(t){var e=r.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(n){if(n!=null){e.setAttribute("transform",n);var t=e.transform.baseVal.consolidate()}return new Yu(t?t.matrix:$u)})(t)};function Yu(n){var t=[n.a,n.b],e=[n.c,n.d],r=Vu(t),i=Zu(t,e),u=Vu(Xu(e,t,-i))||0;if(t[0]*e[1]<e[0]*t[1]){t[0]*=-1;t[1]*=-1;r*=-1;i*=-1}this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ln;this.translate=[n.e,n.f];this.scale=[r,u];this.skew=u?Math.atan2(i,u)*Ln:0}Yu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Zu(n,t){return n[0]*t[0]+n[1]*t[1]}function Vu(n){var t=Math.sqrt(Zu(n,n));if(t){n[0]/=t;n[1]/=t}return t}function Xu(n,t,e){n[0]+=e*t[0];n[1]+=e*t[1];return n}var $u={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=Bu;function Bu(t,e){var r=[],i=[],u,o=n.transform(t),a=n.transform(e),f=o.translate,l=a.translate,c=o.rotate,s=a.rotate,h=o.skew,p=a.skew,g=o.scale,v=a.scale;if(f[0]!=l[0]||f[1]!=l[1]){r.push("translate(",null,",",null,")");i.push({i:1,x:yu(f[0],l[0])},{i:3,x:yu(f[1],l[1])})}else if(l[0]||l[1]){r.push("translate("+l+")")}else{r.push("")}if(c!=s){if(c-s>180)s+=360;else if(s-c>180)c+=360;i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:yu(c,s)})}else if(s){r.push(r.pop()+"rotate("+s+")")}if(h!=p){i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:yu(h,p)})}else if(p){r.push(r.pop()+"skewX("+p+")")}if(g[0]!=v[0]||g[1]!=v[1]){u=r.push(r.pop()+"scale(",null,",",null,")");i.push({i:u-4,x:yu(g[0],v[0])},{i:u-2,x:yu(g[1],v[1])})}else if(v[0]!=1||v[1]!=1){r.push(r.pop()+"scale("+v+")")}u=i.length;return function(n){var t=-1,e;while(++t<u)r[(e=i[t]).i]=e.x(n);return r.join("")}}function Wu(n,t){t=t-(n=+n)?1/(t-n):0;return function(e){return(e-n)*t}}function Ju(n,t){t=t-(n=+n)?1/(t-n):0;return function(e){return Math.max(0,Math.min(1,(e-n)*t))}}n.layout={};n.layout.bundle=function(){return function(n){var t=[],e=-1,r=n.length;while(++e<r)t.push(Gu(n[e]));return t}};function Gu(n){var t=n.source,e=n.target,r=Qu(t,e),i=[t];while(t!==r){t=t.parent;i.push(t)}var u=i.length;while(e!==r){i.splice(u,0,e);e=e.parent}return i}function Ku(n){var t=[],e=n.parent;while(e!=null){t.push(n);n=e;e=e.parent}t.push(n);return t}function Qu(n,t){if(n===t)return n;var e=Ku(n),r=Ku(t),i=e.pop(),u=r.pop(),o=null;while(i===u){o=i;i=e.pop();u=r.pop()}return o}n.layout.chord=function(){var t={},e,r,i,u,o=0,a,f,l;function c(){var t={},c=[],h=n.range(u),p=[],g,v,d,y,m;e=[];r=[];g=0,y=-1;while(++y<u){v=0,m=-1;while(++m<u){v+=i[y][m]}c.push(v);p.push(n.range(u));g+=v}if(a){h.sort(function(n,t){return a(c[n],c[t])})}if(f){p.forEach(function(n,t){n.sort(function(n,e){return f(i[t][n],i[t][e])})})}g=(Nn-o*u)/g;v=0,y=-1;while(++y<u){d=v,m=-1;while(++m<u){var x=h[y],M=p[x][m],w=i[x][M],_=v,b=v+=w*g;t[x+"-"+M]={index:x,subindex:M,startAngle:_,endAngle:b,value:w}}r[x]={index:x,startAngle:d,endAngle:v,value:(v-d)/g};v+=o}y=-1;while(++y<u){m=y-1;while(++m<u){var S=t[y+"-"+m],k=t[m+"-"+y];if(S.value||k.value){e.push(S.value<k.value?{source:k,target:S}:{source:S,target:k})}}}if(l)s()}function s(){e.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}t.matrix=function(n){if(!arguments.length)return i;u=(i=n)&&i.length;e=r=null;return t};t.padding=function(n){if(!arguments.length)return o;o=n;e=r=null;return t};t.sortGroups=function(n){if(!arguments.length)return a;a=n;e=r=null;return t};t.sortSubgroups=function(n){if(!arguments.length)return f;f=n;e=null;return t};t.sortChords=function(n){if(!arguments.length)return l;l=n;if(e)s();return t};t.chords=function(){if(!e)c();return e};t.groups=function(){if(!r)c();return r};return t};n.layout.force=function(){var t={},e=n.dispatch("start","tick","end"),r=[1,1],i,u,o=.9,a=uo,f=oo,l=-30,c=ao,s=.1,h=.64,p=[],g=[],v,d,y;function m(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,f=u*u+o*o;if(a*a/h<f){if(f<c){var l=t.charge/f;n.px-=u*l;n.py-=o*l}return true}if(t.point&&f&&f<c){var l=t.pointCharge/f;n.px-=u*l;n.py-=o*l}}return!t.charge}}t.tick=function(){if((u*=.99)<.005){e.end({type:"end",alpha:u=0});return true}var t=p.length,i=g.length,a,f,c,h,x,M,w,_,b;for(f=0;f<i;++f){c=g[f];h=c.source;x=c.target;_=x.x-h.x;b=x.y-h.y;if(M=_*_+b*b){M=u*d[f]*((M=Math.sqrt(M))-v[f])/M;_*=M;b*=M;x.x-=_*(w=h.weight/(x.weight+h.weight));x.y-=b*w;h.x+=_*(w=1-w);h.y+=b*w}}if(w=u*s){_=r[0]/2;b=r[1]/2;f=-1;if(w)while(++f<t){c=p[f];c.x+=(_-c.x)*w;c.y+=(b-c.y)*w}}if(l){io(a=n.geom.quadtree(p),u,y);f=-1;while(++f<t){if(!(c=p[f]).fixed){a.visit(m(c))}}}f=-1;while(++f<t){c=p[f];if(c.fixed){c.x=c.px;c.y=c.py}else{c.x-=(c.px-(c.px=c.x))*o;c.y-=(c.py-(c.py=c.y))*o}}e.tick({type:"tick",alpha:u})};t.nodes=function(n){if(!arguments.length)return p;p=n;return t};t.links=function(n){if(!arguments.length)return g;g=n;return t};t.size=function(n){if(!arguments.length)return r;r=n;return t};t.linkDistance=function(n){if(!arguments.length)return a;a=typeof n==="function"?n:+n;return t};t.distance=t.linkDistance;t.linkStrength=function(n){if(!arguments.length)return f;f=typeof n==="function"?n:+n;return t};t.friction=function(n){if(!arguments.length)return o;o=+n;return t};t.charge=function(n){if(!arguments.length)return l;l=typeof n==="function"?n:+n;return t};t.chargeDistance=function(n){if(!arguments.length)return Math.sqrt(c);c=n*n;return t};t.gravity=function(n){if(!arguments.length)return s;s=+n;return t};t.theta=function(n){if(!arguments.length)return Math.sqrt(h);h=n*n;return t};t.alpha=function(r){if(!arguments.length)return u;r=+r;if(u){if(r>0)u=r;else u=0}else if(r>0){e.start({type:"start",alpha:u=r});n.timer(t.tick)}return t};t.start=function(){var n,e=p.length,i=g.length,u=r[0],o=r[1],c,s;for(n=0;n<e;++n){(s=p[n]).index=n;s.weight=0}for(n=0;n<i;++n){s=g[n];if(typeof s.source=="number")s.source=p[s.source];if(typeof s.target=="number")s.target=p[s.target];++s.source.weight;++s.target.weight}for(n=0;n<e;++n){s=p[n];if(isNaN(s.x))s.x=h("x",u);if(isNaN(s.y))s.y=h("y",o);if(isNaN(s.px))s.px=s.x;if(isNaN(s.py))s.py=s.y}v=[];if(typeof a==="function")for(n=0;n<i;++n)v[n]=+a.call(this,g[n],n);else for(n=0;n<i;++n)v[n]=a;d=[];if(typeof f==="function")for(n=0;n<i;++n)d[n]=+f.call(this,g[n],n);else for(n=0;n<i;++n)d[n]=f;y=[];if(typeof l==="function")for(n=0;n<e;++n)y[n]=+l.call(this,p[n],n);else for(n=0;n<e;++n)y[n]=l;function h(t,r){if(!c){c=new Array(e);for(o=0;o<e;++o){c[o]=[]}for(o=0;o<a;++o){var i=g[o];c[i.source.index].push(i.target);c[i.target.index].push(i.source)}}var u=c[n],o=-1,a=u.length,f;while(++o<a)if(!isNaN(f=u[o][t]))return f;return Math.random()*r}return t.resume()};t.resume=function(){return t.alpha(.1)};t.stop=function(){return t.alpha(0)};t.drag=function(){if(!i)i=n.behavior.drag().origin(_t).on("dragstart.force",no).on("drag.force",x).on("dragend.force",to);if(!arguments.length)return i;this.on("mouseover.force",eo).on("mouseout.force",ro).call(i)};function x(e){e.px=n.event.x,e.py=n.event.y;t.resume()}return n.rebind(t,e,"on")};function no(n){n.fixed|=2}function to(n){n.fixed&=~6}function eo(n){n.fixed|=4;n.px=n.x,n.py=n.y}function ro(n){n.fixed&=~4}function io(n,t,e){var r=0,i=0;n.charge=0;if(!n.leaf){var u=n.nodes,o=u.length,a=-1,f;while(++a<o){f=u[a];if(f==null)continue;io(f,t,e);n.charge+=f.charge;r+=f.charge*f.cx;i+=f.charge*f.cy}}if(n.point){if(!n.leaf){n.point.x+=Math.random()-.5;n.point.y+=Math.random()-.5}var l=t*e[n.point.index];n.charge+=n.pointCharge=l;r+=l*n.point.x;i+=l*n.point.y}n.cx=r/n.charge;n.cy=i/n.charge}var uo=20,oo=1,ao=Infinity;n.layout.hierarchy=function(){var n=po,t=so,e=ho;function r(i){var u=[i],o=[],a;i.depth=0;while((a=u.pop())!=null){o.push(a);if((l=t.call(r,a,a.depth))&&(f=l.length)){var f,l,c;while(--f>=0){u.push(c=l[f]);c.parent=a;c.depth=a.depth+1}if(e)a.value=0;a.children=l}else{if(e)a.value=+e.call(r,a,a.depth)||0;delete a.children}}co(i,function(t){var r,i;if(n&&(r=t.children))r.sort(n);if(e&&(i=t.parent))i.value+=t.value});return o}r.sort=function(t){if(!arguments.length)return n;n=t;return r};r.children=function(n){if(!arguments.length)return t;t=n;return r};r.value=function(n){if(!arguments.length)return e;e=n;return r};r.revalue=function(n){if(e){lo(n,function(n){if(n.children)n.value=0});co(n,function(n){var t;if(!n.children)n.value=+e.call(r,n,n.depth)||0;if(t=n.parent)t.value+=n.value})}return n};return r};function fo(t,e){n.rebind(t,e,"sort","children","value");t.nodes=t;t.links=go;return t}function lo(n,t){var e=[n];while((n=e.pop())!=null){t(n);if((i=n.children)&&(r=i.length)){var r,i;while(--r>=0)e.push(i[r])}}}function co(n,t){var e=[n],r=[];while((n=e.pop())!=null){r.push(n);if((o=n.children)&&(u=o.length)){var i=-1,u,o;while(++i<u)e.push(o[i])}}while((n=r.pop())!=null){t(n)}}function so(n){return n.children}function ho(n){return n.value}function po(n,t){return t.value-n.value}function go(t){return n.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}n.layout.partition=function(){var t=n.layout.hierarchy(),e=[1,1];function r(n,t,e,i){var u=n.children;n.x=t;n.y=n.depth*i;n.dx=e;n.dy=i;if(u&&(a=u.length)){var o=-1,a,f,l;e=n.value?e/n.value:0;while(++o<a){r(f=u[o],t,l=f.value*e,i);t+=l}}}function i(n){var t=n.children,e=0;if(t&&(u=t.length)){var r=-1,u;while(++r<u)e=Math.max(e,i(t[r]))}return 1+e}function u(n,u){var o=t.call(this,n,u);r(o[0],0,e[0],e[1]/i(o[0]));return o}u.size=function(n){if(!arguments.length)return e;e=n;return u};return fo(u,t)};n.layout.pie=function(){var t=Number,e=vo,r=0,i=Nn;function u(o){var a=o.map(function(n,e){return+t.call(u,n,e)});var f=+(typeof r==="function"?r.apply(this,arguments):r);var l=((typeof i==="function"?i.apply(this,arguments):i)-f)/n.sum(a);var c=n.range(o.length);if(e!=null)c.sort(e===vo?function(n,t){return a[t]-a[n]}:function(n,t){return e(o[n],o[t])});var s=[];c.forEach(function(n){var t;s[n]={data:o[n],value:t=a[n],startAngle:f,endAngle:f+=t*l}});return s}u.value=function(n){if(!arguments.length)return t;t=n;return u};u.sort=function(n){if(!arguments.length)return e;e=n;return u};u.startAngle=function(n){if(!arguments.length)return r;r=n;return u};u.endAngle=function(n){if(!arguments.length)return i;i=n;return u};return u};var vo={};n.layout.stack=function(){var t=_t,e=_o,r=bo,i=xo,u=yo,o=mo;function a(f,l){var c=f.map(function(n,e){return t.call(a,n,e)});var s=c.map(function(n){return n.map(function(n,t){return[u.call(a,n,t),o.call(a,n,t)]})});var h=e.call(a,s,l);c=n.permute(c,h);s=n.permute(s,h);var p=r.call(a,s,l);var g=c.length,v=c[0].length,d,y,m;for(y=0;y<v;++y){i.call(a,c[0][y],m=p[y],s[0][y][1]);for(d=1;d<g;++d){i.call(a,c[d][y],m+=s[d-1][y][1],s[d][y][1])}}return f}a.values=function(n){if(!arguments.length)return t;t=n;return a};a.order=function(n){if(!arguments.length)return e;e=typeof n==="function"?n:Mo.get(n)||_o;return a};a.offset=function(n){if(!arguments.length)return r;r=typeof n==="function"?n:wo.get(n)||bo;return a};a.x=function(n){if(!arguments.length)return u;u=n;return a};a.y=function(n){if(!arguments.length)return o;o=n;return a};a.out=function(n){if(!arguments.length)return i;i=n;return a};return a};function yo(n){return n.x}function mo(n){return n.y}function xo(n,t,e){n.y0=t;n.y=e}var Mo=n.map({"inside-out":function(t){var e=t.length,r,i,u=t.map(So),o=t.map(ko),a=n.range(e).sort(function(n,t){return u[n]-u[t]}),f=0,l=0,c=[],s=[];for(r=0;r<e;++r){i=a[r];if(f<l){f+=o[i];c.push(i)}else{l+=o[i];s.push(i)}}return s.reverse().concat(c)},reverse:function(t){return n.range(t.length).reverse()},default:_o});var wo=n.map({silhouette:function(n){var t=n.length,e=n[0].length,r=[],i=0,u,o,a,f=[];for(o=0;o<e;++o){for(u=0,a=0;u<t;u++)a+=n[u][o][1];if(a>i)i=a;r.push(a)}for(o=0;o<e;++o){f[o]=(i-r[o])/2}return f},wiggle:function(n){var t=n.length,e=n[0],r=e.length,i,u,o,a,f,l,c,s,h,p=[];p[0]=s=h=0;for(u=1;u<r;++u){for(i=0,a=0;i<t;++i)a+=n[i][u][1];for(i=0,f=0,c=e[u][0]-e[u-1][0];i<t;++i){for(o=0,l=(n[i][u][1]-n[i][u-1][1])/(2*c);o<i;++o){l+=(n[o][u][1]-n[o][u-1][1])/c}f+=l*n[i][u][1]}p[u]=s-=a?f/a*c:0;if(s<h)h=s}for(u=0;u<r;++u)p[u]-=h;return p},expand:function(n){var t=n.length,e=n[0].length,r=1/t,i,u,o,a=[];for(u=0;u<e;++u){for(i=0,o=0;i<t;i++)o+=n[i][u][1];if(o)for(i=0;i<t;i++)n[i][u][1]/=o;else for(i=0;i<t;i++)n[i][u][1]=r}for(u=0;u<e;++u)a[u]=0;return a},zero:bo});function _o(t){return n.range(t.length)}function bo(n){var t=-1,e=n[0].length,r=[];while(++t<e)r[t]=0;return r}function So(n){var t=1,e=0,r=n[0][1],i,u=n.length;for(;t<u;++t){if((i=n[t][1])>r){e=t;r=i}}return e}function ko(n){return n.reduce(No,0)}function No(n,t){return n+t[1]}n.layout.histogram=function(){var t=true,e=Number,r=Co,i=Eo;function u(u,o){var a=[],f=u.map(e,this),l=r.call(this,f,o),c=i.call(this,l,f,o),s,o=-1,h=f.length,p=c.length-1,g=t?1:1/h,v;while(++o<p){s=a[o]=[];s.dx=c[o+1]-(s.x=c[o]);s.y=0}if(p>0){o=-1;while(++o<h){v=f[o];if(v>=l[0]&&v<=l[1]){s=a[n.bisect(c,v,1,p)-1];s.y+=g;s.push(u[o])}}}return a}u.value=function(n){if(!arguments.length)return e;e=n;return u};u.range=function(n){if(!arguments.length)return r;r=wt(n);return u};u.bins=function(n){if(!arguments.length)return i;i=typeof n==="number"?function(t){return Ao(t,n)}:wt(n);return u};u.frequency=function(n){if(!arguments.length)return t;t=!!n;return u};return u};function Eo(n,t){return Ao(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ao(n,t){var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];while(++e<=t)u[e]=i*e+r;return u}function Co(t){return[n.min(t),n.max(t)]}n.layout.pack=function(){var t=n.layout.hierarchy().sort(zo),e=0,r=[1,1],i;function u(n,u){var o=t.call(this,n,u),a=o[0],f=r[0],l=r[1],c=i==null?Math.sqrt:typeof i==="function"?i:function(){return i};a.x=a.y=0;co(a,function(n){n.r=+c(n.value)});co(a,Ro);if(e){var s=e*(i?1:Math.max(2*a.r/f,2*a.r/l))/2;co(a,function(n){n.r+=s});co(a,Ro);co(a,function(n){n.r-=s})}Uo(a,f/2,l/2,i?1:1/Math.max(2*a.r/f,2*a.r/l));return o}u.size=function(n){if(!arguments.length)return r;r=n;return u};u.radius=function(n){if(!arguments.length)return i;i=n==null||typeof n==="function"?n:+n;return u};u.padding=function(n){if(!arguments.length)return e;e=+n;return u};return fo(u,t)};function zo(n,t){return n.value-t.value}function Lo(n,t){var e=n._pack_next;n._pack_next=t;t._pack_prev=n;t._pack_next=e;e._pack_prev=t}function To(n,t){n._pack_next=t;t._pack_prev=n}function qo(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function Ro(n){if(!(t=n.children)||!(h=t.length))return;var t,e=Infinity,r=-Infinity,i=Infinity,u=-Infinity,o,a,f,l,c,s,h;function p(n){e=Math.min(n.x-n.r,e);r=Math.max(n.x+n.r,r);i=Math.min(n.y-n.r,i);u=Math.max(n.y+n.r,u)}t.forEach(Do);o=t[0];o.x=-o.r;o.y=0;p(o);if(h>1){a=t[1];a.x=a.r;a.y=0;p(a);if(h>2){f=t[2];jo(o,a,f);p(f);Lo(o,f);o._pack_prev=f;Lo(f,a);a=o._pack_next;for(l=3;l<h;l++){jo(o,a,f=t[l]);var g=0,v=1,d=1;for(c=a._pack_next;c!==a;c=c._pack_next,v++){if(qo(c,f)){g=1;break}}if(g==1){for(s=o._pack_prev;s!==c._pack_prev;s=s._pack_prev,d++){if(qo(s,f)){break}}}if(g){if(v<d||v==d&&a.r<o.r)To(o,a=c);else To(o=s,a);l--}else{Lo(o,f);a=f;p(f)}}}}var y=(e+r)/2,m=(i+u)/2,x=0;for(l=0;l<h;l++){f=t[l];f.x-=y;f.y-=m;x=Math.max(x,f.r+Math.sqrt(f.x*f.x+f.y*f.y))}n.r=x;t.forEach(Po)}function Do(n){n._pack_next=n._pack_prev=n}function Po(n){delete n._pack_next;delete n._pack_prev}function Uo(n,t,e,r){var i=n.children;n.x=t+=r*n.x;n.y=e+=r*n.y;n.r*=r;if(i){var u=-1,o=i.length;while(++u<o)Uo(i[u],t,e,r)}}function jo(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u;o*=o;r*=r;var f=.5+(r-o)/(2*a),l=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+f*i+l*u;e.y=n.y+f*u-l*i}else{e.x=n.x+r;e.y=n.y}}n.layout.tree=function(){var t=n.layout.hierarchy().sort(null).value(null),e=Io,r=[1,1],i=null;function u(n,u){var l=t.call(this,n,u),s=l[0],h=o(s);co(h,a),h.parent.m=-h.z;lo(h,f);if(i)lo(s,c);else{var p=s,g=s,v=s;lo(s,function(n){if(n.x<p.x)p=n;if(n.x>g.x)g=n;if(n.depth>v.depth)v=n});var d=e(p,g)/2-p.x,y=r[0]/(g.x+e(g,p)/2+d),m=r[1]/(v.depth||1);lo(s,function(n){n.x=(n.x+d)*y;n.y=n.depth*m})}return l}function o(n){var t={A:null,children:[n]},e=[t],r;while((r=e.pop())!=null){for(var i=r.children,u,o=0,a=i.length;o<a;++o){e.push((i[o]=u={_:i[o],parent:r,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u)}}return t.children[0]}function a(n){var t=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(t.length){Yo(n);var u=(t[0].z+t[t.length-1].z)/2;if(i){n.z=i.z+e(n._,i._);n.m=n.z-u}else{n.z=u}}else if(i){n.z=i.z+e(n._,i._)}n.parent.A=l(n,i,n.parent.A||r[0])}function f(n){n._.x=n.z+n.parent.m;n.m+=n.parent.m}function l(n,t,r){if(t){var i=n,u=n,o=t,a=i.parent.children[0],f=i.m,l=u.m,c=o.m,s=a.m,h;while(o=Fo(o),i=Ho(i),o&&i){a=Ho(a);u=Fo(u);u.a=n;h=o.z+c-i.z-f+e(o._,i._);if(h>0){Oo(Zo(o,n,r),n,h);f+=h;l+=h}c+=o.m;f+=i.m;s+=a.m;l+=u.m}if(o&&!Fo(u)){u.t=o;u.m+=c-l}if(i&&!Ho(a)){a.t=i;a.m+=f-s;r=n}}return r}function c(n){n.x*=r[0];n.y=n.depth*r[1]}u.separation=function(n){if(!arguments.length)return e;e=n;return u};u.size=function(n){if(!arguments.length)return i?null:r;i=(r=n)==null?c:null;return u};u.nodeSize=function(n){if(!arguments.length)return i?r:null;i=(r=n)==null?null:c;return u};return fo(u,t)};function Io(n,t){return n.parent==t.parent?1:2}function Ho(n){var t=n.children;return t.length?t[0]:n.t}function Fo(n){var t=n.children,e;return(e=t.length)?t[e-1]:n.t}function Oo(n,t,e){var r=e/(t.i-n.i);t.c-=r;t.s+=e;n.c+=r;t.z+=e;t.m+=e}function Yo(n){var t=0,e=0,r=n.children,i=r.length,u;while(--i>=0){u=r[i];u.z+=t;u.m+=t;t+=u.s+(e+=u.c)}}function Zo(n,t,e){return n.a.parent===t.parent?n.a:e}n.layout.cluster=function(){var t=n.layout.hierarchy().sort(null).value(null),e=Io,r=[1,1],i=false;function u(n,u){var o=t.call(this,n,u),a=o[0],f,l=0;co(a,function(n){var t=n.children;if(t&&t.length){n.x=Xo(t);n.y=Vo(t)}else{n.x=f?l+=e(n,f):0;n.y=0;f=n}});var c=$o(a),s=Bo(a),h=c.x-e(c,s)/2,p=s.x+e(s,c)/2;co(a,i?function(n){n.x=(n.x-a.x)*r[0];n.y=(a.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(p-h)*r[0];n.y=(1-(a.y?n.y/a.y:1))*r[1]});return o}u.separation=function(n){if(!arguments.length)return e;e=n;return u};u.size=function(n){if(!arguments.length)return i?null:r;i=(r=n)==null;return u};u.nodeSize=function(n){if(!arguments.length)return i?r:null;i=(r=n)!=null;return u};return fo(u,t)};function Vo(t){return 1+n.max(t,function(n){return n.y})}function Xo(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function $o(n){var t=n.children;return t&&t.length?$o(t[0]):n}function Bo(n){var t=n.children,e;return t&&(e=t.length)?Bo(t[e-1]):n}n.layout.treemap=function(){var t=n.layout.hierarchy(),e=Math.round,r=[1,1],i=null,u=Wo,o=false,a,f="squarify",l=.5*(1+Math.sqrt(5));function c(n,t){var e=-1,r=n.length,i,u;while(++e<r){u=(i=n[e]).value*(t<0?0:t);i.area=isNaN(u)||u<=0?0:u}}function s(n){var t=n.children;if(t&&t.length){var e=u(n),r=[],i=t.slice(),o,a=Infinity,l,h=f==="slice"?e.dx:f==="dice"?e.dy:f==="slice-dice"?n.depth&1?e.dy:e.dx:Math.min(e.dx,e.dy),v;c(i,e.dx*e.dy/n.value);r.area=0;while((v=i.length)>0){r.push(o=i[v-1]);r.area+=o.area;if(f!=="squarify"||(l=p(r,h))<=a){i.pop();a=l}else{r.area-=r.pop().area;g(r,h,e,false);h=Math.min(e.dx,e.dy);r.length=r.area=0;a=Infinity}}if(r.length){g(r,h,e,true);r.length=r.area=0}t.forEach(s)}}function h(n){var t=n.children;if(t&&t.length){var e=u(n),r=t.slice(),i,o=[];c(r,e.dx*e.dy/n.value);o.area=0;while(i=r.pop()){o.push(i);o.area+=i.area;if(i.z!=null){g(o,i.z?e.dx:e.dy,e,!r.length);o.length=o.area=0}}t.forEach(h)}}function p(n,t){var e=n.area,r,i=0,u=Infinity,o=-1,a=n.length;while(++o<a){if(!(r=n[o].area))continue;if(r<u)u=r;if(r>i)i=r}e*=e;t*=t;return e?Math.max(t*i*l/e,e/(t*u*l)):Infinity}function g(n,t,r,i){var u=-1,o=n.length,a=r.x,f=r.y,l=t?e(n.area/t):0,c;if(t==r.dx){if(i||l>r.dy)l=r.dy;while(++u<o){c=n[u];c.x=a;c.y=f;c.dy=l;a+=c.dx=Math.min(r.x+r.dx-a,l?e(c.area/l):0)}c.z=true;c.dx+=r.x+r.dx-a;r.y+=l;r.dy-=l}else{if(i||l>r.dx)l=r.dx;while(++u<o){c=n[u];c.x=a;c.y=f;c.dx=l;f+=c.dy=Math.min(r.y+r.dy-f,l?e(c.area/l):0)}c.z=false;c.dy+=r.y+r.dy-f;r.x+=l;r.dx-=l}}function v(n){var e=a||t(n),i=e[0];i.x=0;i.y=0;i.dx=r[0];i.dy=r[1];if(a)t.revalue(i);c([i],i.dx*i.dy/i.value);(a?h:s)(i);if(o)a=e;return e}v.size=function(n){if(!arguments.length)return r;r=n;return v};v.padding=function(n){if(!arguments.length)return i;function t(t){var e=n.call(v,t,t.depth);return e==null?Wo(t):Jo(t,typeof e==="number"?[e,e,e,e]:e)}function e(t){return Jo(t,n)}var r;u=(i=n)==null?Wo:(r=typeof n)==="function"?t:r==="number"?(n=[n,n,n,n],e):e;return v};v.round=function(n){if(!arguments.length)return e!=Number;e=n?Math.round:Number;return v};v.sticky=function(n){if(!arguments.length)return o;o=n;a=null;return v};v.ratio=function(n){if(!arguments.length)return l;l=n;return v};v.mode=function(n){if(!arguments.length)return f;f=n+"";return v};return fo(v,t)};function Wo(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Jo(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];if(i<0){e+=i/2;i=0}if(u<0){r+=u/2;u=0}return{x:e,y:r,dx:i,dy:u}}n.random={normal:function(n,t){var e=arguments.length;if(e<2)t=1;if(e<1)n=0;return function(){var e,r,i;do{e=Math.random()*2-1;r=Math.random()*2-1;i=e*e+r*r}while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=n.random.normal.apply(n,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=n.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}};n.scale={};function Go(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function Ko(n){return n.rangeExtent?n.rangeExtent():Go(n.range())}function Qo(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function na(n,t){var e=0,r=n.length-1,i=n[e],u=n[r],o;if(u<i){o=e,e=r,r=o;o=i,i=u,u=o}n[e]=t.floor(i);n[r]=t.ceil(u);return n}function ta(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ea}var ea={floor:_t,ceil:_t};function ra(t,e,r,i){var u=[],o=[],a=0,f=Math.min(t.length,e.length)-1;if(t[f]<t[0]){t=t.slice().reverse();e=e.slice().reverse()}while(++a<=f){u.push(r(t[a-1],t[a]));o.push(i(e[a-1],e[a]))}return function(e){var r=n.bisect(t,e,1,f)-1;return o[r](u[r](e))}}n.scale.linear=function(){return ia([0,1],[0,1],wu,false)};function ia(n,t,e,r){var i,u;function o(){var o=Math.min(n.length,t.length)>2?ra:Qo,f=r?Ju:Wu;i=o(n,t,f,e);u=o(t,n,f,wu);return a}function a(n){return i(n)}a.invert=function(n){return u(n)};a.domain=function(t){if(!arguments.length)return n;n=t.map(Number);return o()};a.range=function(n){if(!arguments.length)return t;t=n;return o()};a.rangeRound=function(n){return a.range(n).interpolate(Ou)};a.clamp=function(n){if(!arguments.length)return r;r=n;return o()};a.interpolate=function(n){if(!arguments.length)return e;e=n;return o()};a.ticks=function(t){return fa(n,t)};a.tickFormat=function(t,e){return la(n,t,e)};a.nice=function(t){oa(n,t);return o()};a.copy=function(){return ia(n,t,e,r)};return o()}function ua(t,e){return n.rebind(t,e,"range","rangeRound","interpolate","clamp")}function oa(n,t){return na(n,ta(aa(n,t)[2]))}function aa(n,t){if(t==null)t=10;var e=Go(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;if(u<=.15)i*=10;else if(u<=.35)i*=5;else if(u<=.75)i*=2;e[0]=Math.ceil(e[0]/i)*i;e[1]=Math.floor(e[1]/i)*i+i*.5;e[2]=i;return e}function fa(t,e){return n.range.apply(n,aa(t,e))}function la(t,e,r){var i=aa(t,e);if(r){var u=Ht.exec(r);u.shift();if(u[8]==="s"){var o=n.formatPrefix(Math.max(d(i[0]),d(i[1])));if(!u[7])u[7]="."+sa(o.scale(i[2]));u[8]="f";r=n.format(u.join(""));return function(n){return r(o.scale(n))+o.symbol}}if(!u[7])u[7]="."+ha(u[8],i);r=u.join("")}else{r=",."+sa(i[2])+"f"}return n.format(r)}var ca={s:1,g:1,p:1,r:1,e:1};function sa(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function ha(n,t){var e=sa(t[2]);return n in ca?Math.abs(e-sa(Math.max(d(t[0]),d(t[1]))))+ +(n!=="e"):e-(n==="%")*2}n.scale.log=function(){return pa(n.scale.linear().domain([0,1]),10,true,[1,10])};function pa(t,e,r,i){function u(n){return(r?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(e)}function o(n){return r?Math.pow(e,n):-Math.pow(e,-n)}function a(n){return t(u(n))}a.invert=function(n){return o(t.invert(n))};a.domain=function(n){if(!arguments.length)return i;r=n[0]>=0;t.domain((i=n.map(Number)).map(u));return a};a.base=function(n){if(!arguments.length)return e;e=+n;t.domain(i.map(u));return a};a.nice=function(){var n=na(i.map(u),r?Math:va);t.domain(n);i=n.map(o);return a};a.ticks=function(){var n=Go(i),t=[],a=n[0],f=n[1],l=Math.floor(u(a)),c=Math.ceil(u(f)),s=e%1?2:e;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var h=1;h<s;h++)t.push(o(l)*h);t.push(o(l))}else{t.push(o(l));for(;l++<c;)for(var h=s-1;h>0;h--)t.push(o(l)*h)}for(l=0;t[l]<a;l++){}for(c=t.length;t[c-1]>f;c--){}t=t.slice(l,c)}return t};a.tickFormat=function(t,e){if(!arguments.length)return ga;if(arguments.length<2)e=ga;else if(typeof e!=="function")e=n.format(e);var i=Math.max(.1,t/a.ticks().length),f=r?(l=1e-12,Math.ceil):(l=-1e-12,Math.floor),l;return function(n){return n/o(f(u(n)+l))<=i?e(n):""}};a.copy=function(){return pa(t.copy(),e,r,i)};return ua(a,t)}var ga=n.format(".0e"),va={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};n.scale.pow=function(){return da(n.scale.linear(),1,[0,1])};function da(n,t,e){var r=ya(t),i=ya(1/t);function u(t){return n(r(t))}u.invert=function(t){return i(n.invert(t))};u.domain=function(t){if(!arguments.length)return e;n.domain((e=t.map(Number)).map(r));return u};u.ticks=function(n){return fa(e,n)};u.tickFormat=function(n,t){return la(e,n,t)};u.nice=function(n){return u.domain(oa(e,n))};u.exponent=function(o){if(!arguments.length)return t;r=ya(t=o);i=ya(1/t);n.domain(e.map(r));return u};u.copy=function(){return da(n.copy(),t,e)};return ua(u,n)}function ya(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)};n.scale.ordinal=function(){return ma([],{t:"range",a:[[]]})};function ma(t,e){var r,i,u;function o(n){return i[((r.get(n)||(e.t==="range"?r.set(n,t.push(n)):NaN))-1)%i.length]}function a(e,r){return n.range(t.length).map(function(n){return e+r*n})}o.domain=function(n){if(!arguments.length)return t;t=[];r=new x;var i=-1,u=n.length,a;while(++i<u)if(!r.has(a=n[i]))r.set(a,t.push(a));return o[e.t].apply(o,e.a)};o.range=function(n){if(!arguments.length)return i;i=n;u=0;e={t:"range",a:arguments};return o};o.rangePoints=function(n,r){if(arguments.length<2)r=0;var f=n[0],l=n[1],c=(l-f)/(Math.max(1,t.length-1)+r);i=a(t.length<2?(f+l)/2:f+c*r/2,c);u=0;e={t:"rangePoints",a:arguments};return o};o.rangeBands=function(n,r,f){if(arguments.length<2)r=0;if(arguments.length<3)f=r;var l=n[1]<n[0],c=n[l-0],s=n[1-l],h=(s-c)/(t.length-r+2*f);i=a(c+h*f,h);if(l)i.reverse();u=h*(1-r);e={t:"rangeBands",a:arguments};return o};o.rangeRoundBands=function(n,r,f){if(arguments.length<2)r=0;if(arguments.length<3)f=r;var l=n[1]<n[0],c=n[l-0],s=n[1-l],h=Math.floor((s-c)/(t.length-r+2*f)),p=s-c-(t.length-r)*h;i=a(c+Math.round(p/2),h);if(l)i.reverse();u=Math.round(h*(1-r));e={t:"rangeRoundBands",a:arguments};return o};o.rangeBand=function(){return u};o.rangeExtent=function(){return Go(e.a[0])};o.copy=function(){return ma(t,e)};return o.domain(t)}n.scale.category10=function(){return n.scale.ordinal().range(xa)};n.scale.category20=function(){return n.scale.ordinal().range(Ma)};n.scale.category20b=function(){return n.scale.ordinal().range(wa)};n.scale.category20c=function(){return n.scale.ordinal().range(_a)};var xa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ht);var Ma=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ht);var wa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ht);var _a=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ht);n.scale.quantile=function(){return ba([],[])};function ba(t,e){var r;function i(){var i=0,o=e.length;r=[];while(++i<o)r[i-1]=n.quantile(t,i/o);return u}function u(t){if(!isNaN(t=+t))return e[n.bisect(r,t)]}u.domain=function(n){if(!arguments.length)return t;t=n.filter(h).sort(s);return i()};u.range=function(n){if(!arguments.length)return e;e=n;return i()};u.quantiles=function(){return r};u.invertExtent=function(n){n=e.indexOf(n);return n<0?[NaN,NaN]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]};u.copy=function(){return ba(t,e)};return i()}n.scale.quantize=function(){return Sa(0,1,[0,1])};function Sa(n,t,e){var r,i;function u(t){return e[Math.max(0,Math.min(i,Math.floor(r*(t-n))))]}function o(){r=e.length/(t-n);i=e.length-1;return u}u.domain=function(e){if(!arguments.length)return[n,t];n=+e[0];t=+e[e.length-1];return o()};u.range=function(n){if(!arguments.length)return e;e=n;return o()};u.invertExtent=function(t){t=e.indexOf(t);t=t<0?NaN:t/r+n;return[t,t+1/r]};u.copy=function(){return Sa(n,t,e)};return o()}n.scale.threshold=function(){return ka([.5],[0,1])};function ka(t,e){function r(r){if(r<=r)return e[n.bisect(t,r)]}r.domain=function(n){if(!arguments.length)return t;t=n;return r};r.range=function(n){if(!arguments.length)return e;e=n;return r};r.invertExtent=function(n){n=e.indexOf(n);return[t[n-1],t[n]]};r.copy=function(){return ka(t,e)};return r}n.scale.identity=function(){return Na([0,1])};function Na(n){function t(n){return+n}t.invert=t;t.domain=t.range=function(e){if(!arguments.length)return n;n=e.map(t);return t};t.ticks=function(t){return fa(n,t)};t.tickFormat=function(t,e){return la(n,t,e)};t.copy=function(){return Na(n)};return t}n.svg={};n.svg.arc=function(){var n=Ca,t=za,e=La,r=Ta;function i(){var i=n.apply(this,arguments),u=t.apply(this,arguments),o=e.apply(this,arguments)+Ea,a=r.apply(this,arguments)+Ea,f=(a<o&&(f=o,o=a,a=f),a-o),l=f<kn?"0":"1",c=Math.cos(o),s=Math.sin(o),h=Math.cos(a),p=Math.sin(a);return f>=Aa?i?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+-i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":i?"M"+u*c+","+u*s+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*p+"L"+i*h+","+i*p+"A"+i+","+i+" 0 "+l+",0 "+i*c+","+i*s+"Z":"M"+u*c+","+u*s+"A"+u+","+u+" 0 "+l+",1 "+u*h+","+u*p+"L0,0"+"Z"}i.innerRadius=function(t){if(!arguments.length)return n;n=wt(t);return i};i.outerRadius=function(n){if(!arguments.length)return t;t=wt(n);return i};i.startAngle=function(n){if(!arguments.length)return e;e=wt(n);return i};i.endAngle=function(n){if(!arguments.length)return r;r=wt(n);return i};i.centroid=function(){var i=(n.apply(this,arguments)+t.apply(this,arguments))/2,u=(e.apply(this,arguments)+r.apply(this,arguments))/2+Ea;return[Math.cos(u)*i,Math.sin(u)*i]};return i};var Ea=-En,Aa=Nn-An;function Ca(n){return n.innerRadius}function za(n){return n.outerRadius}function La(n){return n.startAngle}function Ta(n){return n.endAngle}function qa(n){var t=wi,e=_i,r=rr,i=Da,u=i.key,o=.7;function a(u){var a=[],f=[],l=-1,c=u.length,s,h=wt(t),p=wt(e);function g(){a.push("M",i(n(f),o))}while(++l<c){if(r.call(this,s=u[l],l)){f.push([+h.call(this,s,l),+p.call(this,s,l)])}else if(f.length){g();f=[]}}if(f.length)g();return a.length?a.join(""):null}a.x=function(n){if(!arguments.length)return t;t=n;return a};a.y=function(n){if(!arguments.length)return e;e=n;return a};a.defined=function(n){if(!arguments.length)return r;r=n;return a};a.interpolate=function(n){if(!arguments.length)return u;if(typeof n==="function")u=i=n;else u=(i=Ra.get(n)||Da).key;return a};a.tension=function(n){if(!arguments.length)return o;o=n;return a};return a}n.svg.line=function(){return qa(_t)};var Ra=n.map({linear:Da,"linear-closed":Pa,step:Ua,"step-before":ja,"step-after":Ia,basis:Va,"basis-open":Xa,"basis-closed":$a,bundle:Ba,cardinal:Oa,"cardinal-open":Ha,"cardinal-closed":Fa,monotone:rf});Ra.forEach(function(n,t){t.key=n;t.closed=/-closed$/.test(n)});function Da(n){return n.join("L")}function Pa(n){return Da(n)+"Z"}function Ua(n){var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];while(++t<e)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);if(e>1)i.push("H",r[0]);return i.join("")}function ja(n){var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];while(++t<e)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function Ia(n){var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];while(++t<e)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function Ha(n,t){return n.length<4?Da(n):n[1]+Ya(n.slice(1,n.length-1),Za(n,t))}function Fa(n,t){return n.length<3?Da(n):n[0]+Ya((n.push(n[0]),n),Za([n[n.length-2]].concat(n,[n[1]]),t))}function Oa(n,t){return n.length<3?Da(n):n[0]+Ya(n,Za(n,t))}function Ya(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2){return Da(n)}var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,f=1;if(e){r+="Q"+(u[0]-o[0]*2/3)+","+(u[1]-o[1]*2/3)+","+u[0]+","+u[1];i=n[1];f=2}if(t.length>1){a=t[1];u=n[f];f++;r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var l=2;l<t.length;l++,f++){u=n[f];a=t[l];r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}}if(e){var c=n[f];r+="Q"+(u[0]+a[0]*2/3)+","+(u[1]+a[1]*2/3)+","+c[0]+","+c[1]}return r}function Za(n,t){var e=[],r=(1-t)/2,i,u=n[0],o=n[1],a=1,f=n.length;while(++a<f){i=u;u=o;o=n[a];e.push([r*(o[0]-i[0]),r*(o[1]-i[1])])}return e}function Va(n){if(n.length<3)return Da(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],f=[i,",",u,"L",Wa(Ka,o),",",Wa(Ka,a)];n.push(n[e-1]);while(++t<=e){r=n[t];o.shift();o.push(r[0]);a.shift();a.push(r[1]);Qa(f,o,a)}n.pop();f.push("L",r);return f.join("")}function Xa(n){if(n.length<4)return Da(n);var t=[],e=-1,r=n.length,i,u=[0],o=[0];while(++e<3){i=n[e];u.push(i[0]);o.push(i[1])}t.push(Wa(Ka,u)+","+Wa(Ka,o));--e;while(++e<r){i=n[e];u.shift();u.push(i[0]);o.shift();o.push(i[1]);Qa(t,u,o)}return t.join("")}function $a(n){var t,e=-1,r=n.length,i=r+4,u,o=[],a=[];while(++e<4){u=n[e%r];o.push(u[0]);a.push(u[1])}t=[Wa(Ka,o),",",Wa(Ka,a)];--e;while(++e<i){u=n[e%r];o.shift();o.push(u[0]);a.shift();a.push(u[1]);Qa(t,o,a)}return t.join("")}function Ba(n,t){var e=n.length-1;if(e){var r=n[0][0],i=n[0][1],u=n[e][0]-r,o=n[e][1]-i,a=-1,f,l;while(++a<=e){f=n[a];l=a/e;f[0]=t*f[0]+(1-t)*(r+l*u);f[1]=t*f[1]+(1-t)*(i+l*o)}}return Va(n)}function Wa(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}var Ja=[0,2/3,1/3,0],Ga=[0,1/3,2/3,0],Ka=[0,1/6,2/3,1/6];function Qa(n,t,e){n.push("C",Wa(Ja,t),",",Wa(Ja,e),",",Wa(Ga,t),",",Wa(Ga,e),",",Wa(Ka,t),",",Wa(Ka,e))}function nf(n,t){return(t[1]-n[1])/(t[0]-n[0])}function tf(n){var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=nf(i,u);while(++t<e){r[t]=(o+(o=nf(i=u,u=n[t+1])))/2}r[t]=o;return r}function ef(n){var t=[],e,r,i,u,o=tf(n),a=-1,f=n.length-1;while(++a<f){e=nf(n[a],n[a+1]);if(d(e)<An){o[a]=o[a+1]=0}else{r=o[a]/e;i=o[a+1]/e;u=r*r+i*i;if(u>9){u=e*3/Math.sqrt(u);o[a]=u*r;o[a+1]=u*i}}}a=-1;while(++a<=f){u=(n[Math.min(f,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a]));t.push([u||0,o[a]*u||0])}return t}function rf(n){return n.length<3?Da(n):n[0]+Ya(n,ef(n))}n.svg.line.radial=function(){var n=qa(uf);n.radius=n.x,delete n.x;n.angle=n.y,delete n.y;return n};function uf(n){var t,e=-1,r=n.length,i,u;while(++e<r){t=n[e];i=t[0];u=t[1]+Ea;t[0]=i*Math.cos(u);t[1]=i*Math.sin(u)}return n}function of(n){var t=wi,e=wi,r=0,i=_i,u=rr,o=Da,a=o.key,f=o,l="L",c=.7;function s(a){var s=[],h=[],p=[],g=-1,v=a.length,d,y=wt(t),m=wt(r),x=t===e?function(){return w}:wt(e),M=r===i?function(){return _}:wt(i),w,_;function b(){s.push("M",o(n(p),c),l,f(n(h.reverse()),c),"Z")}while(++g<v){if(u.call(this,d=a[g],g)){h.push([w=+y.call(this,d,g),_=+m.call(this,d,g)]);p.push([+x.call(this,d,g),+M.call(this,d,g)])}else if(h.length){b();h=[];p=[]}}if(h.length)b();return s.length?s.join(""):null}s.x=function(n){if(!arguments.length)return e;t=e=n;return s};s.x0=function(n){if(!arguments.length)return t;t=n;return s};s.x1=function(n){if(!arguments.length)return e;e=n;return s};s.y=function(n){if(!arguments.length)return i;r=i=n;return s};s.y0=function(n){if(!arguments.length)return r;r=n;return s};s.y1=function(n){if(!arguments.length)return i;i=n;return s};s.defined=function(n){if(!arguments.length)return u;u=n;return s};s.interpolate=function(n){if(!arguments.length)return a;if(typeof n==="function")a=o=n;else a=(o=Ra.get(n)||Da).key;f=o.reverse||o;l=o.closed?"M":"L";return s};s.tension=function(n){if(!arguments.length)return c;c=n;return s};return s}ja.reverse=Ia;Ia.reverse=ja;n.svg.area=function(){return of(_t)};n.svg.area.radial=function(){var n=of(uf);n.radius=n.x,delete n.x;n.innerRadius=n.x0,delete n.x0;n.outerRadius=n.x1,delete n.x1;n.angle=n.y,delete n.y;n.startAngle=n.y0,delete n.y0;n.endAngle=n.y1,delete n.y1;return n};n.svg.chord=function(){var n=ii,t=ui,e=af,r=La,i=Ta;function u(e,r){var i=o(this,n,e,r),u=o(this,t,e,r);return"M"+i.p0+f(i.r,i.p1,i.a1-i.a0)+(a(i,u)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,u.r,u.p0)+f(u.r,u.p1,u.a1-u.a0)+l(u.r,u.p1,i.r,i.p0))+"Z"}function o(n,t,u,o){var a=t.call(n,u,o),f=e.call(n,a,o),l=r.call(n,a,o)+Ea,c=i.call(n,a,o)+Ea;return{r:f,a0:l,a1:c,p0:[f*Math.cos(l),f*Math.sin(l)],p1:[f*Math.cos(c),f*Math.sin(c)]}}function a(n,t){return n.a0==t.a0&&n.a1==t.a1}function f(n,t,e){return"A"+n+","+n+" 0 "+ +(e>kn)+",1 "+t}function l(n,t,e,r){return"Q 0,0 "+r}u.radius=function(n){if(!arguments.length)return e;e=wt(n);return u};u.source=function(t){if(!arguments.length)return n;n=wt(t);return u};u.target=function(n){if(!arguments.length)return t;t=wt(n);return u};u.startAngle=function(n){if(!arguments.length)return r;r=wt(n);return u};u.endAngle=function(n){if(!arguments.length)return i;i=wt(n);return u};return u};function af(n){return n.radius}n.svg.diagonal=function(){var n=ii,t=ui,e=ff;function r(r,i){var u=n.call(this,r,i),o=t.call(this,r,i),a=(u.y+o.y)/2,f=[u,{x:u.x,y:a},{x:o.x,y:a},o];f=f.map(e);return"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}r.source=function(t){if(!arguments.length)return n;n=wt(t);return r};r.target=function(n){if(!arguments.length)return t;t=wt(n);return r};r.projection=function(n){if(!arguments.length)return e;e=n;return r};return r};function ff(n){return[n.x,n.y]}n.svg.diagonal.radial=function(){var t=n.svg.diagonal(),e=ff,r=t.projection;t.projection=function(n){return arguments.length?r(lf(e=n)):e};return t};function lf(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]+Ea;return[e*Math.cos(r),e*Math.sin(r)]}}n.svg.symbol=function(){var n=sf,t=cf;function e(e,r){return(pf.get(n.call(this,e,r))||hf)(t.call(this,e,r))}e.type=function(t){if(!arguments.length)return n;n=wt(t);return e};e.size=function(n){if(!arguments.length)return t;t=wt(n);return e};return e};function cf(){return 64}function sf(){return"circle"}function hf(n){var t=Math.sqrt(n/kn);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}var pf=n.map({circle:hf,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*vf)),e=t*vf;return"M0,"+-t+"L"+e+",0"+" 0,"+t+" "+-e+",0"+"Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/gf),e=t*gf/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/gf),e=t*gf/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});n.svg.symbolTypes=pf.keys();var gf=Math.sqrt(3),vf=Math.tan(30*zn);function df(n,t){j(n,yf);n.id=t;return n}var yf=[],mf=0,xf,Mf;yf.call=Z.call;yf.empty=Z.empty;yf.node=Z.node;yf.size=Z.size;n.transition=function(n){return arguments.length?xf?n.transition():n:hn.transition()};n.transition.prototype=yf;yf.select=function(n){var t=this.id,e=[],r,i,u;n=V(n);for(var o=-1,a=this.length;++o<a;){e.push(r=[]);for(var f=this[o],l=-1,c=f.length;++l<c;){if((u=f[l])&&(i=n.call(u,u.__data__,l,o))){if("__data__"in u)i.__data__=u.__data__;bf(i,l,t,u.__transition__[t]);r.push(i)}else{r.push(null)}}}return df(e,t)};yf.selectAll=function(n){var t=this.id,e=[],r,i,u,o,a;n=X(n);for(var f=-1,l=this.length;++f<l;){for(var c=this[f],s=-1,h=c.length;++s<h;){if(u=c[s]){a=u.__transition__[t];i=n.call(u,u.__data__,s,f);e.push(r=[]);for(var p=-1,g=i.length;++p<g;){if(o=i[p])bf(o,p,t,a);r.push(o)}}}}return df(e,t)};yf.filter=function(n){var t=[],e,r,i;if(typeof n!=="function")n=un(n);for(var u=0,o=this.length;u<o;u++){t.push(e=[]);for(var r=this[u],a=0,f=r.length;a<f;a++){if((i=r[a])&&n.call(i,i.__data__,a,u)){e.push(i)}}}return df(t,this.id)};yf.tween=function(n,t){var e=this.id;if(arguments.length<2)return this.node().__transition__[e].tween.get(n);return an(this,t==null?function(t){t.__transition__[e].tween.remove(n)}:function(r){r.__transition__[e].tween.set(n,t)})};function wf(n,t,e,r){var i=n.id;return an(n,typeof e==="function"?function(n,u,o){n.__transition__[i].tween.set(t,r(e.call(n,n.__data__,u,o)))}:(e=r(e),function(n){n.__transition__[i].tween.set(t,e)}))}yf.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r=t=="transform"?Bu:wu,i=n.ns.qualify(t);function u(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function a(n){return n==null?u:(n+="",function(){var t=this.getAttribute(i),e;return t!==n&&(e=r(t,n),function(n){this.setAttribute(i,e(n))})})}function f(n){return n==null?o:(n+="",function(){var t=this.getAttributeNS(i.space,i.local),e;return t!==n&&(e=r(t,n),function(n){this.setAttributeNS(i.space,i.local,e(n))})})}return wf(this,"attr."+t,e,i.local?f:a)};yf.attrTween=function(t,e){var r=n.ns.qualify(t);function i(n,t){var i=e.call(this,n,t,this.getAttribute(r));return i&&function(n){this.setAttribute(r,i(n))}}function u(n,t){var i=e.call(this,n,t,this.getAttributeNS(r.space,r.local));return i&&function(n){this.setAttributeNS(r.space,r.local,i(n))}}return this.tween("attr."+t,r.local?u:i)};yf.style=function(n,t,e){var r=arguments.length;if(r<3){if(typeof n!=="string"){if(r<2)t="";for(e in n)this.style(e,n[e],t);return this}e=""}function i(){this.style.removeProperty(n)}function o(t){return t==null?i:(t+="",function(){var r=u.getComputedStyle(this,null).getPropertyValue(n),i;return r!==t&&(i=wu(r,t),function(t){this.style.setProperty(n,i(t),e)})})}return wf(this,"style."+n,t,o)};yf.styleTween=function(n,t,e){if(arguments.length<3)e="";function r(r,i){var o=t.call(this,r,i,u.getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),e)}}return this.tween("style."+n,r)};yf.text=function(n){return wf(this,"text",n,_f)};function _f(n){if(n==null)n="";return function(){this.textContent=n}}yf.remove=function(){return this.each("end.transition",function(){var n;if(this.__transition__.count<2&&(n=this.parentNode))n.removeChild(this)})};yf.ease=function(t){var e=this.id;if(arguments.length<1)return this.node().__transition__[e].ease;if(typeof t!=="function")t=n.ease.apply(n,arguments);return an(this,function(n){n.__transition__[e].ease=t})};yf.delay=function(n){var t=this.id;if(arguments.length<1)return this.node().__transition__[t].delay;return an(this,typeof n==="function"?function(e,r,i){e.__transition__[t].delay=+n.call(e,e.__data__,r,i)}:(n=+n,function(e){e.__transition__[t].delay=n}))};yf.duration=function(n){var t=this.id;if(arguments.length<1)return this.node().__transition__[t].duration;return an(this,typeof n==="function"?function(e,r,i){e.__transition__[t].duration=Math.max(1,n.call(e,e.__data__,r,i))}:(n=Math.max(1,n),function(e){e.__transition__[t].duration=n}))};yf.each=function(t,e){var r=this.id;if(arguments.length<2){var i=Mf,u=xf;xf=r;an(this,function(n,e,i){Mf=n.__transition__[r];t.call(n,n.__data__,e,i)});Mf=i;xf=u}else{an(this,function(i){var u=i.__transition__[r];(u.event||(u.event=n.dispatch("start","end"))).on(t,e)})}return this};yf.transition=function(){var n=this.id,t=++mf,e=[],r,i,u,o;for(var a=0,f=this.length;a<f;a++){e.push(r=[]);for(var i=this[a],l=0,c=i.length;l<c;l++){if(u=i[l]){o=Object.create(u.__transition__[n]);o.delay+=o.duration;bf(u,l,t,o)}r.push(u)}}return df(e,t)};function bf(t,e,r,i){var u=t.__transition__||(t.__transition__={active:0,count:0}),o=u[r];if(!o){var a=i.time;o=u[r]={tween:new x,time:a,ease:i.ease,delay:i.delay,duration:i.duration};++u.count;n.timer(function(i){var f=t.__data__,l=o.ease,c=o.delay,s=o.duration,h=Lt,p=[];h.t=c+a;if(c<=i)return g(i-c);h.c=g;function g(i){if(u.active>r)return d();u.active=r;o.event&&o.event.start.call(t,f,e);o.tween.forEach(function(n,r){if(r=r.call(t,f,e)){p.push(r)}});n.timer(function(){h.c=v(i||1)?rr:v;return 1},0,a)}function v(n){if(u.active!==r)return d();var i=n/s,a=l(i),c=p.length;while(c>0){p[--c].call(t,a)}if(i>=1){o.event&&o.event.end.call(t,f,e);return d()}}function d(){if(--u.count)delete u[r];else delete t.__transition__;return 1}},0,a)}}n.svg.axis=function(){var t=n.scale.linear(),e=Sf,r=6,i=6,u=3,o=[10],a=null,f;function l(l){l.each(function(){var l=n.select(this);var c=this.__chart__||t,s=this.__chart__=t.copy();var h=a==null?s.ticks?s.ticks.apply(s,o):s.domain():a,p=f==null?s.tickFormat?s.tickFormat.apply(s,o):_t:f,g=l.selectAll(".tick").data(h,s),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",An),d=n.transition(g.exit()).style("opacity",An).remove(),y=n.transition(g.order()).style("opacity",1),m;var x=Ko(s),M=l.selectAll(".domain").data([0]),w=(M.enter().append("path").attr("class","domain"),n.transition(M));v.append("line");v.append("text");var _=v.select("line"),b=y.select("line"),S=g.select("text").text(p),k=v.select("text"),N=y.select("text");switch(e){case"bottom":{m=Nf;_.attr("y2",r);k.attr("y",Math.max(r,0)+u);b.attr("x2",0).attr("y2",r);N.attr("x",0).attr("y",Math.max(r,0)+u);S.attr("dy",".71em").style("text-anchor","middle");w.attr("d","M"+x[0]+","+i+"V0H"+x[1]+"V"+i);break}case"top":{m=Nf;_.attr("y2",-r);k.attr("y",-(Math.max(r,0)+u));b.attr("x2",0).attr("y2",-r);N.attr("x",0).attr("y",-(Math.max(r,0)+u));S.attr("dy","0em").style("text-anchor","middle");w.attr("d","M"+x[0]+","+-i+"V0H"+x[1]+"V"+-i);break}case"left":{m=Ef;_.attr("x2",-r);k.attr("x",-(Math.max(r,0)+u));b.attr("x2",-r).attr("y2",0);N.attr("x",-(Math.max(r,0)+u)).attr("y",0);S.attr("dy",".32em").style("text-anchor","end");w.attr("d","M"+-i+","+x[0]+"H0V"+x[1]+"H"+-i);break}case"right":{m=Ef;_.attr("x2",r);k.attr("x",Math.max(r,0)+u);b.attr("x2",r).attr("y2",0);N.attr("x",Math.max(r,0)+u).attr("y",0);S.attr("dy",".32em").style("text-anchor","start");w.attr("d","M"+i+","+x[0]+"H0V"+x[1]+"H"+i);break}}if(s.rangeBand){var E=s,A=E.rangeBand()/2;c=s=function(n){return E(n)+A}}else if(c.rangeBand){c=s}else{d.call(m,s)}v.call(m,c);y.call(m,s)})}l.scale=function(n){if(!arguments.length)return t;t=n;return l};l.orient=function(n){if(!arguments.length)return e;e=n in kf?n+"":Sf;return l};l.ticks=function(){if(!arguments.length)return o;o=arguments;return l};l.tickValues=function(n){if(!arguments.length)return a;a=n;return l};l.tickFormat=function(n){if(!arguments.length)return f;f=n;return l};l.tickSize=function(n){var t=arguments.length;if(!t)return r;r=+n;i=+arguments[t-1];return l};l.innerTickSize=function(n){if(!arguments.length)return r;r=+n;return l};l.outerTickSize=function(n){if(!arguments.length)return i;i=+n;return l};l.tickPadding=function(n){if(!arguments.length)return u;u=+n;return l};l.tickSubdivide=function(){return arguments.length&&l};return l};var Sf="bottom",kf={top:1,right:1,bottom:1,left:1};function Nf(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}function Ef(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}n.svg.brush=function(){var t=P(h,"brushstart","brush","brushend"),e=null,r=null,i=[0,0],o=[0,0],a,f,l=true,c=true,s=Cf[0];function h(t){t.each(function(){var t=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d);var i=t.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=t.selectAll(".resize").data(s,_t);u.exit().remove();u.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Af[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");u.style("display",h.empty()?"none":null);var o=n.transition(t),a=n.transition(i),f;if(e){f=Ko(e);a.attr("x",f[0]).attr("width",f[1]-f[0]);g(o)}if(r){f=Ko(r);a.attr("y",f[0]).attr("height",f[1]-f[0]);v(o)}p(o)})}h.event=function(e){e.each(function(){var e=t.of(this,arguments),r={x:i,y:o,i:a,j:f},u=this.__chart__||r;this.__chart__=r;if(xf){n.select(this).transition().each("start.brush",function(){a=u.i;f=u.j;i=u.x;o=u.y;e({type:"brushstart"})}).tween("brush:brush",function(){var n=_u(i,r.x),t=_u(o,r.y);a=f=null;return function(u){i=r.x=n(u);o=r.y=t(u);e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=r.i;f=r.j;e({type:"brush",mode:"resize"});e({type:"brushend"})})}else{e({type:"brushstart"});e({type:"brush",mode:"resize"});e({type:"brushend"})}})};function p(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+i[+/e$/.test(n)]+","+o[+/^s/.test(n)]+")"})}function g(n){n.select(".extent").attr("x",i[0]);n.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1]-i[0])}function v(n){n.select(".extent").attr("y",o[0]);n.selectAll(".extent,.e>rect,.w>rect").attr("height",o[1]-o[0])}function d(){var s=this,d=n.select(n.event.target),y=t.of(s,arguments),m=n.select(s),x=d.datum(),M=!/^(n|s)$/.test(x)&&e,w=!/^(e|w)$/.test(x)&&r,_=d.classed("extent"),b=xn(),S,k=n.mouse(s),N;var E=n.select(u).on("keydown.brush",z).on("keyup.brush",L);if(n.event.changedTouches){E.on("touchmove.brush",T).on("touchend.brush",D)}else{E.on("mousemove.brush",T).on("mouseup.brush",D)}m.interrupt().selectAll("*").interrupt();if(_){k[0]=i[0]-k[0];k[1]=o[0]-k[1]}else if(x){var A=+/w$/.test(x),C=+/^n/.test(x);N=[i[1-A]-k[0],o[1-C]-k[1]];k[0]=i[A];k[1]=o[C]}else if(n.event.altKey)S=k.slice();m.style("pointer-events","none").selectAll(".resize").style("display",null);n.select("body").style("cursor",d.style("cursor"));y({type:"brushstart"});T();function z(){if(n.event.keyCode==32){if(!_){S=null;k[0]-=i[1];k[1]-=o[1];_=2}R()}}function L(){if(n.event.keyCode==32&&_==2){k[0]+=i[1];k[1]+=o[1];_=0;R()}}function T(){var t=n.mouse(s),u=false;if(N){t[0]+=N[0];t[1]+=N[1]}if(!_){if(n.event.altKey){if(!S)S=[(i[0]+i[1])/2,(o[0]+o[1])/2];k[0]=i[+(t[0]<S[0])];k[1]=o[+(t[1]<S[1])]}else S=null}if(M&&q(t,e,0)){g(m);u=true}if(w&&q(t,r,1)){v(m);u=true}if(u){p(m);y({type:"brush",mode:_?"move":"resize"})}}function q(n,t,e){var r=Ko(t),u=r[0],s=r[1],h=k[e],p=e?o:i,g=p[1]-p[0],v,d;if(_){u-=h;s-=g+h}v=(e?c:l)?Math.max(u,Math.min(s,n[e])):n[e];if(_){d=(v+=h)+g}else{if(S)h=Math.max(u,Math.min(s,2*S[e]-v));if(h<v){d=v;v=h}else{d=h}}if(p[0]!=v||p[1]!=d){if(e)f=null;else a=null;p[0]=v;p[1]=d;return true}}function D(){T();m.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null);n.select("body").style("cursor",null);E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);b();y({type:"brushend"})}}h.x=function(n){if(!arguments.length)return e;e=n;s=Cf[!e<<1|!r];return h};h.y=function(n){if(!arguments.length)return r;r=n;s=Cf[!e<<1|!r];return h};h.clamp=function(n){if(!arguments.length)return e&&r?[l,c]:e?l:r?c:null;if(e&&r)l=!!n[0],c=!!n[1];else if(e)l=!!n;else if(r)c=!!n;return h};h.extent=function(n){var t,u,l,c,s;if(!arguments.length){if(e){if(a){t=a[0],u=a[1]}else{t=i[0],u=i[1];if(e.invert)t=e.invert(t),u=e.invert(u);if(u<t)s=t,t=u,u=s}}if(r){if(f){l=f[0],c=f[1]}else{l=o[0],c=o[1];if(r.invert)l=r.invert(l),c=r.invert(c);if(c<l)s=l,l=c,c=s}}return e&&r?[[t,l],[u,c]]:e?[t,u]:r&&[l,c]}if(e){t=n[0],u=n[1];if(r)t=t[0],u=u[0];a=[t,u];if(e.invert)t=e(t),u=e(u);if(u<t)s=t,t=u,u=s;if(t!=i[0]||u!=i[1])i=[t,u]}if(r){l=n[0],c=n[1];if(e)l=l[1],c=c[1];f=[l,c];if(r.invert)l=r(l),c=r(c);if(c<l)s=l,l=c,c=s;if(l!=o[0]||c!=o[1])o=[l,c]}return h};h.clear=function(){if(!h.empty()){i=[0,0],o=[0,0];a=f=null}return h};h.empty=function(){return!!e&&i[0]==i[1]||!!r&&o[0]==o[1]};return n.rebind(h,t,"on")};var Af={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var Cf=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var zf=Yt.format=xe.timeFormat;var Lf=zf.utc;var Tf=Lf("%Y-%m-%dT%H:%M:%S.%LZ");zf.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?qf:Tf;function qf(n){return n.toISOString()}qf.parse=function(n){var t=new Date(n);return isNaN(t)?null:t};qf.toString=Tf.toString;Yt.second=$t(function(n){return new Zt(Math.floor(n/1e3)*1e3)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*1e3)},function(n){return n.getSeconds()});Yt.seconds=Yt.second.range;Yt.seconds.utc=Yt.second.utc.range;Yt.minute=$t(function(n){return new Zt(Math.floor(n/6e4)*6e4)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*6e4)},function(n){return n.getMinutes()});Yt.minutes=Yt.minute.range;Yt.minutes.utc=Yt.minute.utc.range;Yt.hour=$t(function(n){var t=n.getTimezoneOffset()/60;return new Zt((Math.floor(n/36e5-t)+t)*36e5)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*36e5)},function(n){return n.getHours()});Yt.hours=Yt.hour.range;Yt.hours.utc=Yt.hour.utc.range;Yt.month=$t(function(n){n=Yt.day(n);n.setDate(1);return n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()});Yt.months=Yt.month.range;Yt.months.utc=Yt.month.utc.range;function Rf(t,e,r){function i(n){return t(n)}i.invert=function(n){return Df(t.invert(n))};i.domain=function(n){if(!arguments.length)return t.domain().map(Df);t.domain(n);return i};function u(t,r){var i=t[1]-t[0],u=i/r,o=n.bisect(Pf,u);return o==Pf.length?[e.year,aa(t.map(function(n){return n/31536e6}),r)[2]]:!o?[If,aa(t,r)[2]]:e[u/Pf[o-1]<Pf[o]/u?o-1:o]}i.nice=function(n,t){var e=i.domain(),r=Go(e),o=n==null?u(r,10):typeof n==="number"&&u(r,n);if(o)n=o[0],t=o[1];function a(e){return!isNaN(e)&&!n.range(e,Df(+e+1),t).length}return i.domain(na(e,t>1?{floor:function(t){while(a(t=n.floor(t)))t=Df(t-1);return t},ceil:function(t){while(a(t=n.ceil(t)))t=Df(+t+1);return t}}:n))};i.ticks=function(n,t){var e=Go(i.domain()),r=n==null?u(e,10):typeof n==="number"?u(e,n):!n.range&&[{range:n},t];if(r)n=r[0],t=r[1];return n.range(e[0],Df(+e[1]+1),t<1?1:t)};i.tickFormat=function(){return r};i.copy=function(){return Rf(t.copy(),e,r)};return ua(i,t)}function Df(n){return new Date(n)}var Pf=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var Uf=[[Yt.second,1],[Yt.second,5],[Yt.second,15],[Yt.second,30],[Yt.minute,1],[Yt.minute,5],[Yt.minute,15],[Yt.minute,30],[Yt.hour,1],[Yt.hour,3],[Yt.hour,6],[Yt.hour,12],[Yt.day,1],[Yt.day,2],[Yt.week,1],[Yt.month,1],[Yt.month,3],[Yt.year,1]];var jf=zf.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&n.getDate()!=1}],["%b %d",function(n){return n.getDate()!=1}],["%B",function(n){return n.getMonth()}],["%Y",rr]]);var If={range:function(t,e,r){return n.range(Math.ceil(t/r)*r,+e,r).map(Df)},floor:_t,ceil:_t};Uf.year=Yt.year;Yt.scale=function(){return Rf(n.scale.linear(),Uf,jf)};var Hf=Uf.map(function(n){return[n[0].utc,n[1]]});var Ff=Lf.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&n.getUTCDate()!=1}],["%b %d",function(n){return n.getUTCDate()!=1}],["%B",function(n){return n.getUTCMonth()}],["%Y",rr]]);Hf.year=Yt.year.utc;Yt.scale.utc=function(){return Rf(n.scale.linear(),Hf,Ff)};n.text=bt(function(n){return n.responseText});n.json=function(n,t){return St(n,"application/json",Of,t)};function Of(n){return JSON.parse(n.responseText)}n.html=function(n,t){return St(n,"text/html",Yf,t)};function Yf(n){var t=r.createRange();t.selectNode(r.body);return t.createContextualFragment(n.responseText)}n.xml=bt(function(n){return n.responseXML});if(typeof define==="function"&&define.amd)define(n);else if(typeof module==="object"&&module.exports)module.exports=n;this.d3=n}();
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-core.js":function(){/*!
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(e,t){e.fn.zIndex=t;e.fn.enableSelection=t;e.fn.disableSelection=t;e.expr.pseudos.focusable=t;var n=0,i=/^ui-id-\d+$/;e.ui=e.ui||{};e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({focus:function(t){return function(n,i){return typeof n==="number"?this.each(function(){var t=this;setTimeout(function(){e(t).trigger("focus");if(i){i.call(t)}},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;if(e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))){t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0)}else{t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0)}return/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t){return this.css("zIndex",n)}if(this.length){var i=e(this[0]),r,s;while(i.length&&i[0]!==document){r=i.css("position");if(r==="absolute"||r==="relative"||r==="fixed"){s=parseInt(i.css("zIndex"),10);if(!isNaN(s)&&s!==0){return s}}i=i.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++n}})},removeUniqueId:function(){return this.each(function(){if(i.test(this.id)){e(this).removeAttr("id")}})}});function r(t,n){var i,r,o,u=t.nodeName.toLowerCase();if("area"===u){i=t.parentNode;r=i.name;if(!t.href||!r||i.nodeName.toLowerCase()!=="map"){return false}o=e("img[usemap='#"+r+"']")[0];return!!o&&s(o)}return(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}e.extend(e.expr.pseudos,{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return r(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),i=isNaN(n);return(i||n>=0)&&r(t,!i)}});if(!e("<a>").outerWidth(1).jquery){e.each(["Width","Height"],function(n,i){var r=i==="Width"?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function u(t,n,i,s){e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0;if(i){n-=parseFloat(e.css(t,"border"+this+"Width"))||0}if(s){n-=parseFloat(e.css(t,"margin"+this))||0}});return n}e.fn["inner"+i]=function(n){if(n===t){return o["inner"+i].call(this)}return this.each(function(){e(this).css(s,u(this,n)+"px")})};e.fn["outer"+i]=function(t,n){if(typeof t!=="number"){return o["outer"+i].call(this,t)}return this.each(function(){e(this).css(s,u(this,t,true,n)+"px")})}})}if(!e.fn.addBack){e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}if(e("<a>").data("a-b","a").removeData("a-b").data("a-b")){e.fn.removeData=function(t){return function(n){if(arguments.length){return t.call(this,e.camelCase(n))}else{return t.call(this)}}}(e.fn.removeData)}e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.support.selectstart="onselectstart"in document.createElement("div");e.fn.extend({disableSelection:function(){return this.on((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.off(".ui-disableSelection")}});e.extend(e.ui,{plugin:{add:function(t,n,i){var r,s=e.ui[t].prototype;for(r in i){s.plugins[r]=s.plugins[r]||[];s.plugins[r].push([n,i[r]])}},call:function(e,t,n){var i,r=e.plugins[t];if(!r||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11){return}for(i=0;i<r.length;i++){if(e.options[r[i][0]]){r[i][1].apply(e.element,n)}}}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden"){return false}var i=n&&n==="left"?"scrollLeft":"scrollTop",r=false;if(t[i]>0){return true}t[i]=1;r=t[i]>0;t[i]=0;return r}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-draggable.js":function(){/*!
 * jQuery UI Draggable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;if(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(e);if(!this.handle){return false}t(i.iframeFix===true?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix'></div>").css({background:"#fff",width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")});return true},_mouseStart:function(e){var i=this.options;this.helper=this._createHelper(e);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(t.ui.ddmanager){t.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt);this._setContainment();if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(t.ui.ddmanager&&!i.dropBehaviour){t.ui.ddmanager.prepareOffsets(this,e)}this._mouseDrag(e,true);if(t.ui.ddmanager){t.ui.ddmanager.dragStart(this,e)}return true},_mouseDrag:function(e,i){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(e);this.positionAbs=this._convertPositionTo("absolute");if(!i){var s=this._uiHash();if(this._trigger("drag",e,s)===false){this._mouseUp({});return false}this.position=s.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(t.ui.ddmanager){t.ui.ddmanager.drag(this,e)}return false},_mouseStop:function(e){var i=this,s=false;if(t.ui.ddmanager&&!this.options.dropBehaviour){s=t.ui.ddmanager.drop(this,e)}if(this.dropped){s=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!t.contains(this.element[0].ownerDocument,this.element[0])){return false}if(this.options.revert==="invalid"&&!s||this.options.revert==="valid"&&s||this.options.revert===true||typeof this.options.revert==="function"&&this.options.revert.call(this.element,s)){t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(i._trigger("stop",e)!==false){i._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(e){t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(t.ui.ddmanager){t.ui.ddmanager.dragStop(this,e)}return t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(e){var i=this.options,s=typeof i.helper==="function"?t(i.helper.apply(this.element[0],[e])):i.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!s.parents("body").length){s.appendTo(i.appendTo==="parent"?this.element[0].parentNode:i.appendTo)}if(s[0]!==this.element[0]&&!/(fixed|absolute)/.test(s.css("position"))){s.css("position","absolute")}return s},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(t.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left"in e){this.offset.click.left=e.left+this.margins.left}if("right"in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top"in e){this.offset.click.top=e.top+this.margins.top}if("bottom"in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;if(!o.containment){this.containment=null;return}if(o.containment==="window"){this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(o.containment==="document"){this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(o.containment.constructor===Array){this.containment=o.containment;return}if(o.containment==="parent"){o.containment=this.helper[0].parentNode}i=t(o.containment);s=i[0];if(!s){return}e=i.css("overflow")!=="hidden";this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=i},_convertPositionTo:function(e,i){if(!i){i=this.position}var s=e==="absolute"?1:-1,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}}return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,o,n,r=this.options,a=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=e.pageX,f=e.pageY;if(!this.offset.scroll){this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){s=this.relative_container.offset();i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]}else{i=this.containment}if(e.pageX-this.offset.click.left<i[0]){l=i[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<i[1]){f=i[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>i[2]){l=i[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>i[3]){f=i[3]+this.offset.click.top}}if(r.grid){o=r.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY;f=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o;n=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX;l=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n}}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(e,i,s){s=s||this._uiHash();t.ui.plugin.call(this,e,[i,s]);if(e==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),o=s.options,n=t.extend({},i,{item:s.element});s.sortables=[];t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");if(i&&!i.options.disabled){s.sortables.push({instance:i,shouldRevert:i.options.revert});i.refreshPositions();i._trigger("activate",e,n)}})},stop:function(e,i){var s=t(this).data("ui-draggable"),o=t.extend({},i,{item:s.element});t.each(s.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;s.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(e);this.instance.options.helper=this.instance.options._helper;if(s.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",e,o)}})},drag:function(e,i){var s=t(this).data("ui-draggable"),o=this;t.each(s.sortables,function(){var n=false,r=this;this.instance.positionAbs=s.positionAbs;this.instance.helperProportions=s.helperProportions;this.instance.offset.click=s.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){n=true;t.each(s.sortables,function(){this.instance.positionAbs=s.positionAbs;this.instance.helperProportions=s.helperProportions;this.instance.offset.click=s.offset.click;if(this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])){n=false}return n})}if(n){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return i.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=s.offset.click.top;this.instance.offset.click.left=s.offset.click.left;this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top;s._trigger("toSortable",e);s.dropped=this.instance.element;s.currentItem=s.element;this.instance.fromOutside=s}if(this.instance.currentItem){this.instance._mouseDrag(e)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}s._trigger("fromSortable",e);s.dropped=false}}})}});t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;if(e.css("cursor")){i._cursor=e.css("cursor")}e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;if(e._cursor){t("body").css("cursor",e._cursor)}}});t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),o=t(this).data("ui-draggable").options;if(s.css("opacity")){o._opacity=s.css("opacity")}s.css("opacity",o.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;if(s._opacity){t(i.helper).css("opacity",s._opacity)}}});t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");if(e.scrollParent[0]!==document&&e.scrollParent[0].tagName!=="HTML"){e.overflowOffset=e.scrollParent.offset()}},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,o=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!s.axis||s.axis!=="x"){if(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity){i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+s.scrollSpeed}else if(e.pageY-i.overflowOffset.top<s.scrollSensitivity){i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-s.scrollSpeed}}if(!s.axis||s.axis!=="y"){if(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity){i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+s.scrollSpeed}else if(e.pageX-i.overflowOffset.left<s.scrollSensitivity){i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-s.scrollSpeed}}}else{if(!s.axis||s.axis!=="x"){if(e.pageY-t(document).scrollTop()<s.scrollSensitivity){o=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed)}else if(t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity){o=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)}}if(!s.axis||s.axis!=="y"){if(e.pageX-t(document).scrollLeft()<s.scrollSensitivity){o=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed)}else if(t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity){o=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)}}}if(o!==false&&t.ui.ddmanager&&!s.dropBehaviour){t.ui.ddmanager.prepareOffsets(i,e)}}});t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[];t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();if(this!==e.element[0]){e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})}})},drag:function(e,i){var s,o,n,r,a,l,f,h,c,p,d=t(this).data("ui-draggable"),g=d.options,u=g.snapTolerance,m=i.offset.left,v=m+d.helperProportions.width,P=i.offset.top,b=P+d.helperProportions.height;for(c=d.snapElements.length-1;c>=0;c--){a=d.snapElements[c].left;l=a+d.snapElements[c].width;f=d.snapElements[c].top;h=f+d.snapElements[c].height;if(v<a-u||m>l+u||b<f-u||P>h+u||!t.contains(d.snapElements[c].item.ownerDocument,d.snapElements[c].item)){if(d.snapElements[c].snapping){d.options.snap.release&&d.options.snap.release.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[c].item}))}d.snapElements[c].snapping=false;continue}if(g.snapMode!=="inner"){s=Math.abs(f-b)<=u;o=Math.abs(h-P)<=u;n=Math.abs(a-v)<=u;r=Math.abs(l-m)<=u;if(s){i.position.top=d._convertPositionTo("relative",{top:f-d.helperProportions.height,left:0}).top-d.margins.top}if(o){i.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top}if(n){i.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left}if(r){i.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left}}p=s||o||n||r;if(g.snapMode!=="outer"){s=Math.abs(f-P)<=u;o=Math.abs(h-b)<=u;n=Math.abs(a-m)<=u;r=Math.abs(l-v)<=u;if(s){i.position.top=d._convertPositionTo("relative",{top:f,left:0}).top-d.margins.top}if(o){i.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top}if(n){i.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left}if(r){i.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left}}if(!d.snapElements[c].snapping&&(s||o||n||r||p)){d.options.snap.snap&&d.options.snap.snap.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[c].item}))}d.snapElements[c].snapping=s||o||n||r||p}}});t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(!s.length){return}e=parseInt(t(s[0]).css("zIndex"),10)||0;t(s).each(function(i){t(this).css("zIndex",e+i)});this.css("zIndex",e+s.length)}});t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),o=t(this).data("ui-draggable").options;if(s.css("zIndex")){o._zIndex=s.css("zIndex")}s.css("zIndex",o.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;if(s._zIndex){t(i.helper).css("zIndex",s._zIndex)}}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-droppable.js":function(){/*!
 * jQuery UI Droppable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
(function(e,t){function i(e,t,i){return e>t&&e<t+i}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,s=i.accept;this.isover=false;this.isout=true;this.accept=typeof s==="function"?s:function(e){return e.is(s)};this.proportions=function(){if(arguments.length){t=arguments[0]}else{return t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};e.ui.ddmanager.droppables[i.scope]=e.ui.ddmanager.droppables[i.scope]||[];e.ui.ddmanager.droppables[i.scope].push(this);i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=0,i=e.ui.ddmanager.droppables[this.options.scope];for(;t<i.length;t++){if(i[t]===this){i.splice(t,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if(t==="accept"){this.accept=typeof i==="function"?i:function(e){return e.is(i)}}e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=e.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(i){this._trigger("activate",t,this.ui(i))}},_deactivate:function(t){var i=e.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(i){this._trigger("deactivate",t,this.ui(i))}},_over:function(t){var i=e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",t,this.ui(i))}},_out:function(t){var i=e.ui.ddmanager.current;if(!i||(i.currentItem||i.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],i.currentItem||i.element)){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",t,this.ui(i))}},_drop:function(t,i){var s=i||e.ui.ddmanager.current,o=false;if(!s||(s.currentItem||s.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)){o=true;return false}});if(o){return false}if(this.accept.call(this.element[0],s.currentItem||s.element)){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",t,this.ui(s));return this.element}return false},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}});e.ui.intersect=function(e,t,s){if(!t.offset){return false}var o,r,n=(e.positionAbs||e.position.absolute).left,a=(e.positionAbs||e.position.absolute).top,l=n+e.helperProportions.width,p=a+e.helperProportions.height,u=t.offset.left,c=t.offset.top,h=u+t.proportions().width,f=c+t.proportions().height;switch(s){case"fit":return u<=n&&l<=h&&c<=a&&p<=f;case"intersect":return u<n+e.helperProportions.width/2&&l-e.helperProportions.width/2<h&&c<a+e.helperProportions.height/2&&p-e.helperProportions.height/2<f;case"pointer":o=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left;r=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return i(r,c,t.proportions().height)&&i(o,u,t.proportions().width);case"touch":return(a>=c&&a<=f||p>=c&&p<=f||a<c&&p>f)&&(n>=u&&n<=h||l>=u&&l<=h||n<u&&l>h);default:return false}};e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,i){var s,o,r=e.ui.ddmanager.droppables[t.options.scope]||[],n=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;s<r.length;s++){if(r[s].options.disabled||t&&!r[s].accept.call(r[s].element[0],t.currentItem||t.element)){continue}for(o=0;o<a.length;o++){if(a[o]===r[s].element[0]){r[s].proportions().height=0;continue e}}r[s].visible=r[s].element.css("display")!=="none";if(!r[s].visible){continue}if(n==="mousedown"){r[s]._activate.call(r[s],i)}r[s].offset=r[s].element.offset();r[s].proportions({width:r[s].element[0].offsetWidth,height:r[s].element[0].offsetHeight})}},drop:function(t,i){var s=false;e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)){s=this._drop.call(this,i)||s}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)){this.isout=true;this.isover=false;this._deactivate.call(this,i)}});return s},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){if(!t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}})},drag:function(t,i){if(t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var s,o,r,n=e.ui.intersect(t,this,this.options.tolerance),a=!n&&this.isover?"isout":n&&!this.isover?"isover":null;if(!a){return}if(this.options.greedy){o=this.options.scope;r=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===o});if(r.length){s=e.data(r[0],"ui-droppable");s.greedyChild=a==="isover"}}if(s&&a==="isover"){s.isover=false;s.isout=true;s._out.call(s,i)}this[a]=true;this[a==="isout"?"isover":"isout"]=false;this[a==="isover"?"_over":"_out"].call(this,i);if(s&&a==="isout"){s.isout=false;s.isover=true;s._over.call(s,i)}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable");if(!t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,i)}}}})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-mouse.js":function(){/*!
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(e,t){var s=false;e(document).on("mouseup",function(){s=false});e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(s){if(true===e.data(s.target,t.widgetName+".preventClickEvent")){e.removeData(s.target,t.widgetName+".preventClickEvent");s.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){e(document).off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(t){if(s){return}this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var o=this,i=t.which===1,u=typeof this.options.cancel==="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:false;if(!i||u||!this._mouseCapture(t)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){o.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==false;if(!this._mouseStarted){t.preventDefault();return true}}if(true===e.data(t.target,this.widgetName+".preventClickEvent")){e.removeData(t.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(e){return o._mouseMove(e)};this._mouseUpDelegate=function(e){return o._mouseUp(e)};e(document).on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();s=true;return true},_mouseMove:function(t){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button){return this._mouseUp(t)}if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==false;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){e(document).off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(t.target===this._mouseDownEvent.target){e.data(t.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(t)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
},
	"sap/ui/thirdparty/jqueryui/jquery-ui-widget.js":function(){/*!
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(t,e){var i=0,n=Array.prototype.slice,s=t.cleanData;t.cleanData=function(e){for(var i=0,n;(n=e[i])!=null;i++){try{t(n).triggerHandler("remove")}catch(t){}}s(e)};t.widget=function(e,i,n){var s,o,r,a,u={},l=e.split(".")[0];e=e.split(".")[1];s=l+"-"+e;if(!n){n=i;i=t.Widget}t.expr.pseudos[s.toLowerCase()]=function(e){return!!t.data(e,s)};t[l]=t[l]||{};o=t[l][e];r=t[l][e]=function(t,e){if(!this._createWidget){return new r(t,e)}if(arguments.length){this._createWidget(t,e)}};t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]});a=new i;a.options=t.widget.extend({},a.options);t.each(n,function(t,e){if(typeof e!=="function"){u[t]=e;return}u[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t=this._super,i=this._superApply,o;this._super=n;this._superApply=s;o=e.apply(this,arguments);this._super=t;this._superApply=i;return o}}()});r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},u,{constructor:r,namespace:l,widgetName:e,widgetFullName:s});if(o){t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)});delete o._childConstructors}else{i._childConstructors.push(r)}t.widget.bridge(e,r)};t.widget.extend=function(i){var s=n.call(arguments,1),o=0,r=s.length,a,u;for(;o<r;o++){for(a in s[o]){u=s[o][a];if(s[o].hasOwnProperty(a)&&u!==e){if(t.isPlainObject(u)){i[a]=t.isPlainObject(i[a])?t.widget.extend({},i[a],u):t.widget.extend({},u)}else{i[a]=u}}}}return i};t.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;t.fn[i]=function(r){var a=typeof r==="string",u=n.call(arguments,1),l=this;r=!a&&u.length?t.widget.extend.apply(null,[r].concat(u)):r;if(a){this.each(function(){var n,s=t.data(this,o);if(!s){return t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}if(typeof s[r]!=="function"||r.charAt(0)==="_"){return t.error("no such method '"+r+"' for "+i+" widget instance")}n=s[r].apply(s,u);if(n!==s&&n!==e){l=n&&n.jquery?l.pushStack(n.get()):n;return false}})}else{this.each(function(){var e=t.data(this,o);if(e){e.option(r||{})._init()}else{t.data(this,o,new s(r,this))}})}return l}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0];this.element=t(n);this.uuid=i++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=t.widget.extend({},this.options,this._getCreateOptions(),e);this.bindings=t();this.hoverable=t();this.focusable=t();if(n!==this){t.data(n,this.widgetFullName,this);this._on(true,this.element,{remove:function(t){if(t.target===n){this.destroy()}}});this.document=t(n.style?n.ownerDocument:n.document||n);this.window=t(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy();this.element.off(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName));this.widget().off(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.off(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var s=i,o,r,a;if(arguments.length===0){return t.widget.extend({},this.options)}if(typeof i==="string"){s={};o=i.split(".");i=o.shift();if(o.length){r=s[i]=t.widget.extend({},this.options[i]);for(a=0;a<o.length-1;a++){r[o[a]]=r[o[a]]||{};r=r[o[a]]}i=o.pop();if(arguments.length===1){return r[i]===e?null:r[i]}r[i]=n}else{if(arguments.length===1){return this.options[i]===e?null:this.options[i]}s[i]=n}}this._setOptions(s);return this},_setOptions:function(t){var e;for(e in t){this._setOption(e,t[e])}return this},_setOption:function(t,e){this.options[t]=e;if(t==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(e,i,n){var s,o=this;if(typeof e!=="boolean"){n=i;i=e;e=false}if(!n){n=i;i=this.element;s=this.widget()}else{i=s=t(i);this.bindings=this.bindings.add(i)}t.each(n,function(n,r){function a(){if(!e&&(o.options.disabled===true||t(this).hasClass("ui-state-disabled"))){return}return(typeof r==="string"?o[r]:r).apply(o,arguments)}if(typeof r!=="string"){a.guid=r.guid=r.guid||a.guid||t.guid++}var u=n.match(/^(\w+)\s*(.*)$/),l=u[1]+o.eventNamespace,f=u[2];if(f){s.delegate(f,l,a)}else{i.on(l,a)}})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(e).undelegate(e)},_delay:function(t,e){function i(){return(typeof t==="string"?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];n=n||{};i=t.Event(i);i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();i.target=this.element[0];o=i.originalEvent;if(o){for(s in o){if(!(s in i)){i[s]=o[s]}}}this.element.trigger(i,n);return!(typeof r==="function"&&r.apply(this.element[0],[i].concat(n))===false||i.isDefaultPrevented())}};t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){if(typeof s==="string"){s={effect:s}}var r,a=!s?e:s===true||typeof s==="number"?i:s.effect||i;s=s||{};if(typeof s==="number"){s={duration:s}}r=!t.isEmptyObject(s);s.complete=o;if(s.delay){n.delay(s.delay)}if(r&&t.effects&&t.effects.effect[a]){n[e](s)}else if(a!==e&&n[a]){n[a](s.duration,s.easing,o)}else{n.queue(function(i){t(this)[e]();if(o){o.call(n[0])}i()})}}})})(jQuery);
},
	"sap/ui/thirdparty/zyngascroll.js":function(){/*
 * Scroller
 * http://github.com/zynga/scroller
 *
 * Copyright 2011, Zynga Inc.
 * Licensed under the MIT License.
 * https://raw.github.com/zynga/scroller/master/MIT-LICENSE.txt
 *
 * Based on the work of: Unify Project (unify-project.org)
 * http://unify-project.org
 * Copyright 2011, Deutsche Telekom AG
 * License: MIT + Apache (V2)
 *
 * Inspired by: https://github.com/inexorabletash/raf-shim/blob/master/raf.js
 */
(function(e){if(e.requestAnimationFrame){return}var t=Date.now||function(){return+new Date};var i=Object.keys||function(e){var t={};for(var i in e){t[i]=true}return t};var o=Object.empty||function(e){for(var t in e){return false}return true};var _="RequestAnimationFrame";var l=function(){var t="webkit,moz,o,ms".split(",");for(var i=0;i<4;i++){if(e[t[i]+_]!=null){return t[i]}}}();if(l){e.requestAnimationFrame=e[l+_];e.cancelRequestAnimationFrame=e[l+"Cancel"+_];return}var r=60;var a={};var n=1;var c=null;e.requestAnimationFrame=function(e,o){var _=n++;a[_]=e;if(c===null){c=setTimeout(function(){var e=t();var o=a;var _=i(o);a={};c=null;for(var l=0,r=_.length;l<r;l++){o[_[l]](e)}},1e3/r)}return _};e.cancelRequestAnimationFrame=function(e){delete a[e];if(o(a)){clearTimeout(c);c=null}}})(this);
/*
 * Scroller
 * http://github.com/zynga/scroller
 *
 * Copyright 2011, Zynga Inc.
 * Licensed under the MIT License.
 * https://raw.github.com/zynga/scroller/master/MIT-LICENSE.txt
 *
 * Based on the work of: Unify Project (unify-project.org)
 * http://unify-project.org
 * Copyright 2011, Deutsche Telekom AG
 * License: MIT + Apache (V2)
 */(function(e){var t=Date.now||function(){return+new Date};var i=60;var o=1e3;var _={};var l=1;if(!e.core){e.core={effect:{}}}else if(!core.effect){core.effect={}}core.effect.Animate={stop:function(e){var t=_[e]!=null;if(t){_[e]=null}return t},isRunning:function(e){return _[e]!=null},start:function(e,r,a,n,c,s){var f=t();var u=f;var h=0;var v=0;var p=l++;if(!s){s=document.body}if(p%20===0){var m={};for(var g in _){m[g]=true}_=m}var T=function(l){var m=l!==true;var g=t();if(!_[p]||r&&!r(p)){_[p]=null;a&&a(i-v/((g-f)/o),p,false);return}if(m){var d=Math.round((g-u)/(o/i))-1;for(var S=0;S<Math.min(d,4);S++){T(true);v++}}if(n){h=(g-f)/n;if(h>1){h=1}}var L=c?c(h):h;if((e(L,g,m)===false||h===1)&&m){_[p]=null;a&&a(i-v/((g-f)/o),p,h===1||n==null)}else if(m){u=g;requestAnimationFrame(T,s)}};_[p]=true;requestAnimationFrame(T,s);return p}}})(this);
/*
 * Scroller
 * http://github.com/zynga/scroller
 *
 * Copyright 2011, Zynga Inc.
 * Licensed under the MIT License.
 * https://raw.github.com/zynga/scroller/master/MIT-LICENSE.txt
 *
 * Based on the work of: Unify Project (unify-project.org)
 * http://unify-project.org
 * Copyright 2011, Deutsche Telekom AG
 * License: MIT + Apache (V2)
 */var Scroller;(function(){Scroller=function(e,t){this.__callback=e;this.options={scrollingX:true,scrollingY:true,animating:true,bouncing:true,locking:true,paging:false,snapping:false,zooming:false,minZoom:.5,maxZoom:3};for(var i in t){this.options[i]=t[i]}};
// Easing Equations (c) 2003 Robert Penner, all rights reserved.
// Open source under the BSD License.
var e=function(e){return Math.pow(e-1,3)+1};var t=function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)};var i={__isSingleTouch:false,__isTracking:false,__isGesturing:false,__isDragging:false,__isDecelerating:false,__isAnimating:false,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:false,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,t,i,o){var _=this;if(e){_.__clientWidth=e}if(t){_.__clientHeight=t}if(i){_.__contentWidth=i}if(o){_.__contentHeight=o}_.__computeScrollMax();_.scrollTo(_.__scrollLeft,_.__scrollTop,true)},setPosition:function(e,t){var i=this;i.__clientLeft=e||0;i.__clientTop=t||0},setSnapSize:function(e,t){var i=this;i.__snapWidth=e;i.__snapHeight=t},activatePullToRefresh:function(e,t,i,o){var _=this;_.__refreshHeight=e;_.__refreshActivate=t;_.__refreshDeactivate=i;_.__refreshStart=o},finishPullToRefresh:function(){var e=this;e.__refreshActive=false;if(e.__refreshDeactivate){e.__refreshDeactivate()}e.scrollTo(e.__scrollLeft,e.__scrollTop,true)},getValues:function(){var e=this;return{left:e.__scrollLeft,top:e.__scrollTop,zoom:e.__zoomLevel}},getScrollMax:function(){var e=this;return{left:e.__maxScrollLeft,top:e.__maxScrollTop}},zoomTo:function(e,t,i,o){var _=this;if(!_.options.zooming){throw new Error("Zooming is not enabled!")}if(_.__isDecelerating){core.effect.Animate.stop(_.__isDecelerating);_.__isDecelerating=false}var l=_.__zoomLevel;if(i==null){i=_.__clientWidth/2}if(o==null){o=_.__clientHeight/2}e=Math.max(Math.min(e,_.options.maxZoom),_.options.minZoom);_.__computeScrollMax(e);var r=(i+_.__scrollLeft)*e/l-i;var a=(o+_.__scrollTop)*e/l-o;if(r>_.__maxScrollLeft){r=_.__maxScrollLeft}else if(r<0){r=0}if(a>_.__maxScrollTop){a=_.__maxScrollTop}else if(a<0){a=0}_.__publish(r,a,e,t)},zoomBy:function(e,t,i,o){var _=this;_.zoomTo(_.__zoomLevel*e,t,i,o)},scrollTo:function(e,t,i,o){var _=this;if(_.__isDecelerating){core.effect.Animate.stop(_.__isDecelerating);_.__isDecelerating=false}if(o!=null&&o!==_.__zoomLevel){if(!_.options.zooming){throw new Error("Zooming is not enabled!")}e*=o;t*=o;_.__computeScrollMax(o)}else{o=_.__zoomLevel}if(!_.options.scrollingX){e=_.__scrollLeft}else{if(_.options.paging){e=Math.round(e/_.__clientWidth)*_.__clientWidth}else if(_.options.snapping){e=Math.round(e/_.__snapWidth)*_.__snapWidth}}if(!_.options.scrollingY){t=_.__scrollTop}else{if(_.options.paging){t=Math.round(t/_.__clientHeight)*_.__clientHeight}else if(_.options.snapping){t=Math.round(t/_.__snapHeight)*_.__snapHeight}}e=Math.max(Math.min(_.__maxScrollLeft,e),0);t=Math.max(Math.min(_.__maxScrollTop,t),0);if(e===_.__scrollLeft&&t===_.__scrollTop){i=false}_.__publish(e,t,o,i)},scrollBy:function(e,t,i){var o=this;var _=o.__isAnimating?o.__scheduledLeft:o.__scrollLeft;var l=o.__isAnimating?o.__scheduledTop:o.__scrollTop;o.scrollTo(_+(e||0),l+(t||0),i)},doMouseZoom:function(e,t,i,o){var _=this;var l=e>0?.97:1.03;return _.zoomTo(_.__zoomLevel*l,false,i-_.__clientLeft,o-_.__clientTop)},doTouchStart:function(e,t){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var i=this;if(i.__isDecelerating){core.effect.Animate.stop(i.__isDecelerating);i.__isDecelerating=false}if(i.__isAnimating){core.effect.Animate.stop(i.__isAnimating);i.__isAnimating=false}var o,_;var l=e.length===1;if(l){o=e[0].pageX;_=e[0].pageY}else{o=Math.abs(e[0].pageX+e[1].pageX)/2;_=Math.abs(e[0].pageY+e[1].pageY)/2}i.__initialTouchLeft=o;i.__initialTouchTop=_;i.__zoomLevelStart=i.__zoomLevel;i.__lastTouchLeft=o;i.__lastTouchTop=_;i.__lastTouchMove=t;i.__lastScale=1;i.__enableScrollX=!l&&i.options.scrollingX;i.__enableScrollY=!l&&i.options.scrollingY;i.__isTracking=true;i.__isDragging=!l;i.__isSingleTouch=l;i.__positions=[]},doTouchMove:function(e,t,i){if(e.length==null){throw new Error("Invalid touch list: "+e)}if(t instanceof Date){t=t.valueOf()}if(typeof t!=="number"){throw new Error("Invalid timestamp value: "+t)}var o=this;if(!o.__isTracking){return}var _,l;if(e.length===2){_=Math.abs(e[0].pageX+e[1].pageX)/2;l=Math.abs(e[0].pageY+e[1].pageY)/2}else{_=e[0].pageX;l=e[0].pageY}var r=o.__positions;if(o.__isDragging){var a=_-o.__lastTouchLeft;var n=l-o.__lastTouchTop;var c=o.__scrollLeft;var s=o.__scrollTop;var f=o.__zoomLevel;if(i!=null&&o.options.zooming){var u=f;f=f/o.__lastScale*i;f=Math.max(Math.min(f,o.options.maxZoom),o.options.minZoom);if(u!==f){var h=_-o.__clientLeft;var v=l-o.__clientTop;c=(h+c)*f/u-h;s=(v+s)*f/u-v;o.__computeScrollMax(f)}}if(o.__enableScrollX){c-=a;var p=o.__maxScrollLeft;if(c>p||c<0){if(o.options.bouncing){c+=a/2}else if(c>p){c=p}else{c=0}}}if(o.__enableScrollY){s-=n;var m=o.__maxScrollTop;if(s>m||s<0){if(o.options.bouncing){s+=n/2;if(!o.__enableScrollX&&o.__refreshHeight!=null){if(!o.__refreshActive&&s<=-o.__refreshHeight){o.__refreshActive=true;if(o.__refreshActivate){o.__refreshActivate()}}else if(o.__refreshActive&&s>-o.__refreshHeight){o.__refreshActive=false;if(o.__refreshDeactivate){o.__refreshDeactivate()}}}}else if(s>m){s=m}else{s=0}}}if(r.length>60){r.splice(0,30)}r.push(c,s,t);o.__publish(c,s,f)}else{var g=o.options.locking?3:0;var T=5;var d=Math.abs(_-o.__initialTouchLeft);var S=Math.abs(l-o.__initialTouchTop);o.__enableScrollX=o.options.scrollingX&&d>=g;o.__enableScrollY=o.options.scrollingY&&S>=g;r.push(o.__scrollLeft,o.__scrollTop,t);o.__isDragging=(o.__enableScrollX||o.__enableScrollY)&&(d>=T||S>=T)}o.__lastTouchLeft=_;o.__lastTouchTop=l;o.__lastTouchMove=t;o.__lastScale=i},doTouchEnd:function(e){if(e instanceof Date){e=e.valueOf()}if(typeof e!=="number"){throw new Error("Invalid timestamp value: "+e)}var t=this;if(!t.__isTracking){return}t.__isTracking=false;if(t.__isDragging){t.__isDragging=false;if(t.__isSingleTouch&&t.options.animating&&e-t.__lastTouchMove<=100){var i=t.__positions;var o=i.length-1;var _=o;for(var l=o;l>0&&i[l]>t.__lastTouchMove-100;l-=3){_=l}if(_!==o){var r=i[o]-i[_];var a=t.__scrollLeft-i[_-2];var n=t.__scrollTop-i[_-1];t.__decelerationVelocityX=a/r*(1e3/60);t.__decelerationVelocityY=n/r*(1e3/60);var c=t.options.paging||t.options.snapping?4:1;if(Math.abs(t.__decelerationVelocityX)>c||Math.abs(t.__decelerationVelocityY)>c){if(!t.__refreshActive){t.__startDeceleration(e)}}}}}if(!t.__isDecelerating){if(t.__refreshActive&&t.__refreshStart){t.__publish(t.__scrollLeft,-t.__refreshHeight,t.__zoomLevel,true);if(t.__refreshStart){t.__refreshStart()}}else{t.scrollTo(t.__scrollLeft,t.__scrollTop,true,t.__zoomLevel);if(t.__refreshActive){t.__refreshActive=false;if(t.__refreshDeactivate){t.__refreshDeactivate()}}}}t.__positions.length=0},__publish:function(i,o,_,l){var r=this;var a=r.__isAnimating;if(a){core.effect.Animate.stop(a);r.__isAnimating=false}if(l&&r.options.animating){r.__scheduledLeft=i;r.__scheduledTop=o;r.__scheduledZoom=_;var n=r.__scrollLeft;var c=r.__scrollTop;var s=r.__zoomLevel;var f=i-n;var u=o-c;var h=_-s;var v=function(e,t,i){if(i){r.__scrollLeft=n+f*e;r.__scrollTop=c+u*e;r.__zoomLevel=s+h*e;if(r.__callback){r.__callback(r.__scrollLeft,r.__scrollTop,r.__zoomLevel)}}};var p=function(e){return r.__isAnimating===e};var m=function(e,t,i){if(t===r.__isAnimating){r.__isAnimating=false}if(r.options.zooming){r.__computeScrollMax()}};r.__isAnimating=core.effect.Animate.start(v,p,m,250,a?e:t)}else{r.__scheduledLeft=r.__scrollLeft=i;r.__scheduledTop=r.__scrollTop=o;r.__scheduledZoom=r.__zoomLevel=_;if(r.__callback){r.__callback(i,o,_)}if(r.options.zooming){r.__computeScrollMax()}}},__computeScrollMax:function(e){var t=this;if(e==null){e=t.__zoomLevel}t.__maxScrollLeft=Math.max(t.__contentWidth*e-t.__clientWidth,0);t.__maxScrollTop=Math.max(t.__contentHeight*e-t.__clientHeight,0)},__startDeceleration:function(e){var t=this;if(t.options.paging){var i=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0);var o=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0);var _=t.__clientWidth;var l=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(i/_)*_;t.__minDecelerationScrollTop=Math.floor(o/l)*l;t.__maxDecelerationScrollLeft=Math.ceil(i/_)*_;t.__maxDecelerationScrollTop=Math.ceil(o/l)*l}else{t.__minDecelerationScrollLeft=0;t.__minDecelerationScrollTop=0;t.__maxDecelerationScrollLeft=t.__maxScrollLeft;t.__maxDecelerationScrollTop=t.__maxScrollTop}var r=function(e,i,o){t.__stepThroughDeceleration(o)};var a=t.options.snapping?4:.1;var n=function(){return Math.abs(t.__decelerationVelocityX)>=a||Math.abs(t.__decelerationVelocityY)>=a};var c=function(e,i,o){t.__isDecelerating=false;t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(r,n,c)},__stepThroughDeceleration:function(e){var t=this;var i=t.__scrollLeft+t.__decelerationVelocityX;var o=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var _=Math.max(Math.min(t.__maxScrollLeft,i),0);if(_!==i){i=_;t.__decelerationVelocityX=0}var l=Math.max(Math.min(t.__maxScrollTop,o),0);if(l!==o){o=l;t.__decelerationVelocityY=0}}if(e){t.__publish(i,o,t.__zoomLevel)}else{t.__scrollLeft=i;t.__scrollTop=o}if(!t.options.paging){var r=.95;t.__decelerationVelocityX*=r;t.__decelerationVelocityY*=r}if(t.options.bouncing){var a=0;var n=0;var c=.03;var s=.08;if(i<t.__minDecelerationScrollLeft){a=t.__minDecelerationScrollLeft-i}else if(i>t.__maxDecelerationScrollLeft){a=t.__maxDecelerationScrollLeft-i}if(o<t.__minDecelerationScrollTop){n=t.__minDecelerationScrollTop-o}else if(o>t.__maxDecelerationScrollTop){n=t.__maxDecelerationScrollTop-o}if(a!==0){if(a*t.__decelerationVelocityX<=0){t.__decelerationVelocityX+=a*c}else{t.__decelerationVelocityX=a*s}}if(n!==0){if(n*t.__decelerationVelocityY<=0){t.__decelerationVelocityY+=n*c}else{t.__decelerationVelocityY=n*s}}}}};for(var o in i){Scroller.prototype[o]=i[o]}})();
this.Scroller=Scroller;
}
});
